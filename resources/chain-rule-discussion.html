<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Derivative Discussion Activity</title>
    <style>
        /* General Styles */
        body {
            font-family: sans-serif;
            text-align: center;
            padding: 20px;
            background-color: #f4f4f4;
            color: #333;
            position: relative;
            min-height: 100vh;
        }

        h1 {
            color: #2c3e50;
        }

        .instructions {
            font-size: 16px;
            color: #555;
            max-width: 600px;
            margin: 10px auto;
        }

        /* Problem Container */
        #problem-container {
            border: 2px solid #3498db;
            background-color: #fff;
            padding: 25px;
            margin: 20px auto;
            width: 80%;
            max-width: 700px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            display: none;
        }

        #problem {
            font-size: 24px;
            font-weight: bold;
            color: #e74c3c;
        }

        /* Answer Container */
        #answer-container {
            margin-top: 20px;
            display: none;
            font-size: 22px;
            color: #27ae60;
            background-color: #f1f8e9;
            padding: 15px;
            border-radius: 5px;
        }

        /* Buttons */
        #buttons {
            margin-top: 20px;
        }

        button {
            font-size: 18px;
            padding: 10px 15px;
            margin: 5px;
            border-radius: 5px;
            border: none;
            background-color: #3498db;
            color: white;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        button:hover {
            background-color: #2980b9;
        }

        button:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.5);
        }

        /* Accessibility */
        button:active {
            transform: scale(0.95);
        }

        /* Footer Styles */
        footer {
            font-size: 14px;
            color: #777;
            margin-top: 20px;
        }

        footer a {
            color: #3498db;
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        /* Initial Instructions */
        #initial-instructions {
            background-color: #f0f8ff;
            border: 2px solid #0073e6;
            padding: 20px;
            margin: 20px auto;
            max-width: 700px;
            border-radius: 10px;
            text-align: left;
        }

        #initial-instructions h2 {
            color: #0073e6;
            margin-bottom: 10px;
        }

        #initial-instructions p {
            margin-bottom: 5px;
        }

        /* Start Button */
        #start-button-container {
            margin-top: 30px;
        }

        #start-button {
            font-size: 24px;
            padding: 15px 30px;
        }
    </style>
    <script>
        /* MathJax Configuration */
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
            },
            svg: {
                fontCache: 'global'
            },
            startup: {
                pageReady: () => {
                    document.getElementById('start-button').addEventListener('click', startActivity);
                }
            }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
</head>

<body>

    <h1>Derivative Discussion Activity</h1>

    <div id="initial-instructions">
        <h2>Instructions:</h2>
        <p>
            1.  Work in small groups (2-4 students).
        </p>
        <p>
            2.  Solve the derivative problem displayed.
        </p>
        <p>
            3.  Discuss the methods and steps within your group.
        </p>
        <p>
            4.  Click the "Show Answer" button to check your solution.
        </p>
        <p>
            5.  Use the "Previous" and "Next" buttons to navigate.
        </p>
        <p>
            6.  Participate actively and collaborate!
        </p>
        <div id="start-button-container">
            <button id="start-button">Start Activity</button>
        </div>
    </div>

    <div id="problem-container">
        <p id="problem"></p>
        <div id="answer-container">
            <p id="answer"></p>
        </div>
        <button id="show-answer">Show Answer</button>
    </div>

    <div id="buttons">
        <button id="prev-problem">Previous</button>
        <button id="next-problem">Next</button>
    </div>

    <footer style="text-align: center;">
        Created by: <a href="https://kanth-vinay.github.io/" target="_blank">Vinay Kanth Rao Kodipelly</a>
    </footer>

    <script>
        /* Problem Set */
        const problems = [
            {
                problem: "Find $\\frac{dy}{dx}$ for $y = \\ln(\\frac{x^2 + 1}{x^2 - 1})$",
                answer: "$\\frac{-4x}{x^4 - 1}$"
            },
            {
                problem: "Differentiate: $y = e^{-x^2} \\cos(x)$",
                answer: "$-2xe^{-x^2}\\cos(x) - e^{-x^2}\\sin(x)$"
            },
            {
                problem: "If $f(x) = \\frac{x}{\\sqrt{x^2 + 1}}$, find $f'(x)$",
                answer: "$\\frac{1}{(x^2 + 1)^{3/2}}$"
            },
            {
                problem: "Find the derivative of $y = \\arctan(\\sqrt{x})$",
                answer: "$\\frac{1}{2\\sqrt{x}(1 + x)}$"
            },
            {
                problem: "Differentiate: $y = (\\sin x)^{\\tan x}$",
                answer: "$\\left(\\ln(\\sin x) \\sec^2 x + \\tan x \\cot x\\right) (\\sin x)^{\\tan x}$"
            },
            {
                problem: "Find $\\frac{dy}{dx}$ for $y = \\arcsin(e^x)$",
                answer: "$\\frac{e^x}{\\sqrt{1 - e^{2x}}}$"
            },
            {
                problem: "If $f(x) = \\ln(\\tan(2x))$, find $f'(x)$",
                answer: "$4 \\csc(4x)$"
            },
            {
                problem: "Differentiate: $y = x^{\\ln(x)}$",
                answer: "$\\frac{2\\ln(x)x^{\\ln(x)}}{x}$"
            },
            {
                problem: "Find $\\frac{dy}{dx}$ for $y = \\arccos(\\frac{1}{x})$",
                answer: "$\\frac{1}{x\\sqrt{x^2 - 1}}$"
            },
            {
                problem: "Differentiate: $y = \\sqrt{\\frac{1 - x}{1 + x}}$",
                answer: "$\\frac{-1}{(1 + x)\\sqrt{1 - x^2}}$"
            },
            {
                problem: "Find the derivative of $y = \\log_2(x^2)$",
                answer: "$\\frac{2}{x \\ln(2)}$"
            },
            {
                problem: "Differentiate: $y = \\sinh^{-1}(\\tan x)$",
                answer: "$\\frac{\\sec^2 x}{\\sqrt{1 + \\tan^2 x}} = |\\sec x|$"
            },
            {
                problem: "Find $\\frac{dy}{dx}$ for $y = \\tanh(x^2)$",
                answer: "$2x \\operatorname{sech}^2(x^2)$"
            },
            {
                problem: "Differentiate: $y = \\coth^{-1}(\\sec x)$",
                answer: "$\\frac{-\\sec x \\tan x}{\\sec^2 x - 1} = -\\csc x$"
            },
            {
                problem: "Find the derivative of $y = \\operatorname{csch}^{-1}(\\cot x)$",
                answer: "$\\frac{\\csc^2 x}{\\cot x \\sqrt{\\cot^2 x + 1}} = \\csc x$"
            },
            {
                problem: "Differentiate: $y = \\operatorname{sech}(e^x)$",
                answer: "$-e^x \\operatorname{sech}(e^x) \\tanh(e^x)$"
            },
            {
                problem: "Find $\\frac{dy}{dx}$ for $y = \\operatorname{csch}(\\ln x)$",
                answer: "$\\frac{-\\coth(\\ln x) \\operatorname{csch}(\\ln x)}{x}$"
            },
            {
                problem: "Differentiate: $y = \\ln(\\cosh x)$",
                answer: "$\\tanh x$"
            }
        ];

        let currentProblemIndex = 0;
        let answerVisible = false;

        /* Display Problem Function */
        function displayProblem() {
            document.getElementById("problem").innerHTML = problems[currentProblemIndex].problem;
            document.getElementById("answer").innerHTML = problems[currentProblemIndex].answer;
            document.getElementById("answer-container").style.display = "none";
            answerVisible = false;
            MathJax.typesetPromise();
            updateButtonStates();
        }

        /* Setup Buttons Function */
        function setupButtons() {
            const showAnswerButton = document.getElementById("show-answer");
            const nextProblemButton = document.getElementById("next-problem");
            const prevProblemButton = document.getElementById("prev-problem");

            showAnswerButton.addEventListener("click", toggleAnswerVisibility);
            nextProblemButton.addEventListener("click", goToNextProblem);
            prevProblemButton.addEventListener("click", goToPreviousProblem);

            updateButtonStates();
        }

        /* Toggle Answer Visibility Function */
        function toggleAnswerVisibility() {
            answerVisible = !answerVisible;
            const answerContainer = document.getElementById("answer-container");
            answerContainer.style.display = answerVisible ? "block" : "none";
            MathJax.typesetPromise();
        }

        /* Go To Next Problem Function */
        function goToNextProblem() {
            currentProblemIndex = (currentProblemIndex + 1) % problems.length;
            displayProblem();
        }

        /* Go To Previous Problem Function */
        function goToPreviousProblem() {
            currentProblemIndex = (currentProblemIndex - 1 + problems.length) % problems.length;
            displayProblem();
        }

        /* Update Button States Function */
        function updateButtonStates() {
            const nextProblemButton = document.getElementById("next-problem");
            const prevProblemButton = document.getElementById("prev-problem");

            nextProblemButton.disabled = currentProblemIndex === problems.length - 1;
            prevProblemButton.disabled = currentProblemIndex === 0;
        }

        /* Start Activity Function */
        function startActivity() {
            const initialInstructions = document.getElementById("initial-instructions");
            const problemContainer = document.getElementById("problem-container");
            initialInstructions.style.display = "none";
            problemContainer.style.display = "block";
            displayProblem();
            setupButtons(); // Initialize buttons here!
        }
    </script>

</body>

</html>
