<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Slides on Steroids — Chapter 3: Applications of Differentiation</title>

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@500;600;700&display=swap" rel="stylesheet">

<!-- Reveal.js core CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.1.0/reveal.min.css"/>

<style>
  :root{
    --brand-primary:#00539C;
    --brand-secondary:#00325C;
    --accent-green:#2E7D32;
    --accent-orange:#EF6C00;
    --accent-red:#C62828;

    --bg:#ffffff;
    --text:#0f172a;
    --muted:#475569;
    --surface:#f5f7ff;
    --card:#ffffff;
    --border:#e2e8f0;
    --pill:#e6eef9;
  }
  body.dark{
    --bg:#0b1220;
    --text:#e6eaf3;
    --muted:#a7b2c5;
    --surface:#0f1a2b;
    --card:#121e32;
    --border:#20314d;
    --pill:#0e2a4a;
  }

  /* Base */
  html,body{height:100%;}
  body{background:var(--bg); color:var(--text); font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif; transition: background 0.3s ease, color 0.3s ease;}
  .reveal{color:var(--text);}
  .reveal h2,.reveal h3{font-family:Poppins, Inter, system-ui, sans-serif;}
  .reveal h2{color:var(--brand-secondary); font-weight:700; letter-spacing:.2px;}
  .reveal h3{color:var(--brand-primary); font-weight:600;}
  .reveal p, .reveal li{color:var(--text); text-align:left;}
  .reveal a{color:var(--brand-primary); text-decoration:none; border-bottom:1px solid color-mix(in lab, var(--brand-primary) 60%, transparent);}

  /* Vertical centering of all slides */
  .reveal .slides section{
    display:flex !important;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    gap:1rem;
    padding-top: 70px; /* Space for header */
    padding-bottom: 60px; /* Space for footer */
    min-height: 100%;
    box-sizing: border-box;
  }

  /* Fixed Header & Footer */
  .sos-header, .sos-footer {
    position:fixed; left:0; right:0; z-index:50;
    display:flex; align-items:center; justify-content:space-between;
    padding:.6rem 1.5rem; gap:.75rem;
    background: var(--brand-primary);
    color: #ffffff;
  }
  .sos-header{ top:0; border-bottom: 2px solid var(--brand-secondary); }
  .sos-footer{ bottom:0; border-top: 2px solid var(--brand-secondary); }

  .sos-h-left{font-weight:600;}
  .sos-h-center{justify-self:center; font-weight:700; letter-spacing: 0.5px;}
  .sos-h-right{justify-self:end;}

  .btn{
    appearance:none; border:1px solid #ffffff; background:transparent; color:#ffffff;
    padding:.45rem .75rem; border-radius:.6rem; font-weight:600; cursor:pointer;
    transition:transform .1s ease, background .2s ease, color .2s ease;
  }
  .btn:hover{
    transform:translateY(-1px);
    background: #ffffff;
    color: var(--brand-primary);
  }

  .footer-left{display:flex; gap:.5rem; flex-wrap:wrap;}
  .footer-right{font-size:.9rem; opacity: 0.8;}
  .pill.footer-pill {
    border:1px solid rgba(255,255,255,0.7); background:transparent; color:#ffffff; padding:.2rem .55rem; border-radius:999px; font-weight:600; text-decoration: none;
    transition: all 0.2s ease;
  }
  .pill.footer-pill a { color: #ffffff; text-decoration: none; border: 0;}
  .pill.footer-pill:hover { background: #ffffff; color: var(--brand-primary); }
  .pill.footer-pill:hover a { color: var(--brand-primary); }

  .badge{display:inline-flex; align-items:center; gap:.5rem; padding:.25rem .5rem; border-radius:999px;
    border:1px solid var(--border); background:var(--pill); color:var(--brand-primary); font-weight:600; font-size:.85rem;}
  .badge .dot{width:.5rem; height:.5rem; border-radius:50%; background:var(--brand-primary);}


  /* Cards & callouts */
  .callout{
    border-left:5px solid var(--accent-orange);
    background:color-mix(in lab, var(--accent-orange) 8%, var(--card));
    padding:1rem 1.5rem; border-radius:.5rem; width:min(100%, 900px);
  }
  .teal{border-left-color:var(--brand-primary); background:color-mix(in lab, var(--brand-primary) 8%, var(--card));}
  .success{border-left-color:var(--accent-green); background:color-mix(in lab, var(--accent-green) 8%, var(--card));}
  .danger{border-left-color:var(--accent-red); background:color-mix(in lab, var(--accent-red) 8%, var(--card));}
  .review-questions ul { list-style-type: decimal; padding-left: 20px; }
  .review-questions li { margin-bottom: 0.75em; }

  /* Process map (mind-map) */
  .process{
    display:flex; justify-content: center; gap:10px; align-items:stretch; width:min(100%, 1100px);
    list-style: none; padding: 0; flex-wrap: wrap;
  }
  .step{
    display:flex; flex: 1; flex-direction:column; align-items:center; text-align: center; gap:.4rem; padding:.6rem .4rem;
    background:var(--card); border:1px solid var(--border); border-radius:.8rem;
    box-shadow:0 4px 10px color-mix(in lab, var(--brand-primary) 8%, transparent);
    min-width: 140px;
    transition: all 0.2s ease-in-out;
  }
  .step .num{
    width:30px; height:30px; border-radius:50%; display:grid; place-items:center; font-weight:700; color:#fff; background:var(--brand-primary);
  }
  .step.active{outline:3px solid color-mix(in lab, var(--accent-orange) 60%, transparent); transform: translateY(-3px);}
  .arrow{
    text-align:center; font-size:1.5rem; color:var(--muted); align-self: center;
  }

  /* Interactive tools */
  .interactive-tool{
    width: min(100%, 1100px); background:var(--card); border:1px solid var(--border); border-radius:1rem; padding:1rem;
    display:grid; grid-template-columns: minmax(250px, 0.3fr) 1fr; gap:1rem;
    box-shadow:0 10px 24px color-mix(in lab, var(--brand-primary) 10%, transparent);
  }
  .controls{display:flex; flex-direction:column; gap:.6rem;}
  .control-row{display:grid; grid-template-columns:1fr 75px; gap:.5rem; align-items:center;}
  .control-row label{font-size:.9rem; color:var(--muted); font-weight:600;}
  .control-row input[type="range"]{width:100%;}
  .legend{display:flex; gap:.6rem; flex-wrap:wrap; align-items:center; font-size:.9rem; color:var(--muted); margin-top: 1rem;}
  .chip{display:inline-flex; align-items:center; gap:.35rem; padding:.15rem .5rem; border-radius:999px; border:1px dashed var(--border); background:var(--surface);}
  .chip .dot {width:.6rem; height:.6rem; border-radius:50%;}

  canvas.tool-canvas{width:100%; height:400px; background:var(--surface); border:1px solid var(--border); border-radius:.75rem;}

  /* Flip cards */
  .cards{display:grid; grid-template-columns:repeat(auto-fit, minmax(280px,1fr)); gap:1rem; width:min(100%, 1100px);}
  .card{
    perspective:1000px; height:260px;
  }
  .card-inner{
    width:100%; height:100%; position:relative; transform-style:preserve-3d;
    transition:transform .6s ease;
    cursor: pointer;
  }
  .card.flip .card-inner{transform:rotateY(180deg);}
  .card-face{
    position:absolute; inset:0; backface-visibility:hidden; border:1px solid var(--border); border-radius:.8rem; padding:1rem; background:var(--card);
    display:flex; flex-direction:column; justify-content:center; align-items:flex-start; gap:.5rem;
  }
  .card-face h4{margin:0; color:var(--brand-secondary);}
  .card-face.back{transform:rotateY(180deg);}
  .tag{font-size:.75rem; font-weight:700; letter-spacing:.3px; text-transform:uppercase; color:var(--brand-primary);}

  /* “Pedagogical tables” */
  .pedago{
    width:min(100%, 1000px); border-collapse:separate; border-spacing:0; overflow:hidden; border-radius:.8rem; border:1px solid var(--border);
  }
  .pedago th, .pedago td{padding:.7rem .8rem; border-bottom:1px solid var(--border); vertical-align:top;}
  .pedago thead th{background:var(--surface); color:var(--brand-secondary); text-align:left;}
  .pedago tr:last-child td{border-bottom:0;}
  .pill{border:1px solid var(--border); background:var(--surface); color:var(--brand-primary); padding:.2rem .55rem; border-radius:999px; font-weight:600; text-decoration: none;}
  .pill-pos{background:color-mix(in lab, var(--accent-green) 15%, var(--surface)); color:var(--accent-green); border:1px solid color-mix(in lab, var(--accent-green) 35%, var(--surface));}
  .pill-neg{background:color-mix(in lab, var(--accent-red) 12%, var(--surface)); color:var(--accent-red); border:1px solid color-mix(in lab, var(--accent-red) 35%, var(--surface));}
  .pill-warn{background:color-mix(in lab, var(--accent-orange) 12%, var(--surface)); color:var(--accent-orange); border:1px solid color-mix(in lab, var(--accent-orange) 35%, var(--surface));}

  /* 2x2 grid with tooltips */
  .grid2x2{
    width:min(100%, 900px);
    display:grid; grid-template-columns:1fr 1fr; border:1px solid var(--border); border-radius:.8rem; overflow:hidden;
  }
  .grid2x2 .cell{
    min-height:100px; padding:1rem; border-right:1px solid var(--border); border-bottom:1px solid var(--border); position:relative;
  }
  .grid2x2 .cell:nth-child(2n){border-right:0;}
  .grid2x2 .cell:nth-last-child(-n+2){border-bottom:0;}
  .cell.good{background:color-mix(in lab, var(--accent-green) 12%, var(--card));}
  .cell.bad{background:color-mix(in lab, var(--accent-red) 12%, var(--card));}
  .tip{position:absolute; bottom:.5rem; right:.5rem; font-size:1.2rem; color:var(--muted); cursor: help;}
  .tip[data-tip]:hover:after{
    content:attr(data-tip); position:absolute; bottom:125%; right:0; background:var(--card); border:1px solid var(--border); padding:.4rem .6rem; border-radius:.5rem; color:var(--text); width:220px;
    box-shadow:0 8px 20px rgba(0,0,0,.2);
    z-index: 10;
  }

  /* Utility */
  .w-wide{width:min(100%, 1100px);}
  .muted{color:var(--muted);}
  .center{text-align:center;}
  .left{text-align:left;}
  .small{font-size:.9rem;}
  .tight p{margin:.35rem 0;}
  .mt-1{margin-top:.5rem;}
  .mt-2{margin-top:1rem;}
  .mt-3{margin-top:1.5rem;}
  .code{font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; background:var(--surface); border:1px dashed var(--border); padding:.2rem .4rem; border-radius:.4rem;}
  .accent{color:var(--accent-orange); font-weight:700;}
</style>
</head>
<body>

<!-- Fixed Header -->
<header class="sos-header" role="banner" aria-label="Slide header">
  <div class="sos-h-left">Prof. Vinay Kanth Rao Kodipelly</div>
  <div id="topic-slot" class="sos-h-center">Chapter 3 · Applications of Differentiation</div>
  <div class="sos-h-right">
    <button id="themeToggle" class="btn" aria-pressed="false" aria-label="Toggle theme">Theme: Light</button>
  </div>
</header>

<!-- Reveal root -->
<div class="reveal">
  <div class="slides">

    <!-- TITLE -->
    <section data-state="title">
      <h2>Applications of Differentiation</h2>
      <h3>Chapter 3 · Curve Sketching with Derivatives</h3>
      <div class="mt-2" style="display:flex; gap: 0.5rem;">
          <div class="badge"><span class="dot"></span> University of Missouri–St. Louis</div>
          <div class="badge"><span class="dot"></span> Active Learning Institute</div>
      </div>
      <p class="muted small mt-1">"Slides on Steroids" · Designed for live, interactive teaching.</p>
    </section>

    <!-- REVIEW QUIZ -->
    <section>
        <h2>Quick Review: Foundational Concepts</h2>
        <div class="callout teal w-wide review-questions">
            <h3>Let's recall a few key ideas before we begin:</h3>
            <ul>
                <li>What is the domain of any polynomial function?</li>
                <li>Polynomials are always <strong>continuous</strong> and <strong>smooth</strong>. What does this mean for their graphs?</li>
                <li>What does the slope of a tangent line at a point tell us about a function?</li>
                <li>How do we mathematically find the slope of the tangent line at any point \(x\)?</li>
            </ul>
        </div>
    </section>

    <!-- ANALOGY -->
    <section>
      <h2>Analogy: Hiking a Landscape</h2>
      <div class="callout teal w-wide">
        <p><strong>Think of a hike along a hilly trail.</strong> Your <em>altitude</em> is \( f(x) \). The <em>steepness</em> of the trail at each step is \( f'(x) \). The <em>change in steepness</em> is \( f''(x) \).</p>
        <div style="display:flex; flex-wrap: wrap; gap: 0.5rem; margin-top: 1rem;">
          <span class="pill pill-pos">\( f'(x) > 0 \) → Going uphill (increasing)</span>
          <span class="pill pill-neg">\( f'(x) < 0 \) → Going downhill (decreasing)</span>
          <span class="pill pill-warn">\( f''(x) \) → Trail curving up or down</span>
        </div>
      </div>
    </section>

    <!-- PROCESS MAP -->
    <section data-state="process-map">
      <h2>Roadmap for Curve Sketching</h2>
      <ul class="process">
        <li class="step active"><div class="num">1</div><div>Derivatives & Domain</div></li>
        <li class="arrow">&rarr;</li>
        <li class="step"><div class="num">2</div><div>Critical Values</div></li>
        <li class="arrow">&rarr;</li>
        <li class="step"><div class="num">3</div><div>Test for Extrema</div></li>
        <li class="arrow">&rarr;</li>
        <li class="step"><div class="num">4</div><div>Inflection Points</div></li>
        <li class="arrow">&rarr;</li>
        <li class="step"><div class="num">5</div><div>Sketch Graph</div></li>
      </ul>
      <p class="muted small">We’ll highlight the current step as we proceed.</p>
    </section>

    <!-- INTERACTIVE VISUALIZER: First Derivative Test -->
    <section>
      <h2>Interactive Visualizer: First Derivative Test</h2>
      <p class="left w-wide">Explore \( f(x)=ax^3+bx^2+cx+d \). Move the sliders to change coefficients. We compute \( f'(x) \), mark critical values (extrema), and color the curve based on whether it is <span class="pill pill-pos">increasing</span> or <span class="pill pill-neg">decreasing</span>.</p>
      <div class="interactive-tool" id="viz-fprime">
        <div class="controls">
          <div class="control-row"><label>a (cubic)</label><input id="a" type="range" min="-3" max="3" step="0.1" value="2"></div>
          <div class="control-row"><label>b (quadratic)</label><input id="b" type="range" min="-6" max="6" step="0.1" value="-3"></div>
          <div class="control-row"><label>c (linear)</label><input id="c" type="range" min="-12" max="12" step="0.1" value="-12"></div>
          <div class="control-row"><label>d (constant)</label><input id="d" type="range" min="-20" max="20" step="1" value="12"></div>
          <div class="legend">
            <span class="chip"><span class="dot" style="background:var(--accent-green)"></span> increasing</span>
            <span class="chip"><span class="dot" style="background:var(--accent-red)"></span> decreasing</span>
            <span class="chip"><span class="dot" style="background:var(--brand-primary)"></span> \( f(x) \)</span>
          </div>
        </div>
        <div>
          <canvas id="canvas-fprime" class="tool-canvas" aria-label="Function and monotonicity plot"></canvas>
        </div>
      </div>
      <p class="small muted w-wide">Tip: Set \( a=2, b=-3, c=-12, d=12 \) to match the textbook example \( f(x)=2x^3-3x^2-12x+12 \).</p>
    </section>

    <!-- Pedagogical Decision Table: First Derivative Test -->
    <section>
      <h2>First-Derivative Test (Decision Table)</h2>
      <table class="pedago">
        <thead>
          <tr>
            <th class="left">Behavior at \(c\)</th>
            <th class="left">Sign of \(f'(x)\) to the Left</th>
            <th class="left">Sign of \(f'(x)\) to the Right</th>
            <th class="left">Conclusion</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Decreasing &rarr; Increasing</td><td><span class="pill pill-neg">Negative</span></td><td><span class="pill pill-pos">Positive</span></td><td><strong>Relative Minimum</strong> at \( x=c \)</td>
          </tr>
          <tr>
            <td>Increasing &rarr; Decreasing</td><td><span class="pill pill-pos">Positive</span></td><td><span class="pill pill-neg">Negative</span></td><td><strong>Relative Maximum</strong> at \( x=c \)</td>
          </tr>
          <tr>
            <td>Increasing &rarr; Increasing</td><td><span class="pill pill-pos">Positive</span></td><td><span class="pill pill-pos">Positive</span></td><td>Neither a max nor a min</td>
          </tr>
          <tr>
            <td>Decreasing &rarr; Decreasing</td><td><span class="pill pill-neg">Negative</span></td><td><span class="pill pill-neg">Negative</span></td><td>Neither a max nor a min</td>
          </tr>
        </tbody>
      </table>
      <p class="small muted w-wide">Use test values on either side of a critical value \( c \) to determine the signs.</p>
    </section>
    
    <!-- 2x2 Grid: Classifying Behavior -->
    <section>
      <h2>Classifying Behavior at a Critical Value \( c \)</h2>
      <div class="grid2x2">
        <div class="cell good">
          <strong>Relative Maximum</strong>
          <ul><li>\( f'(x): + \to - \)</li><li>Forms a peak at \( c \)</li></ul>
          <span class="tip" data-tip="The function was increasing to the left of c, and decreasing to the right.">?</span>
        </div>
        <div class="cell good">
          <strong>Relative Minimum</strong>
          <ul><li>\( f'(x): - \to + \)</li><li>Forms a valley at \( c \)</li></ul>
          <span class="tip" data-tip="The function was decreasing to the left of c, and increasing to the right.">?</span>
        </div>
        <div class="cell bad">
          <strong>Not an Extremum</strong>
          <ul><li>\( f'(x): + \to + \)</li><li>Increasing through \( c \)</li></ul>
          <span class="tip" data-tip="No sign change means the function flattens momentarily but continues increasing.">?</span>
        </div>
        <div class="cell bad">
          <strong>Not an Extremum</strong>
          <ul><li>\( f'(x): - \to - \)</li><li>Decreasing through \( c \)</li></ul>
          <span class="tip" data-tip="No sign change means the function flattens but continues decreasing.">?</span>
        </div>
      </div>
    </section>

    <!-- INTERACTIVE VISUALIZER: Second Derivative / Concavity -->
    <section>
      <h2>Interactive Visualizer: Second Derivative & Concavity</h2>
      <p class="left w-wide">This visualizer shows the graph of \( f(x)=x^2 e^{-x} \). The curve is colored to show where the graph is <span class="pill pill-pos">concave up</span> (\(f''>0\)) and <span class="pill pill-neg">concave down</span> (\(f''<0\)). Critical points are also marked.</p>
      <div class="interactive-tool" id="viz-second">
        <div class="controls">
          <div class="control-row"><label>x-min</label><input id="xmin" type="range" min="-4" max="0" step="0.5" value="-2"></div>
          <div class="control-row"><label>x-max</label><input id="xmax" type="range" min="2" max="8" step="0.5" value="6"></div>
          <div class="legend">
            <span class="chip"><span class="dot" style="background:var(--brand-primary)"></span> \( f(x) \)</span>
            <span class="chip"><span class="dot" style="background:var(--accent-orange)"></span> Critical points</span>
            <span class="chip"><span class="dot" style="background:var(--accent-green)"></span> Concave Up</span>
            <span class="chip"><span class="dot" style="background:var(--accent-red)"></span> Concave Down</span>
          </div>
        </div>
        <div>
          <canvas id="canvas-second" class="tool-canvas" aria-label="Concavity visual"></canvas>
        </div>
      </div>
      <p class="small muted w-wide">For this function, \(f(x)\) has a minimum at \( (0,0) \), a maximum at \( \bigl(2,4e^{-2}\bigr) \), and inflection points where the concavity (color) changes.</p>
    </section>
    
    <!-- Template Table: Writing Conclusions -->
    <section>
      <h2>Template: Writing Conclusions</h2>
      <table class="pedago">
        <thead><tr><th class="left">Goal</th><th class="left">Template Sentence</th></tr></thead>
        <tbody>
          <tr>
            <td>Classify an Extremum</td>
            <td>“Since \( f'(x) \) changes from <em>[sign]</em> to <em>[sign]</em> at \( x=c \), \( f \) has a relative <em>[maximum/minimum]</em> at \( (c,f(c)) \).”</td>
          </tr>
          <tr>
            <td>Use Second Derivative Test</td>
            <td>“At the critical value \( x=c \), \( f''(c) \) is <em>[positive/negative]</em>, which implies a relative <em>[minimum/maximum]</em>.”</td>
          </tr>
          <tr>
            <td>Describe Concavity</td>
            <td>“Because \( f''(x) \) is <em>[positive/negative]</em> on <em>[interval]</em>, the graph is <em>[concave up/down]</em> there.”</td>
          </tr>
          <tr>
            <td>Identify Inflection</td>
            <td>“Since \( f''(x) \) changes sign at \( x=x_0 \), the point \( (x_0,f(x_0)) \) is a point of inflection.”</td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- Practice Deck (flip cards) -->
    <section>
      <h2>Practice Flip Cards</h2>
      <div class="cards">
        <div class="card" tabindex="0"><div class="card-inner">
          <div class="card-face front"><span class="tag">Practice</span><h4>\( h(x)=x^4-\frac{8}{3}x^3 \)</h4><p>Find critical values and classify them.</p></div>
          <div class="card-face back"><span class="tag">Solution</span>
            <p>\( h'(x)=4x^3-8x^2=4x^2(x-2) \).<br>Critical values are \( x=0, 2 \).<br>
            Using the First-Derivative Test, the signs of \(h'(x)\) are \( (-, -, +) \) around the critical values. This indicates a relative minimum at \( x=2 \). At \(x=0\), there is no sign change, so it's not an extremum. Minimum point: \( (2, -16/3) \).</p>
          </div>
        </div></div>
        <div class="card" tabindex="0"><div class="card-inner">
          <div class="card-face front"><span class="tag">Practice</span><h4>\( g(x)=3-x^{1/3} \)</h4><p>Does this function have any relative extrema?</p></div>
          <div class="card-face back"><span class="tag">Solution</span>
            <p>\( g'(x)=-\frac{1}{3}x^{-2/3} = \frac{-1}{3\sqrt[3]{x^2}} \).<br>
            The derivative is undefined at the critical value \( x=0 \). However, since \(x^2\) is always non-negative, \( g'(x) \) is negative on both sides of 0. There is no sign change, so there are no relative extrema.</p>
          </div>
        </div></div>
        <div class="card" tabindex="0"><div class="card-inner">
          <div class="card-face front"><span class="tag">Practice</span><h4>\( f(x)=1+8x^2-x^4 \)</h4><p>Find all relative extrema & inflection points.</p></div>
          <div class="card-face back"><span class="tag">Solution</span>
            <p><strong>Extrema:</strong> \(f'(x) = 16x - 4x^3 = 4x(4-x^2)\). Critical values: \( x=0, \pm2 \).
            Using \(f''(x)=16-12x^2\), we find a relative min at \( (0,1) \) and relative maxes at \( (\pm2,17) \).<br>
            <strong>Inflection:</strong> Set \(f''(x)=0 \Rightarrow x=\pm\sqrt{4/3} = \pm\frac{2\sqrt{3}}{3} \).</p>
          </div>
        </div></div>
      </div>
    </section>

    <!-- End Slide -->
    <section data-state="end">
      <h2>Chapter 3 Summary</h2>
      <p class="muted">You can now use first and second derivatives to analyze and accurately sketch the graph of a function.</p>
       <div class="callout success w-wide">
        <ul>
          <li><strong>First Derivative \(f'(x)\):</strong> Determines intervals of increase/decrease and locates potential extrema.</li>
          <li><strong>Second Derivative \(f''(x)\):</strong> Determines intervals of concavity and locates potential inflection points.</li>
          <li><strong>Combined Strategy:</strong> A systematic process provides a powerful tool for understanding function behavior without extensive point-plotting.</li>
        </ul>
      </div>
      <div class="badge mt-2"><span class="dot"></span> “Slides on Steroids” by Vinay K. R. Kodipelly</div>
    </section>

  </div>
</div>

<!-- Fixed Footer -->
<footer class="sos-footer" role="contentinfo" aria-label="Slide footer">
  <div class="footer-left">
    <span class="pill footer-pill">University of Missouri–St. Louis</span>
    <a href="https://activestem.org" target="_blank" rel="noopener" class="pill footer-pill">ActiveSTEM.org</a>
  </div>
  <div class="footer-right">“Slides on Steroids” · Vinay K. R. Kodipelly</div>
</footer>

<!-- MathJax v3 -->
<script>
  window.MathJax = {
    tex: {
      inlineMath: [['\\(', '\\)']],
      displayMath: [['$$','$$']]
    },
    svg: { fontCache: 'global' }
  };
</script>
<script async id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

<!-- jStat (available if needed for numeric utilities) -->
<script src="https://cdn.jsdelivr.net/npm/jstat@latest/dist/jstat.min.js"></script>

<!-- Reveal.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.1.0/reveal.min.js"></script>

<script>
  // Reveal initialization
  Reveal.initialize({
    hash: true,
    controls: true,
    progress: true,
    center: false, // Centering is handled by CSS flexbox
    slideNumber: 'c/t',
    transition: 'fade'
  });

  // Theme Toggle
  const toggleBtn = document.getElementById('themeToggle');
  const body = document.body;
  const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
  
  function applyTheme(isDark) {
    if (isDark) {
      body.classList.add('dark');
      toggleBtn.textContent = 'Theme: Dark';
      toggleBtn.setAttribute('aria-pressed', 'true');
    } else {
      body.classList.remove('dark');
      toggleBtn.textContent = 'Theme: Light';
      toggleBtn.setAttribute('aria-pressed', 'false');
    }
    // Redraw canvases on theme change to update colors
    if(typeof drawFprime === 'function') setTimeout(drawFprime, 50);
    if(typeof drawSecond === 'function') setTimeout(drawSecond, 50);
  }

  toggleBtn.addEventListener('click', () => {
    applyTheme(!body.classList.contains('dark'));
  });
  
  applyTheme(prefersDark);


  // Header topic slot updates on slide change
  const topicSlot = document.getElementById('topic-slot');
  Reveal.on('slidechanged', e => {
    const h2 = e.currentSlide.querySelector('h2');
    topicSlot.textContent = h2 ? h2.textContent.trim() : 'Chapter 3 · Applications of Differentiation';
    
    if (e.currentSlide.dataset.state === 'process-map') {
        document.querySelectorAll('.process .step').forEach(s => s.classList.remove('active'));
        document.querySelector('.process .step').classList.add('active');
    }
  });

  // ---- Shared Canvas Drawing Utilities ----
  function getCssVar(name) { return getComputedStyle(document.body).getPropertyValue(name); }
  function mapX(x, xmin, xmax, w) { return (x - xmin) / (xmax - xmin) * w; }
  function mapY(y, ymin, ymax, h) { return (1 - (y - ymin) / (ymax - ymin)) * h; }

  function drawAxes(ctx, w, h, xmin, xmax, ymin, ymax) {
    ctx.clearRect(0, 0, w, h);
    ctx.fillStyle = getCssVar('--surface');
    ctx.fillRect(0, 0, w, h);
    ctx.strokeStyle = getCssVar('--border');
    ctx.lineWidth = 1;
    ctx.beginPath();
    for (let gx = Math.ceil(xmin); gx <= Math.floor(xmax); gx++) {
      const X = mapX(gx, xmin, xmax, w);
      ctx.moveTo(X, 0); ctx.lineTo(X, h);
    }
    for (let gy = Math.ceil(ymin); gy <= Math.floor(ymax); gy++) {
      const Y = mapY(gy, ymin, ymax, h);
      ctx.moveTo(0, Y); ctx.lineTo(w, Y);
    }
    ctx.stroke();
    ctx.strokeStyle = getCssVar('--muted');
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    const X0 = mapX(0, xmin, xmax, w), Y0 = mapY(0, ymin, ymax, h);
    ctx.moveTo(0, Y0); ctx.lineTo(w, Y0);
    ctx.moveTo(X0, 0); ctx.lineTo(X0, h);
    ctx.stroke();
  }

  function drawCurve(ctx, xs, ys, color, lw = 2) {
    ctx.strokeStyle = color; ctx.lineWidth = lw; ctx.beginPath();
    for (let i = 0; i < xs.length; i++) {
      const X = xs[i], Y = ys[i];
      if (i === 0) ctx.moveTo(X, Y); else ctx.lineTo(X, Y);
    }
    ctx.stroke();
  }
  
  function fixCanvasDPI(canvas) {
    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    if (canvas.width !== Math.round(rect.width * dpr) || canvas.height !== Math.round(rect.height * dpr)) {
      canvas.width = Math.round(rect.width * dpr);
      canvas.height = Math.round(rect.height * dpr);
      const ctx = canvas.getContext('2d');
      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
      return true; // Resized
    }
    return false; // No change
  }

  // ---- Interactive 1: First Derivative Test (cubic) ----
  const ctx1 = document.getElementById('canvas-fprime').getContext('2d');
  const sliders = ['a', 'b', 'c', 'd'].map(id => document.getElementById(id));
  
  function fx(a, b, c, d, x) { return ((a * x + b) * x + c) * x + d; }
  function fpx(a, b, c, x) { return (3 * a * x + 2 * b) * x + c; }

  function solveQuadratic(A, B, C) {
    if (Math.abs(A) < 1e-9) return Math.abs(B) < 1e-9 ? [] : [-C / B];
    const disc = B * B - 4 * A * C;
    if (disc < 0) return [];
    const s = Math.sqrt(disc);
    return [(-B - s) / (2 * A), (-B + s) / (2 * A)].sort((u, v) => u - v);
  }

  function drawFprime() {
    fixCanvasDPI(ctx1.canvas);
    const [a, b, c, d] = sliders.map(s => parseFloat(s.value));
    const w = ctx1.canvas.getBoundingClientRect().width, h = ctx1.canvas.getBoundingClientRect().height;
    const xmin = -5, xmax = 5, ymin = -25, ymax = 25;
    drawAxes(ctx1, w, h, xmin, xmax, ymin, ymax);

    const crit = solveQuadratic(3 * a, 2 * b, c);
    const N = 600, xs = [], ys = [];
    for (let i = 0; i <= N; i++) {
      const x = xmin + (xmax - xmin) * i / N;
      xs.push(mapX(x, xmin, xmax, w));
      ys.push(mapY(fx(a, b, c, d, x), ymin, ymax, h));
    }

    const cuts = [-Infinity, ...crit, Infinity];
    for (let i = 0; i < cuts.length - 1; i++) {
      const L = Math.max(cuts[i], xmin), R = Math.min(cuts[i+1], xmax);
      if (L >= R) continue;
      const mid = (L + R) / 2;
      const sign = Math.sign(fpx(a, b, c, mid));
      const color = sign >= 0 ? getCssVar('--accent-green') : getCssVar('--accent-red');
      
      const ptsX = [], ptsY = [];
      const iL = Math.floor((L - xmin) / (xmax - xmin) * N);
      const iR = Math.ceil((R - xmin) / (xmax - xmin) * N);
      for(let j = iL; j <= iR; j++) { ptsX.push(xs[j]); ptsY.push(ys[j]); }
      if(ptsX.length > 1) drawCurve(ctx1, ptsX, ptsY, color, 4);
    }
    
    drawCurve(ctx1, xs, ys, getCssVar('--brand-primary'), 2);

    crit.forEach(xc => {
      if (xc < xmin || xc > xmax) return;
      const yc = fx(a, b, c, d, xc);
      if (yc < ymin || yc > ymax) return;
      const X = mapX(xc, xmin, xmax, w), Y = mapY(yc, ymin, ymax, h);
      ctx1.fillStyle = getCssVar('--accent-orange');
      ctx1.beginPath(); ctx1.arc(X, Y, 5, 0, Math.PI * 2); ctx1.fill();
    });
  }
  sliders.forEach(el => el.addEventListener('input', drawFprime));
  
  // ---- Interactive 2: Concavity visual for f(x)=x^2 e^{-x} ----
  const ctx2 = document.getElementById('canvas-second').getContext('2d');
  const xminEl = document.getElementById('xmin'), xmaxEl = document.getElementById('xmax');
  
  function f2(x) { return x * x * Math.exp(-x); }
  function f2pp(x) { return Math.exp(-x) * (x * x - 4 * x + 2); }

  function drawSecond() {
    fixCanvasDPI(ctx2.canvas);
    let xmin = parseFloat(xminEl.value), xmax = parseFloat(xmaxEl.value);
    if (xmin >= xmax) { xmax = xmin + 1; xmaxEl.value = xmax; }
    const w = ctx2.canvas.getBoundingClientRect().width, h = ctx2.canvas.getBoundingClientRect().height;
    const ymin = -0.2, ymax = 1;
    drawAxes(ctx2, w, h, xmin, xmax, ymin, ymax);

    const N = 700, xs = [], ys = [];
    for (let i = 0; i <= N; i++) {
      const x = xmin + (xmax - xmin) * i / N;
      xs.push(mapX(x, xmin, xmax, w));
      ys.push(mapY(f2(x), ymin, ymax, h));
    }
    
    const infl = [2 - Math.SQRT2, 2 + Math.SQRT2];
    const cuts = [-Infinity, ...infl, Infinity];
    for(let i=0; i<cuts.length-1; i++) {
        const L = Math.max(cuts[i], xmin), R = Math.min(cuts[i+1], xmax);
        if (L >= R) continue;
        const mid = (L+R)/2;
        const sign = Math.sign(f2pp(mid));
        const color = sign >= 0 ? getCssVar('--accent-green') : getCssVar('--accent-red');
        
        const ptsX = [], ptsY = [];
        const iL = Math.floor((L - xmin) / (xmax - xmin) * N);
        const iR = Math.ceil((R - xmin) / (xmax - xmin) * N);
        for(let j=iL; j<=iR; j++) { ptsX.push(xs[j]); ptsY.push(ys[j]); }
        if (ptsX.length > 1) drawCurve(ctx2, ptsX, ptsY, color, 4);
    }
    
    drawCurve(ctx2, xs, ys, getCssVar('--brand-primary'), 2);

    [0, 2].forEach(xc => {
      if (xc < xmin || xc > xmax) return;
      const yc = f2(xc);
      if (yc < ymin || yc > ymax) return;
      const X = mapX(xc, xmin, xmax, w), Y = mapY(yc, ymin, ymax, h);
      ctx2.fillStyle = getCssVar('--accent-orange');
      ctx2.beginPath(); ctx2.arc(X, Y, 5, 0, Math.PI * 2); ctx2.fill();
    });
  }
  xminEl.addEventListener('input', drawSecond);
  xmaxEl.addEventListener('input', drawSecond);

  // ---- General Initializers ----
  window.addEventListener('resize', () => { 
      // A small delay helps ensure layout is settled before redrawing
      setTimeout(() => {
        drawFprime();
        drawSecond();
      }, 100);
  });
  
  document.querySelectorAll('.card').forEach(card => {
    const flipper = () => card.classList.toggle('flip');
    card.addEventListener('click', flipper);
    card.addEventListener('keydown', e => {
      if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); flipper(); }
    });
  });

  // Initial Draw
  Reveal.on('ready', event => {
      drawFprime();
      drawSecond();
  });
</script>

</body>
</html>
