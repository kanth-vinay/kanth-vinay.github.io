<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="light dark" />

  <title>RStudio Dashboard ‚Äî MATH 1320 Introductory Probability &amp; Statistics</title>
  <script>
  (function(){
    try {
      var mode = localStorage.getItem('pref_scheme_1320_r');
      if (mode === 'dark') document.documentElement.classList.add('dark');
    } catch(e) {}
  })();
  </script>

  <!-- KaTeX (for math) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
  <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
  <script>
  document.addEventListener("DOMContentLoaded", function () {
    try {
      renderMathInElement(document.body, {
        delimiters: [
          {left: "$$", right: "$$", display: true},
          {left: "$",  right: "$",  display: false}
        ],
        throwOnError: false
      });
    } catch (e) {}
  });
  </script>

  <!-- Prism (for code) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism.css">
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

  <style>
    /* === Course Design ‚Äî Seamless 3-column layout === */
    :root{
      --bg: #F8FAFC;
      --ink: #1E293B;
      --muted: #475569;
      --card: #FFFFFF;
      --border: #E2E8F0;
      --primary: #A10022;
      --primary-soft: #FDE8EA;
      --accent: #F59E0B;
      --link: #2563EB;
      --radius: 16px;
      --shadow: 0 6px 16px rgba(15, 23, 42, .08);
      --space: 20px;
      --ok: #16A34A;
      --info: #0EA5E9;
      --warn: #B45309;
      /* NEW: subtle side-column tints */
      --left-col: #F3F6FB;
      --right-col: #FAFAFC;
    }
    :root.dark{
      --bg: #0F172A;
      --ink: #F8FAFC;
      --muted: #CBD5E1;
      --card: #1E293B;
      --border: #334155;
      --link: #93C5FD;
      /* NEW: dark-mode tints */
      --left-col: #0E172A;
      --right-col: #111B34;
    }

    *{ box-sizing: border-box; }

    body{
      margin: 0;
      background: var(--bg);
      color: var(--ink);
      font: 16px/1.65 system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      /* overall page grid: header, hero, main, footer */
      display: grid;
      grid-template-rows: auto auto 1fr auto;
      grid-auto-rows: auto;
      min-height: 100vh;
    }

    a{ color: var(--link); text-decoration: none; border-bottom: 1px solid transparent; }
    a:hover{ border-bottom-color: var(--link); }
    a:focus-visible, button:focus-visible, [role="tab"]:focus-visible, select:focus-visible{
      outline: 3px solid var(--link);
      outline-offset: 2px;
      border-radius: 6px;
    }

    .wrap{ max-width: 1100px; margin: auto; padding: 0 16px; }

    /* Neutralize "cards" so the page looks academic/seamless */
    .card{ background: transparent; border: none; border-radius: 0; box-shadow: none; padding: 0; }

    .muted{ color: var(--muted); }
    .small{ font-size: .88rem; }
    .tiny{ font-size: .78rem; }
    .skip{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
    .skip:focus{left:16px;top:8px;width:auto;height:auto;padding:8px 12px;background:var(--card);border:1px solid var(--border);border-radius:6px;z-index:9999}
    html{scroll-behavior:smooth}

    .pill{
      display:inline-flex; gap:.4rem; align-items:center;
      padding:4px 10px; border:1px solid var(--border);
      border-radius:999px; background:var(--card);
      font-size:.82rem; font-weight:700;
    }
    /* Pill variants */
    .pill.important{background:var(--primary-soft);border-color:var(--primary);color:var(--primary)}
    .dark .pill.important{background:rgba(161,0,34,.18);border-color:var(--primary);color:#FFD1D9}
    .pill.gold{background:#FEF3C7;border-color:var(--accent);color:#92400E}
    .dark .pill.gold{background:rgba(245,158,11,.18);border-color:var(--accent);color:#FCD34D}
    .chip{display:inline-flex;align-items:center;gap:.35rem;padding:2px 8px;border-radius:999px;border:1px solid var(--border);font-size:.75rem;font-weight:700;margin-right:6px}
    .chip.exam{background:var(--primary-soft);border-color:var(--primary);color:var(--primary)}
    .chip.policy{color:#991B1B;background:#FFF1F2;border-color:#FECACA}
    .chip.resource{color:#075985;background:#ECFEFF;border-color:#BAE6FD}
    .chip.schedule{color:#92400E;background:#FFF7ED;border-color:#FED7AA}

    /* Header: simple, sticky, no card chrome */
    header{
      position: static; top: auto; z-index: auto;
      background: var(--bg);
      border-bottom: 1px solid var(--border);
      padding: 8px 0;
      box-shadow: none;
    }
    .header-content{
      display:flex; gap:var(--space); align-items:center;
      background:transparent; border:none; box-shadow:none;
      padding:0 16px;
    }
    .meta-top{ font-size:.85rem; color:var(--muted); letter-spacing:.1px; }
    .title-row{ display:flex; gap:12px; align-items:center; margin-top:4px; }
    .instructor-line{ font-weight:700; color:var(--primary); margin-top:2px; }
    .instructor-line strong{ font-weight:800; border-bottom:2px solid var(--primary-soft); padding-bottom:1px; }

    /* Hero */
    .hero{
      position: relative;
      margin: 0;
      padding: 36px 0 26px;
      background:
        radial-gradient(1200px 300px at 40% -50px, var(--primary-soft), transparent 60%),
        linear-gradient(to bottom, rgba(0,0,0,0) 0, rgba(0,0,0,0) 60%, rgba(0,0,0,0.02) 100%);
      border-bottom: 1px solid var(--border);
    }
    .dark .hero{
      background:
        radial-gradient(1200px 300px at 40% -50px, rgba(161,0,34,.18), transparent 60%),
        linear-gradient(to bottom, rgba(255,255,255,0.02) 0, rgba(255,255,255,0.00) 70%, rgba(255,255,255,0.03) 100%);
    }
    .hero-inner{
      position: relative;
      display: grid;
      grid-template-columns: 1fr;
      gap: 24px;
      align-items: center;
      padding: 0 16px;
    }
    .hero h1{ margin:.2rem 0 .3rem; font-size: clamp(1.6rem, 2.8vw + .6rem, 2.4rem); line-height: 1.15; letter-spacing: .2px; }
    .hero .byline{ margin:4px 0 8px; color:var(--muted); font-weight:600; }
    .hero .hero-kicker{ margin:4px 0 10px; }
    .hero .formula{ margin-top:6px; opacity:.75; }

    /* Copy button for code blocks */
    pre[class*="language-"]{ position: relative; }
    .copy-btn{
      position:absolute; top:8px; right:8px;
      padding:4px 8px;
      font-size:.75rem; font-weight:700;
      border:1px solid var(--border);
      background: var(--card);
      color: var(--ink);
      border-radius: 6px;
      cursor: pointer;
    }
    .copy-btn:hover{ background:#F1F5F9; }
    .dark .copy-btn:hover{ background:#334155; }

    /* Tabs (L3/L4) */
    .tabs{ margin-top:8px; }
    .tablist{
      display:flex; gap:6px; flex-wrap:wrap;
      border-bottom:1px solid var(--border);
      position: sticky; top: 0;
      background: var(--bg);
      padding-top:8px; z-index: 10;
    }
    .tab{
      appearance:none; background:transparent; border:none;
      border-bottom:3px solid transparent; border-radius:8px 8px 0 0;
      padding:10px 16px; cursor:pointer; font-weight:700; color:var(--muted);
    }
    .tab:hover{ color:var(--ink); background:#F1F5F9; }
    .dark .tab:hover{ background:#334155; }
    .tab[aria-selected="true"]{ color:var(--primary); border-bottom-color:var(--primary); }
    .tabpanel{ display:none; padding-top:var(--space); }
    .tabpanel.active{ display:block; }

    /* Main */
    main{ padding: var(--space) 0; }

    /* 3-column grid: fixed rails, flexible center */
    .layout-grid{
      display:grid;
      gap:var(--space);
      align-items:stretch;
      grid-template-columns: 280px minmax(0,1fr) 320px; /* Left | Main | Right */
      max-width:1100px; margin:0 auto; padding:0 16px;
      position:relative; /* for the ::before stripes */
    }
    /* Subtle side-column stripes spanning full grid height */
    @media (min-width: 1001px){
      .layout-grid::before{
        content:"";
        position:absolute; inset:0;
        background:
          linear-gradient(to right,
            var(--left-col) 0, var(--left-col) 280px,
            transparent 280px calc(100% - 320px),
            var(--right-col) calc(100% - 320px), var(--right-col) 100%);
        z-index:0;
      }
      .layout-grid > *{ position: relative; z-index: 1; }
    }

    /* Panels */
    .content-panel{ display:none; }
    .content-panel.active{ display:block; }

    /* Collapsible nav group (details/summary) */
    .nav-group{ margin: 0 0 8px; }
    .nav-group > summary{
      list-style: none;
      cursor: pointer;
      font-weight: 800;
      color: var(--muted);          /* closed state muted */
      padding: 6px 8px;
      border-bottom: 1px solid var(--border);
      border-radius: 6px 6px 0 0;
    }
    .nav-group[open] > summary{
      background: var(--primary-soft);  /* open = highlighted */
      color: var(--primary);
    }
    .nav-sublist{
      list-style: none;
      margin: 6px 0 0;
      padding: 0 4px 0 0;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    /* SUB-NAV (No longer used, but kept for future) */
    .nav-sublist-sub{
      list-style: none;
      margin: 4px 0 0;
      padding: 0 4px 0 24px;
      display: none;
      flex-direction: column;
      gap: 3px;
    }
    .nav-sublist-sub .nav-indent{
      font-size: .85rem;
    }
    .nav-sublist a{ padding-left: 12px; }

    /* Left rail: fixed with internal scroll, no chrome */
    .nav-rail{
      position: sticky; top: var(--space);
      background: transparent; border: none; border-radius: 0; box-shadow: none;
      padding: 8px 12px;
      max-height: calc(100vh - var(--space)*2);
      overflow-y: auto;
    }
    .nav-rail h3{ font-size:1rem; font-weight:800; color:var(--primary); margin:6px 0 8px; padding-bottom:6px; border-bottom:1px solid var(--border); }
    .nav-list{ list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:4px; }
    .nav-list a{ display:block; padding:8px 12px; border-radius:8px; font-weight:700; color:var(--ink); border:1px solid transparent; }
    .nav-list a:hover{ background:#F1F5F9; color:var(--ink); text-decoration:none; border-bottom:1px solid transparent; }
    .dark .nav-list a:hover{ background:#334155; }
    .nav-list a[aria-selected="true"]{ background:var(--primary-soft); color:var(--primary); border-color:var(--primary); }
    .nav-list .nav-indent{ padding-left:28px; font-weight:500; position:relative; }
    .nav-list .nav-indent::before{ content:"‚Ä¢"; position:absolute; left:12px; color:var(--muted); font-size:.8rem; }

    /* Right rail: fixed with internal scroll, no chrome */
    .sidebar-aside{ position: sticky; top: var(--space); max-height: calc(100vh - var(--space)*2); overflow-y: auto; }
    .sidebar-card{ background: transparent; border: none; border-radius: 0; box-shadow: none; padding: 8px 12px; }
    .sidebar-card h3{ margin:0 0 10px; font-size:1rem; font-weight:800; border-bottom:1px solid var(--border); padding-bottom:8px; }
    .sidebar-table{ width:100%; border-collapse:collapse; font-size:.85rem; }
    .sidebar-table th, .sidebar-table td{ text-align:left; padding:6px 4px; border-bottom:1px solid var(--border); vertical-align:top; }
    .sidebar-table th{ color:var(--muted); }
    .sidebar-table tr:last-child th, .sidebar-table tr:last-child td{ border-bottom:none; }
    .sidebar-table code{ font-family:monospace; background:var(--primary-soft); color:var(--primary); padding:2px 5px; border-radius:4px; font-size:.9em; }

    /* Responsive */
    @media (max-width: 1000px){
      .layout-grid{ grid-template-columns:1fr; padding:0 16px; }
      .nav-rail, .sidebar-aside{ position: static; max-height:none; overflow-y: visible; }
      header{ position: static; border-bottom: 1px solid var(--border); padding: 16px 0; }
    }

    /* Code & Math styling */
    pre[class*="language-"]{
      padding:14px; margin:12px 0;
      border-radius:12px; border:1px solid var(--border);
      box-shadow:0 2px 4px rgba(0,0,0,.05);
      overflow-x: auto; /* ADDED: For horizontal scrolling on long code lines */
    }
    .katex-display{ overflow-x:auto; overflow-y:hidden; padding:8px 0; }

    /* Command cards (used in Descriptive tab) */
    .command-card{
      background: var(--card);
      border:1px solid var(--border);
      border-radius:12px;
      box-shadow: var(--shadow);
      padding:12px 14px;
      margin:12px 0;
    }
    .command-card .card-header{ display:grid; grid-template-columns: 84px 1fr; gap:12px; align-items:center; }
    .command-card h3{ margin:.2rem 0 .3rem; font-size:1.05rem; }
    .command-card p{ margin:.15rem 0 .5rem; color:var(--muted); }
    .viz-svg{ width:72px; height:72px; }
    .viz-svg .fill{ fill: var(--ink); opacity:.12; }
    .viz-svg .accent-fill{ fill: var(--accent); opacity:.35; }
    .viz-svg .stroke{ stroke: var(--muted); }
    .viz-svg .accent{ stroke: var(--primary); }
    .code-block pre{ margin:0; }

    /* Chips-style L4 tabs (wrapping, no horizontal scroll) */
    .tabs-chips .tablist{
      /* override base .tablist sticky/underline */
      position: static;
      top: auto;
      z-index: auto;
      background: transparent;
      border-bottom: 0;
      padding: 4px 0 0;

      display: flex;
      flex-wrap: wrap;        /* allow wrapping to multiple lines */
      gap: 8px;              /* space between chips */
    }

    .tabs-chips .tab{
      /* override base tab underline look */
      appearance: none;
      background: var(--card);
      color: var(--ink);
      border: 1px solid var(--border);
      border-radius: 999px;    /* pill/chip shape */
      padding: 6px 12px;
      font-size: .95rem;
      font-weight: 700;
      white-space: nowrap;     /* keep each label intact */
    }

    .tabs-chips .tab:hover{ background:#F1F5F9; }
    .dark .tabs-chips .tab:hover{ background:#334155; }

    .tabs-chips .tab[aria-selected="true"]{
      color: var(--primary);
      border-color: var(--primary);
      background: var(--primary-soft);
    }

    /* Ensure chip tabpanels have comfortable spacing from chip row */
    .tabs-chips .tabpanel{ padding-top: 10px; }

    /* Respect reduced motion */
    @media (prefers-reduced-motion: reduce){
      html{ scroll-behavior: auto; }
      *{ animation-duration: .01ms !important; transition-duration: .01ms !important; }
    }

    /* Monospace stack for code */
    code, kbd, pre, samp{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
                   "Liberation Mono", "Courier New", monospace;
    }

    /* === Footer === */
    .site-footer{ border-top:1px solid var(--border); background: linear-gradient(to bottom, rgba(0,0,0,0) 0, rgba(0,0,0,.02) 100%); padding:18px 0; }
    .footer-grid{ display:grid; grid-template-columns: 2fr 1.5fr 1fr; gap: var(--space); align-items:start; }
    .footer-brand strong{ font-weight:800; }
    .footer-links{ display:flex; flex-wrap:wrap; gap:10px 14px; }
    .footer-links a{ font-weight:600; font-size:.9rem; color:var(--ink); border-bottom:1px solid transparent; }
    .footer-links a:hover{ border-bottom-color:var(--link); color:var(--link); text-decoration:none; }
    .footer-meta{ text-align:right; }
    .footer-meta .last-updated{ font-size:.95rem; font-weight:700; color:var(--ink) }
    .to-top{ font-weight:700; }
    @media (max-width: 800px){ .footer-grid{ grid-template-columns:1fr; text-align:center; } .footer-meta{ text-align:center; } }
  </style>
  <style media="print">
    header,.nav-rail,.sidebar-aside,.hero,.tablist,.pill,.chip{display:none !important}
    .layout-grid{grid-template-columns:1fr}
    body{color:#000}
    a{text-decoration:underline}
  </style>
</head>
<body>
  <!-- === HEADER === -->
  <header role="banner">
    <div class="wrap">
      <a class="skip" href="#main">Skip to content</a>
      <div class="header-content">
        <div>
          <div class="meta-top" aria-label="Course">MATH 1320 ‚Äî Introductory Probability &amp; Statistics</div>
        </div>
        <button id="contrastToggle" class="pill" style="margin-left:auto" aria-label="Toggle dark mode" aria-pressed="false">‚òº / ‚òæ</button>
      </div>
    </div>
  </header>

  <section class="hero" aria-label="MATH 1320 Introductory Probability &amp; Statistics ‚Äî RStudio Dashboard">
    <div class="wrap hero-inner">
      <div class="hero-copy">
        <h1>RStudio Dashboard</h1>
        <p class="byline">Instructor: <strong>Vinay Kanth Rao Kodipelly</strong></p>
        <p class="hero-kicker small muted">Quick launchpad for R, Quarto, and commonly used analysis commands in this course.</p>
      </div>
    </div>
  </section>

  <!-- === MAIN CONTENT GRID === -->
  <main id="main" role="main">
    <div class="layout-grid">

      <!-- === COLUMN 1: NAVIGATION RAIL (L1/L2) === -->
      <nav class="nav-rail" aria-label="Main Navigation">
        <ul class="nav-list" id="main-nav">
          <li>
            <a id="nav-intro" href="#intro" aria-selected="true" aria-controls="panel-intro">RStudio Intro &amp; Setup</a>
          </li>
          <li>
            <details class="nav-group" open>
              <summary>R Commands</summary>
              <ul class="nav-sublist">
                <li><a id="nav-descriptive" href="#descriptive" aria-selected="false" aria-controls="panel-descriptive">Descriptive Statistics</a></li>
                <li><a id="nav-prob" href="#prob" aria-selected="false" aria-controls="panel-prob">Probability &amp; Distribution</a></li>
                <!-- REPLACED 'Inference' link and sub-menu with direct links -->
                <li><a id="nav-one-mean" href="#one-mean" aria-selected="false" aria-controls="panel-one-mean">One Mean</a></li>
                <li><a id="nav-two-means" href="#two-means" aria-selected="false" aria-controls="panel-two-means">Two Means</a></li>
                <li><a id="nav-proportions" href="#proportions" aria-selected="false" aria-controls="panel-proportions">Proportions</a></li>
                <li><a id="nav-chi-square" href="#chi-square" aria-selected="false" aria-controls="panel-chi-square">Chi-Square</a></li>
                <li><a id="nav-anova" href="#anova" aria-selected="false" aria-controls="panel-anova">ANOVA &amp; F</a></li>
                <li><a id="nav-clt" href="#clt" aria-selected="false" aria-controls="panel-clt">Sampling Dist. &amp; CLT</a></li>
                <!-- END REPLACEMENT -->
                <li><a id="nav-regression" href="#regression" aria-selected="false" aria-controls="panel-regression">Regression</a></li>
              </ul>
            </details>
          </li>
          <li>
            <a id="nav-tables" href="#tables" aria-selected="false" aria-controls="panel-tables">Tables</a>
          </li>
        </ul>
      </nav>

      <!-- === COLUMN 2: MAIN CONTENT AREA (L3/L4) === -->
      <section role="region" aria-label="Main Content Area">

        <!-- === L1/L2 PANEL: RStudio Intro === -->
        <div id="panel-intro" class="content-panel active" role="tabpanel" aria-labelledby="nav-intro" tabindex="0" data-varset="intro">
          <article class="card">
            <h2>RStudio Intro &amp; Setup</h2>
            <p class="small muted"><span class="chip resource">Resource</span> Welcome to <strong>Posit Cloud</strong> (formerly <em>RStudio.cloud</em>) ‚Äî your browser‚Äëbased RStudio and Quarto workspace.</p>

            <h3>Why this setup?</h3>
            <ul>
              <li><strong>No installs.</strong> Everything runs in your web browser.</li>
              <li><strong>Integrated notes + code.</strong> Write, run, and explain in one place using Quarto <code>.qmd</code> files.</li>
              <li><strong>Great for open‚Äënotes.</strong> Your <code>.qmd</code> becomes a dynamic study sheet for quizzes, tests, and the final project.</li>
            </ul>

            <div class="card" style="border-left:4px solid var(--link); padding:10px 12px; background:rgba(37,99,235,.06); margin:12px 0;">
              <p><strong>Important Tip:</strong> We only use <strong>RStudio</strong> here (ignore Jupyter). The <strong>free plan</strong> is enough ‚Äî no premium subscription needed.</p>
            </div>

            <!-- Onboarding micro-illustration -->
            <section class="onboard-demo" aria-label="Animated setup demo">
              <div class="browser-bar" aria-hidden="true">
                <div class="tab"></div>
                <div class="address">
                  <span class="lock" aria-hidden="true">üîí</span>
                  <span class="type" data-text="posit.cloud"></span>
                </div>
              </div>

              <div class="rstudio-win" aria-hidden="true">
                <div class="titlebar">RStudio</div>
                <div class="menubar">
                  <span class="menu menu-file" aria-label="File menu">File</span>
                  <span>Edit</span><span>Code</span><span>View</span><span>Plots</span><span>Help</span>
                  <span class="pulse" aria-hidden="true"></span>
                </div>
                <div class="panes">
                  <div class="pane files"></div>
                  <div class="pane editor"></div>
                  <div class="pane console"></div>
                </div>
              </div>

              <p class="caption tiny muted">
                Type <strong>posit.cloud</strong> ‚Üí open project ‚Üí <strong>File ‚Üí New File ‚Üí Quarto Document‚Ä¶</strong>
              </p>
            </section>

            <style>
            /* Scoped styles for the onboarding micro-illustration */
            .onboard-demo{
              border:1px solid var(--border); border-radius:12px; background:var(--card);
              padding:14px; margin:14px 0; box-shadow:var(--shadow); position:relative; overflow:hidden;
            }
            .onboard-demo .browser-bar{
              display:flex; align-items:center; gap:10px; padding:8px 10px;
              border:1px solid var(--border); border-radius:10px; background:var(--bg);
            }
            .onboard-demo .tab{ width:42px; height:16px; background:var(--border); border-radius:4px; opacity:.6; }
            .onboard-demo .address{
              flex:1; display:flex; align-items:center; gap:8px;
              background:var(--card); border:1px solid var(--border); border-radius:999px; padding:6px 10px;
              min-height:30px;
            }
            .onboard-demo .address .lock{ opacity:.6; font-size:.9rem; }
            .onboard-demo .type{
              font-weight:700; letter-spacing:.3px; white-space:nowrap; min-width:10ch;
              border-right:2px solid var(--muted); /* caret */
            }
            .onboard-demo .rstudio-win{
              margin-top:12px; border:1px solid var(--border); border-radius:8px; background:var(--bg);
              transform-origin: 20% 0%; transform: scale(.98); opacity:0; transition:transform .6s ease, opacity .6s ease;
            }
            .onboard-demo .titlebar{
              padding:6px 10px; font-weight:700; border-bottom:1px solid var(--border); background:var(--card);
            }
            .onboard-demo .menubar{
              display:flex; gap:14px; align-items:center; padding:8px 10px; border-bottom:1px solid var(--border);
              background:var(--card); position:relative;
            }
            .onboard-demo .menubar .menu{ font-weight:800; }
            .onboard-demo .panes{ display:grid; grid-template-columns: 220px 1fr; grid-template-rows: 220px 160px; gap:8px; padding:10px; }
            .onboard-demo .pane{ border:1px dashed var(--border); border-radius:6px; background:rgba(0,0,0,.02); }
            .dark .onboard-demo .pane{ background:rgba(255,255,255,.04); }
            .onboard-demo .pane.files{ grid-row: 1 / span 2; }
            .onboard-demo .pane.editor{ }
            .onboard-demo .pane.console{ grid-column: 2; }

            .onboard-demo.show-rstudio .rstudio-win{ opacity:1; transform: scale(1); }

            /* Highlight ‚ÄúFile‚Äù with a pulsing ring and subtle zoom */
            .onboard-demo.zoom-file .rstudio-win{ transform: scale(1.03); }
            .onboard-demo .pulse{
              position:absolute; left:14px; top:50%; transform:translateY(-50%);
              width:48px; height:22px; border-radius:6px; border:2px solid transparent;
            }
            .onboard-demo.zoom-file .pulse{
              border-color: var(--primary);
              animation: ring 1.2s ease-out 0s 3;
            }
            @keyframes ring{
              0% { box-shadow: 0 0 0 0 rgba(161,0,34,.35); }
              100% { box-shadow: 0 0 0 10px rgba(161,0,34,0); }
            }

            /* Typing effect tuned to "posit.cloud" (11 chars) */
            @keyframes typing { from { width: 0ch; } to { width: 11ch; } }
            @keyframes caret { 50% { border-right-color: transparent; } }

            .onboard-demo .type{
              display:inline-block; overflow:hidden;
              width: 0ch;
              animation: typing 1.6s steps(11,end) .2s forwards, caret .9s step-end infinite;
            }
            .onboard-demo.static .type{ width:auto; border-right:0; animation:none; }

            /* Reduced motion: skip animations */
            @media (prefers-reduced-motion: reduce){
              .onboard-demo .type{ width:auto; animation:none; border-right:0; }
              .onboard-demo .rstudio-win{ opacity:1; transform:none; transition:none; }
            }
            </style>

            <script>
            (function(){
              const demo = document.querySelector('.onboard-demo');
              if (!demo) return;

              // Populate the typed text from data attribute (fallback included)
              try{
                const typer = demo.querySelector('.type');
                if (typer && !typer.textContent) {
                  typer.textContent = typer.dataset.text || 'posit.cloud';
                }
              }catch(e){}

              // Progress the simple sequence after the typing effect
              const step1 = setTimeout(() => {
                demo.classList.add('show-rstudio');
              }, 2000); // typing ~1.6s + buffer

              const step2 = setTimeout(() => {
                demo.classList.add('zoom-file');
              }, 2800);

              // Respect reduced motion
              try {
                if (window.matchMedia('(prefers-reduced-motion: reduce)').matches){
                  demo.classList.add('static','show-rstudio');
                }
              } catch(e){}
            })();
            </script>

            <h3>Step 1 ‚Äî Create your free Posit Cloud account</h3>
            <ol>
              <li>Open <a href="https://posit.cloud" target="_blank" rel="noopener">posit.cloud</a> and click <strong>Sign Up</strong>.</li>
              <li>Use <strong>Continue with Google</strong> (easy) or create an email+password account.</li>
              <li>If prompted, verify your email, then use <strong>Log In</strong> for future visits.</li>
            </ol>

            <hr style="height:1px; background: var(--border); border:0; margin: 18px 0;" />

            <h3>Step 2 ‚Äî Start a new RStudio project</h3>
            <ol>
              <li>From <strong>Your Workspace</strong>, click <strong>New Project</strong> ‚Üí <strong>New RStudio Project</strong> (not Jupyter).</li>
              <li>Wait for <em>Deploying Project‚Ä¶</em> to finish. Rename the project at the top (e.g., <em>MATH 1320 ‚Äî HW Workspace</em>) to keep things organized.</li>
            </ol>

            <hr style="height:1px; background: var(--border); border:0; margin: 18px 0;" />

            <h3>Step 3 ‚Äî Open a Quarto <code>.qmd</code> file</h3>
            <ol>
              <li>Go to <strong>File</strong> ‚Üí <strong>New File</strong> ‚Üí <strong>Quarto Document‚Ä¶</strong>.</li>
              <li>Enter a meaningful <strong>Title</strong> (e.g., <em>My First Quarto Document</em>) and choose an output format: <strong>PDF</strong> (preferred), <strong>HTML</strong>, or <strong>Word</strong>. Click <strong>Create</strong>.</li>
              <li style="background:#fffbeb; border:1px solid #fde68a; padding:10px; border-radius:8px;"><strong>Watch out:</strong> On first use, Posit Cloud may show a yellow banner asking to <strong>Install</strong> items (TinyTeX/LaTeX, packages). Click <strong>Install</strong> and let the Console finish ‚Äî you don‚Äôt need to type anything.</li>
            </ol>

            <h3>Step 4 ‚Äî Render (build) your document</h3>
            <ol>
              <li>Click the blue <strong>Render</strong> button at the top of the editor pane.</li>
              <li>If prompted for format, choose <strong>PDF</strong>. If PDF errors the first time, pick <strong>HTML</strong> for now; we can configure PDF later.</li>
            </ol>

            <h3>Step 5 ‚Äî Save, rename, and submit</h3>
            <ol>
              <li><strong>Save often:</strong> <kbd>Ctrl</kbd>+<kbd>S</kbd> (Windows) or <kbd>Cmd</kbd>+<kbd>S</kbd> (Mac), or <strong>File</strong> ‚Üí <strong>Save</strong>.</li>
              <li><strong>Find your output</strong> (e.g., <code>HW01.pdf</code> or <code>HW01.html</code>) in the <strong>Files</strong> pane.</li>
              <li><strong>Rename for submission:</strong> check the file ‚Üí <strong>More</strong> ‚Üí <strong>Rename‚Ä¶</strong> ‚Üí use <code>Lastname_Firstname_HW01.pdf</code> (e.g., <code>Kodipelly_Vinay_HW01.pdf</code>), then <strong>More</strong> ‚Üí <strong>Export‚Ä¶</strong> / <strong>Download</strong>.</li>
            </ol>

            <div class="card" style="border-left:4px solid var(--link); padding:10px 12px; background:rgba(37,99,235,.06); margin:12px 0;">
              <p><strong>Practice:</strong> Open the sample lecture project and make a permanent copy:</p>
              <ol>
                <li>Visit <a href="https://posit.cloud/content/10744018" target="_blank" rel="noopener">posit.cloud/content/10744018</a> (log in if needed).</li>
                <li>Click <strong>Save a Permanent Copy</strong> (top‚Äëright) to clone it into <strong>Your Workspace</strong>.</li>
                <li>Open the <code>.qmd</code> in the <strong>Files</strong> pane. If a yellow banner asks to <strong>Install</strong>, click it and wait.</li>
                <li>Click <strong>Render</strong> (PDF preferred; HTML/Word are acceptable if PDF isn‚Äôt ready yet).</li>
              </ol>
              <p class="tiny muted">We‚Äôll repeat this after <strong>every lecture</strong> so you always have your own permanent copy.</p>
            </div>

            <h3>Basic Quarto structure</h3>
            <pre><code class="language-markdown">---
title: "My Quarto Document"
format: pdf
---

# Introduction
This is an introduction to my analysis.

## Code Chunk Example
```{r}
# A basic R calculation
x &lt;- 1:5
mean(x)
```

# Conclusion
Summary of findings.
</code></pre>

            <p class="small muted"><em>Pro Tip:</em> Render frequently to catch errors early. Use the <span class="pill">Render</span> button in RStudio.</p>
          </article>
        </div>


        <!-- === PANEL: Descriptive Statistics === -->
        <div id="panel-descriptive" class="content-panel" role="tabpanel" aria-labelledby="nav-descriptive" tabindex="0" data-varset="descriptive">
          <article class="card">
            <h2>Descriptive Statistics</h2>
            <p><span class="chip exam">Foundation</span> Summary measures and quick EDA.</p>

            <h3>First commands to try</h3>
            <pre><code class="language-r"># Very first commands to try in R
x &lt;- c(2, 5, 7, 9)   # store data
length(x)            # how many values?
mean(x)              # average
sd(x)                # standard deviation

sort(x)              # sort values
table(x)             # frequency table

runif(5)             # 5 random numbers between 0 and 1
sample(1:10, 3)      # 3 random integers from 1 to 10 (no replacement)
</code></pre>

            <h3>Core R Commands (Data &amp; Calculator)</h3>
            <pre><code class="language-r"># Storing data
x &lt;- c(100, 200, 300, 400)    # c() stands for "combine" or "concatenate"
x = c(100, 200, 300, 400)    # same as above
x = 1:100                   # shorthand: 1, 2, 3, ..., 100

# Miscellaneous helpers
sort(x)                     # sort data
length(x)                   # number of points (sample size)
sum(x)                      # sum of values
y &lt;- c(1, 2, 3, 4)
x * y                       # elementwise products of two lists of equal length
table(x)                    # frequency table
stem(x)                     # stem-and-leaf plot
format(12345.678, scientific = FALSE)  # force decimal format

# Generating random numbers
runif(5, 0, 3)              # 5 real numbers from Uniform(0, 3)
runif(5)                    # 5 real numbers from Uniform(0, 1)
sample(1:1000, 10)          # 10 integers from 1 to 1000 (without replacement)
sample(1:1000, 10, replace = TRUE)  # with replacement

# Using R as a calculator
2 + 3; 7 - 4; 6 * 5; 8 / 2   # basic arithmetic
2^3                         # exponentiation (2 to the 3rd power)
sqrt(9)                     # square root
abs(-3)                     # absolute value
factorial(4)                # 4! = 4*3*2*1
choose(10, 3)               # C(10,3) = 120
choose(10, 3) * factorial(3) # P(10,3) = 720
</code></pre>

            <h3>Numerical Summaries</h3>
            <p><strong>Key formulas:</strong></p>
            <div class="katex-display"><p>$$\bar{x} = \frac{1}{n} \sum_{i=1}^{n} x_i$$</p></div>
            <div class="katex-display"><p>$$s^2 = \frac{\sum_{i=1}^{n} (x_i - \bar{x})^2}{n-1}, \qquad s = \sqrt{s^2}$$</p></div>
            <div class="katex-display"><p>$$\text{IQR} = Q_3 - Q_1$$</p></div>
            <pre><code class="language-r"># Vector of data
x &lt;- c(22, 25, 30, 28, 26, 31, 29, 27)
mean(x); median(x); sd(x); var(x); length(x)
quantile(x, probs = c(.25, .5, .75))
IQR(x)
summary(x)</code></pre>

            <h3>Tabular &amp; Graphical</h3>
            <pre><code class="language-r"># Frequency table
tbl &lt;- table(x)
prop.table(tbl)

# Hist / Boxplot
hist(x, breaks = "Sturges", main = "Histogram of x")
boxplot(x, horizontal = TRUE, main = "Boxplot of x")</code></pre>
          </article>
          
          <!-- REPLACED command-card sections with simple h3/p/pre blocks as requested -->
          <section id="data-basics-simple" class="card" style="padding-top: 10px;">
            <h3>Storing Data (Vectors)</h3>
            <p class="small muted">Use <code>&lt;-</code> to store a list of values in a variable. The <code>c()</code> function combines values into a vector.</p>
            <pre><code class="language-r"># Create a vector named 'scores'
scores &lt;- c(88, 92, 95, 75, 85)
# Create a sequence from 1 to 100
numbers &lt;- 1:100</code></pre>

            <h3>Generating Random Numbers</h3>
            <p class="small muted">Create random samples or numbers from a uniform distribution.</p>
            <pre><code class="language-r"># Select 10 random integers from 1 to 1000 (no repeats)
sample(1:1000, 10, replace = FALSE)

# Generate 5 random decimals between 0 and 1
runif(5)</code></pre>

            <h3>Combinations &amp; Permutations</h3>
            <p class="small muted">Calculate the number of ways to choose or arrange items from a set.</p>
            <p><strong>Formulas:</strong></p>
            <div class="katex-display"><p>$$\binom{n}{k} = \frac{n!}{k!(n-k)!}$$</p></div>
            <div class="katex-display"><p>$$_nP_k = \frac{n!}{(n-k)!}$$</p></div>
            <pre><code class="language-r"># Combinations: How many ways to choose 3 from 10 (order doesn't matter)
choose(10, 3)  # C(10,3) = 120

# Permutations: How many ways to arrange 3 from 10 (order matters)
choose(10, 3) * factorial(3) # P(10,3) = 720</code></pre>
          </section>

          <section id="descriptive-stats-extended-simple" class="card" style="padding-top: 10px;">
            <h3>Measures of Center</h3>
            <p class="small muted">Calculate the mean (average) and median (middle value) of a dataset.</p>
            <p><strong>Key formulas:</strong></p>
            <div class="katex-display"><p>$$\bar{x} = \frac{1}{n} \sum_{i=1}^{n} x_i$$</p></div>
            <div class="katex-display"><p>$$\text{Median: middle value after sorting the data}$$</p></div>
            <pre><code class="language-r">grades &lt;- c(95, 82, 78, 90, 88, 65)
mean(grades)   # Output: 83
median(grades) # Output: 85</code></pre>

            <h3>Measures of Spread</h3>
            <p class="small muted">Describe the variability or dispersion of data points.</p>
            <p><strong>Key formulas:</strong></p>
            <div class="katex-display"><p>$$s^2 = \frac{\sum_{i=1}^{n} (x_i - \bar{x})^2}{n-1}, \qquad s = \sqrt{s^2}$$</p></div>
            <div class="katex-display"><p>$$\text{Range} = \max(x_i) - \min(x_i)$$</p></div>
            <div class="katex-display"><p>$$\text{IQR} = Q_3 - Q_1$$</p></div>
            <pre><code class="language-r">grades &lt;- c(95, 82, 78, 90, 88, 65)
sd(grades)     # Sample Standard Deviation: 11.25...
var(grades)    # Sample Variance: 126.8
range(grades)  # Min and Max: 65 95
fivenum(grades) # Min, Q1, Median, Q3, Max</code></pre>

            <h3>Boxplot</h3>
            <p class="small muted">Visualize the five-number summary (min, Q1, median, Q3, max).</p>
            <pre><code class="language-r">grades &lt;- c(95, 82, 78, 90, 88, 65, 50, 98)
boxplot(grades)</code></pre>
          </section>
        </div>

        <!-- === PANEL: Probability & Random Variables === -->
        <div id="panel-prob" class="content-panel" role="tabpanel" aria-labelledby="nav-prob" tabindex="0" data-varset="prob">
          <article class="card">
            <h2>Probability &amp; Distribution</h2>
            <p><span class="chip resource">Reference</span> Common PMFs/PDFs and Normal calculations.</p>

            <h3>Discrete Random Variables</h3>
            <p><strong>Key formulas (for X taking values x_i with probabilities p_i):</strong></p>
            <div class="katex-display"><p>$$E[X] = \sum_{i} x_i p_i$$</p></div>
            <div class="katex-display"><p>$$\sigma_X^2 = \sum_{i} (x_i - \mu)^2 p_i, \qquad \sigma_X = \sqrt{\sigma_X^2}$$</p></div>
            <pre><code class="language-r">outcomes &lt;- c(0, 1, 2)
probabilities &lt;- c(0.1, 0.3, 0.6)
# Expected Value E(X)
expected_value &lt;- sum(outcomes * probabilities)
# Standard Deviation œÉ
st_dev &lt;- sqrt(sum((outcomes - expected_value)^2 * probabilities))</code></pre>

            <h3>Normal Distribution</h3>
            <p><strong>Key formulas:</strong></p>
            <div class="katex-display"><p>$$X \sim N(\mu, \sigma)$$</p></div>
            <div class="katex-display"><p>$$f(x) = \frac{1}{\sigma\sqrt{2\pi}} \exp\left(-\frac{(x-\mu)^2}{2\sigma^2}\right)$$</p></div>
            <div class="katex-display"><p>$$Z = \frac{X - \mu}{\sigma}$$</p></div>
            <pre><code class="language-r"># Standard Normal N(0,1) by default
pnorm(1.96)                     # P(Z &lt;= 1.96)
pnorm(1.96, lower.tail = FALSE) # P(Z &gt; 1.96)
qnorm(0.975)                    # z such that P(Z &lt;= z) = 0.975
rnorm(5)                        # 5 random values from N(0,1)
dnorm(0)                        # density (height) at z = 0

# For X ~ N(mu, sigma)
mu &lt;- 70; sigma &lt;- 10
# P(X &lt; 84)
pnorm(84, mean = mu, sd = sigma)
# 90th percentile of X
qnorm(0.90, mean = mu, sd = sigma)

# Normal probability plot for a dataset x
qqnorm(x)                       # check if data are approximately normal
</code></pre>

            <h3>Student's t Distribution</h3>
            <pre><code class="language-r"># Student's t-distribution with df degrees of freedom
df &lt;- 10
dt(0, df = df)                  # density (height) at x = 0
pt(1.5, df = df)                # P(T &lt;= 1.5)
qt(0.95, df = df)               # t such that P(T &lt;= t) = 0.95
qt(0.05, df = df, lower.tail = FALSE)  # same cutoff using upper-tail form
rt(5, df = df)                  # 5 random values from t(df)
</code></pre>

            <h3>Discrete Example: Binomial</h3>
            <p><strong>Key formulas:</strong></p>
            <div class="katex-display"><p>$$P(X = k) = \binom{n}{k} p^k (1-p)^{n-k}$$</p></div>
            <div class="katex-display"><p>$$E[X] = np, \quad \text{Var}(X) = np(1-p)$$</p></div>
            <pre><code class="language-r"># X ~ Bin(n, p)
n &lt;- 20; p &lt;- 0.3

# Point probabilities: P(X = k)
dbinom(5, size = n, prob = p)

# Cumulative probabilities: P(X &lt;= k)
pbinom(5, size = n, prob = p)

# P(8 &lt;= X &lt;= 12)
pbinom(12, size = n, prob = p) - pbinom(7, size = n, prob = p)

# Quantile: smallest k with P(X &lt;= k) &gt;= 0.9
qbinom(0.9, size = n, prob = p)

# Random draws from a Binomial
rbinom(5, size = n, prob = p)   # 5 random values from Bin(n, p)
</code></pre>
          </article>
        </div>

        <!-- === NEW PANELS CREATED FROM 'panel-infer' CONTENT === -->

        <!-- === PANEL: One Mean === -->
        <div id="panel-one-mean" class="content-panel" role="tabpanel" aria-labelledby="nav-one-mean" tabindex="0">
          <article class="card">
            <h2>One Mean Tests</h2>
            <p><span class="chip exam">Inference</span> Tests and confidence intervals for a single population mean.</p>

            <section class="tabs tabs-chips" aria-label="One Mean Tests">
              <div class="tablist" role="tablist">
                <button class="tab" role="tab" aria-selected="true" aria-controls="panel-ht-one-z" id="tab-ht-one-z">One-sample Z</button>
                <button class="tab" role="tab" aria-selected="false" aria-controls="panel-ht-one-t" id="tab-ht-one-t">One-sample t</button>
              </div>

              <!-- One-sample Z Panel -->
              <section class="tabpanel active" role="tabpanel" id="panel-ht-one-z" aria-labelledby="tab-ht-one-z" tabindex="0" data-varset="z">
                <h4>One-sample Z-test (œÉ Known)</h4>
                <p>Used when the population standard deviation $\sigma$ is known.</p>
                <p><strong>Test Statistic:</strong> $$z = \frac{\bar{x} - \mu_0}{\sigma / \sqrt{n}}$$</p>
                <pre><code class="language-r"># 1. Enter your sample data and hypothesis:
data &lt;- c(54, 57, 53, 59, 58)
x_bar &lt;- mean(data)      # Sample mean
sigma &lt;- 5               # Known population standard deviation (sigma)
n &lt;- length(data)        # Sample size
mu_0 &lt;- 55               # Hypothesized population mean
alpha &lt;- 0.05            # Significance level

# 2. Compute the z-statistic:
z &lt;- (x_bar - mu_0) / (sigma / sqrt(n))

# 3. Left-tailed test (H_a: mu &lt; mu_0):
p_left &lt;- pnorm(z)
critical_value_left &lt;- qnorm(alpha)

# 4. Right-tailed test (H_a: mu &gt; mu_0):
p_right &lt;- 1 - pnorm(z)
critical_value_right &lt;- qnorm(1 - alpha)

# 5. Two-tailed test (H_a: mu != mu_0):
p_two &lt;- 2 * (1 - pnorm(abs(z)))
critical_value_two_upper &lt;- qnorm(1 - alpha/2)
critical_value_two_lower &lt;- qnorm(alpha/2)

# 6. Two-sided Confidence Interval for mu:
# CI = x_bar ¬± z* (sigma/sqrt(n))
CI_lower &lt;- x_bar - critical_value_two_upper*(sigma/sqrt(n))
CI_upper &lt;- x_bar + critical_value_two_upper*(sigma/sqrt(n))

# 7. Values you usually report:
z
p_left
critical_value_left
p_right
critical_value_right
p_two
critical_value_two_lower
critical_value_two_upper
CI_lower
CI_upper
</code></pre>

                <h4 style="margin-top:24px;" data-varset="ci_mean_known">Confidence Interval for Mean (œÉ known)</h4>
                <p><strong>Confidence Interval:</strong> $$\bar{x} \pm z^* \left(\frac{\sigma}{\sqrt{n}}\right)$$</p>
                <pre><code class="language-r">xbar &lt;- 72; sigma &lt;- 10; n &lt;- 36; alpha &lt;- .05
zstar &lt;- qnorm(1 - alpha/2)
ME &lt;- zstar * sigma / sqrt(n)
c(xbar - ME, xbar + ME)</code></pre>
              </section>

              <!-- One-sample t Panel -->
              <section class="tabpanel" role="tabpanel" id="panel-ht-one-t" aria-labelledby="tab-ht-one-t" tabindex="0" data-varset="t_one">
                <h4>One-sample t-test (œÉ Unknown)</h4>
                <p>Used when the population standard deviation $\sigma$ is unknown and estimated by $s$.</p>
                <p><strong>Test Statistic:</strong> $$t = \frac{\bar{x} - \mu_0}{s / \sqrt{n}}$$</p>
                <pre><code class="language-r"># 1. Enter your sample data and hypothesis:
data &lt;- c(54, 57, 53, 59, 58)
x_bar &lt;- mean(data)      # Sample mean
s &lt;- sd(data)            # Sample standard deviation (s)
n &lt;- length(data)        # Sample size
mu_0 &lt;- 55               # Hypothesized population mean
alpha &lt;- 0.05            # Significance level

# 2. Compute the t-statistic and degrees of freedom:
t &lt;- (x_bar - mu_0) / (s / sqrt(n))
df &lt;- n - 1

# 3. Two-tailed test (most common, H_a: mu != mu_0):
p_two &lt;- 2 * (1 - pt(abs(t), df = df))
critical_value_two_upper &lt;- qt(1 - alpha/2, df = df)
critical_value_two_lower &lt;- qt(alpha/2, df = df)

# 4. Left-tailed test (H_a: mu &lt; mu_0):
p_left &lt;- pt(t, df = df)
critical_value_left &lt;- qt(alpha, df = df)

# 5. Right-tailed test (H_a: mu &gt; mu_0):
p_right &lt;- 1 - pt(t, df = df)
critical_value_right &lt;- qt(1 - alpha, df = df)

# 6. Two-sided Confidence Interval for mu:
CI_lower &lt;- x_bar - critical_value_two_upper*(s/sqrt(n))
CI_upper &lt;- x_bar + critical_value_two_upper*(s/sqrt(n))

# 7. Values you usually report:
t
df
p_two
critical_value_two_lower
critical_value_two_upper
p_left
critical_value_left
p_right
critical_value_right
CI_lower
CI_upper
</code></pre>
                <h5>One-sample t-test using t.test (shortcut)</h5>
                <pre><code class="language-r"># Built-in one-sample t-test
# x is your sample; mu_0 is the hypothesized mean
t.test(data,
       alternative = "two.sided",  # or "less", "greater"
       mu = mu_0,
       conf.level = 0.95)
</code></pre>
                
                <h4 style="margin-top:24px;" data-varset="ci_mean_unknown">Confidence Interval for Mean (œÉ unknown)</h4>
                <p><strong>Confidence Interval:</strong> $$\bar{x} \pm t^* \left(\frac{s}{\sqrt{n}}\right)$$</p>
                <pre><code class="language-r">x &lt;- c(68,72,71,74,70,69)
xbar &lt;- mean(x); s &lt;- sd(x); n &lt;- length(x); alpha &lt;- .05
tstar &lt;- qt(1 - alpha/2, df = n-1)
ME &lt;- tstar * s / sqrt(n)
c(xbar - ME, xbar + ME)</code></pre>
              </section>
            </section>
          </article>
        </div>

        <!-- === PANEL: Two Means === -->
        <div id="panel-two-means" class="content-panel" role="tabpanel" aria-labelledby="nav-two-means" tabindex="0">
          <article class="card">
            <h2>Two Means Tests</h2>
            <p><span class="chip exam">Inference</span> Tests and confidence intervals for comparing two population means.</p>

            <section class="tabs tabs-chips" aria-label="Two Means Tests">
              <div class="tablist" role="tablist">
                <button class="tab" role="tab" aria-selected="true" aria-controls="panel-ht-pooled" id="tab-ht-pooled">Two-sample (Pooled)</button>
                <button class="tab" role="tab" aria-selected="false" aria-controls="panel-ht-welch" id="tab-ht-welch">Two-sample (Welch)</button>
                <button class="tab" role="tab" aria-selected="false" aria-controls="panel-ht-paired" id="tab-ht-paired">Paired t</button>
                <button class="tab" role="tab" aria-selected="false" aria-controls="panel-ht-mann-whitney" id="tab-ht-mann-whitney">Mann-Whitney U</button>
                <button class="tab" role="tab" aria-selected="false" aria-controls="panel-ht-wilcoxon" id="tab-ht-wilcoxon">Wilcoxon Signed-Rank</button>
              </div>

              <!-- Pooled t-test Panel -->
              <section class="tabpanel active" role="tabpanel" id="panel-ht-pooled" aria-labelledby="tab-ht-pooled" tabindex="0" data-varset="t_two_pooled">
                <h4>Two-sample t-test (Pooled, $\sigma_1 = \sigma_2$)</h4>
                <p>Used for independent samples with assumed equal population variances.</p>
                <p><strong>Pooled Variance:</strong> $$S_p^2 = \frac{(n_1 - 1)s_1^2 + (n_2 - 1)s_2^2}{n_1 + n_2 - 2}$$</p>
                <p><strong>Test Statistic:</strong> $$t = \frac{(\bar{x}_1 - \bar{x}_2) - \Delta_0}{S_p \sqrt{\frac{1}{n_1} + \frac{1}{n_2}}}$$</p>
                <p><strong>Confidence Interval:</strong> $$(\bar{x}_1 - \bar{x}_2) \pm t^* \left( S_p \sqrt{\frac{1}{n_1} + \frac{1}{n_2}} \right)$$</p>
                <pre><code class="language-r"># 1. Enter your two independent samples:
group1 &lt;- c(10, 12, 11, 13, 12)
group2 &lt;- c(9, 11, 10, 12, 11)
alpha &lt;- 0.05            # Significance level

# 2. Basic summaries:
n1 &lt;- length(group1)
n2 &lt;- length(group2)
x_bar1 &lt;- mean(group1)
x_bar2 &lt;- mean(group2)
s1 &lt;- sd(group1)
s2 &lt;- sd(group2)

# 3. Pooled variance (assume equal population variances):
S_p2 &lt;- (((n1 - 1) * s1^2) + ((n2 - 1) * s2^2)) / (n1 + n2 - 2)

# 4. t-statistic and degrees of freedom:
t &lt;- (x_bar1 - x_bar2) / sqrt(S_p2 * (1/n1 + 1/n2))
df &lt;- n1 + n2 - 2

# 5. Two-tailed test (H_a: mu1 != mu2):
p_two &lt;- 2 * (1 - pt(abs(t), df = df))
critical_value_two_upper &lt;- qt(1 - alpha/2, df = df)
critical_value_two_lower &lt;- qt(alpha/2, df = df)

# 6. Left-tailed test (H_a: mu1 &lt; mu2):
p_left &lt;- pt(t, df = df)
critical_value_left &lt;- qt(alpha, df = df)

# 7. Right-tailed test (H_a: mu1 &gt; mu2):
p_right &lt;- 1 - pt(t, df = df)
critical_value_right &lt;- qt(1 - alpha, df = df)

# 8. Two-sided Confidence Interval for (mu1 - mu2):
CI_lower &lt;- (x_bar1 - x_bar2) - critical_value_two_upper * sqrt(S_p2*(1/n1 + 1/n2))
CI_upper &lt;- (x_bar1 - x_bar2) + critical_value_two_upper * sqrt(S_p2*(1/n1 + 1/n2))

# 9. Values you usually report:
t
S_p2
df
p_two
critical_value_two_lower
critical_value_two_upper
p_left
critical_value_left
p_right
critical_value_right
CI_lower
CI_upper
</code></pre>
                <p class="small muted">Use this when you compare two independent groups and are comfortable assuming equal population variances.</p>
              </section>

              <!-- Welch t-test Panel -->
              <section class="tabpanel" role="tabpanel" id="panel-ht-welch" aria-labelledby="tab-ht-welch" tabindex="0" data-varset="t_two_unpooled">
                <h4>Two-sample t-test (Welch, $\sigma_1 \neq \sigma_2$)</h4>
                <p>Used for independent samples with unequal population variances (default in R).</p>
                <p><strong>Test Statistic:</strong> $$t = \frac{(\bar{x}_1 - \bar{x}_2) - \Delta_0}{\sqrt{\frac{s_1^2}{n_1} + \frac{s_2^2}{n_2}}}$$</p>
                <p><strong>Confidence Interval:</strong> $$(\bar{x}_1 - \bar{x}_2) \pm t^* \left( \sqrt{\frac{s_1^2}{n_1} + \frac{s_2^2}{n_2}} \right)$$</p>
                <p><strong>Degrees of Freedom (Welch-Satterthwaite):</strong></p>
                <div class="katex-display"><p>$$ df \approx \frac{\left( \frac{s_1^2}{n_1} + \frac{s_2^2}{n_2} \right)^2}{\frac{(s_1^2/n_1)^2}{n_1-1} + \frac{(s_2^2/n_2)^2}{n_2-1}} $$</p></div>
                <pre><code class="language-r"># 1. Enter your two independent samples:
group1 &lt;- c(10, 12, 11, 13, 12)
group2 &lt;- c(9, 11, 10, 12, 11)
alpha &lt;- 0.05            # Significance level

# 2. Basic summaries:
n1 &lt;- length(group1)
n2 &lt;- length(group2)
x_bar1 &lt;- mean(group1)
x_bar2 &lt;- mean(group2)
s1 &lt;- sd(group1)
s2 &lt;- sd(group2)

# 3. t-statistic using separate variances:
t &lt;- (x_bar1 - x_bar2) / sqrt(s1^2/n1 + s2^2/n2)

# 4. Approximate degrees of freedom (Welch-Satterthwaite):
df_num &lt;- (s1^2/n1 + s2^2/n2)^2
df_den &lt;- ((s1^2/n1)^2)/(n1 - 1) + ((s2^2/n2)^2)/(n2 - 1)
df &lt;- df_num / df_den

# 5. Two-tailed test (H_a: mu1 != mu2):
p_two &lt;- 2 * (1 - pt(abs(t), df = df))
critical_value_two_upper &lt;- qt(1 - alpha/2, df = df)
critical_value_two_lower &lt;- qt(alpha/2, df = df)

# 6. Left-tailed test (H_a: mu1 &lt; mu2):
p_left &lt;- pt(t, df = df)
critical_value_left &lt;- qt(alpha, df = df)

# 7. Right-tailed test (H_a: mu1 &gt; mu2):
p_right &lt;- 1 - pt(t, df = df)
critical_value_right &lt;- qt(1 - alpha, df = df)

# 8. Two-sided Confidence Interval for (mu1 - mu2):
CI_lower &lt;- (x_bar1 - x_bar2) - critical_value_two_upper * sqrt(s1^2/n1 + s2^2/n2)
CI_upper &lt;- (x_bar1 - x_bar2) + critical_value_two_upper * sqrt(s1^2/n1 + s2^2/n2)

# 9. Values you usually report:
t
df
p_two
critical_value_two_lower
critical_value_two_upper
p_left
critical_value_left
p_right
critical_value_right
CI_lower
CI_upper
</code></pre>
                <h5>Two-sample t-tests using t.test</h5>
                <pre><code class="language-r"># Welch two-sample t-test (unpooled, default)
t.test(group1, group2,
       alternative = "two.sided",
       var.equal = FALSE,
       conf.level = 0.95)

# Pooled two-sample t-test (equal variances)
t.test(group1, group2,
       alternative = "two.sided",
       var.equal = TRUE,
       conf.level = 0.95)
</code></pre>

                <h4>Math-Only Snippet: Effect size (Cohen's d)</h4>
                <div class="katex-display"><p>$$d=\frac{\bar x_1-\bar x_2}{s_p},\qquad s_p=\sqrt{\frac{(n_1-1)s_1^2+(n_2-1)s_2^2}{n_1+n_2-2}}$$</p></div>
                <pre><code class="language-r"># Math-only: Cohen's d (pooled SD)
sp2 &lt;- (((n1 - 1)*s1^2) + ((n2 - 1)*s2^2)) / (n1 + n2 - 2)
sp  &lt;- sqrt(sp2)
d   &lt;- (x_bar1 - x_bar2) / sp
d</code></pre>

                <h4>Math-Only Snippet: Two-sample CI (manual, no functions)</h4>
                <p class="small muted">Hand-compute a 95% CI for \((\mu_1-\mu_2)\) using Welch‚Äôs formula.</p>
                <pre><code class="language-r"># Math-only: two-sample CI for (mu1 - mu2) (Welch, manual)
xbar1 &lt;- mean(x1); s1 &lt;- sd(x1); n1 &lt;- length(x1)
xbar2 &lt;- mean(x2); s2 &lt;- sd(x2); n2 &lt;- length(x2)
SE    &lt;- sqrt(s1^2/n1 + s2^2/n2)
df    &lt;- (s1^2/n1 + s2^2/n2)^2 / ((s1^2/n1)^2/(n1-1) + (s2^2/n2)^2/(n2-1))
tstar &lt;- qt(0.975, df)
CI    &lt;- (xbar1 - xbar2) + c(-1,1)*tstar*SE
CI</code></pre>
              </section>

              <!-- Paired t-test Panel -->
              <section class="tabpanel" role="tabpanel" id="panel-ht-paired" aria-labelledby="tab-ht-paired" tabindex="0" data-varset="t_paired">
                <h4>Paired t-test</h4>
                <p>Used when samples are paired (e.g., before/after, matched subjects).</p>
                <p><strong>Test Statistic (on differences $d$):</strong> $$t = \frac{\bar{d} - \mu_d}{s_d / \sqrt{n}}$$</p>
                <p><strong>Confidence Interval:</strong> $$\bar{d} \pm t^* \left(\frac{s_d}{\sqrt{n}}\right)$$</p>
                <pre><code class="language-r"># Paired data (e.g., before and after intervention):
before &lt;- c(200, 195, 210, 205, 198)
after &lt;- c(190, 185, 205, 200, 192)
alpha &lt;- 0.05            # Significance level

# Calculate the differences:
diff &lt;- before - after

# Summary statistics for differences:
mean_diff &lt;- mean(diff)
s_diff &lt;- sd(diff)
n &lt;- length(diff)

# Compute the t-statistic:
t &lt;- mean_diff / (s_diff / sqrt(n))

# Degrees of freedom:
df &lt;- n - 1

# Two-tailed test:
p_two &lt;- 2 * (1 - pt(abs(t), df = df))
critical_value_two_upper &lt;- qt(1 - alpha/2, df = df)
critical_value_two_lower &lt;- qt(alpha/2, df = df)

# Left-tailed test:
p_left &lt;- pt(t, df = df)
critical_value_left &lt;- qt(alpha, df = df)

# Right-tailed test:
p_right &lt;- 1 - pt(t, df = df)
critical_value_right &lt;- qt(1 - alpha, df = df)

# Compute Confidence Interval (Two-tailed):
CI_lower &lt;- mean_diff - critical_value_two_upper * (s_diff/sqrt(n))
CI_upper &lt;- mean_diff + critical_value_two_upper * (s_diff/sqrt(n))

# Output the t-statistic, mean difference, standard deviation of differences,
# degrees of freedom, p-values, and Confidence Interval:
t
mean_diff
s_diff
df
p_two
critical_value_two_lower
critical_value_two_upper
p_left
critical_value_left
p_right
critical_value_right
CI_lower
CI_upper</code></pre>
                <h5>Paired t-test using t.test</h5>
                <pre><code class="language-r"># Paired t-test with built-in function
t.test(before, after,
       paired = TRUE,
       alternative = "two.sided",
       conf.level = 0.95)
</code></pre>
              </section>

              <!-- Mann-Whitney Panel -->
              <section class="tabpanel" role="tabpanel" id="panel-ht-mann-whitney" aria-labelledby="tab-ht-mann-whitney" tabindex="0" data-varset="mann_whitney">
                <h4>Mann-Whitney U Test (Independent)</h4>
                <p>Non-parametric alternative to the independent two-sample t-test. Tests for differences in medians or distributions.</p>
                <pre><code class="language-r"># Mann-Whitney U Test (Independent Samples)
# Also known as Wilcoxon Rank-Sum test
group1 &lt;- c(10, 12, 11, 13, 12, 15)
group2 &lt;- c(9, 11, 10, 12, 11)

# R's wilcox.test performs this test for independent samples
# 'exact = FALSE' uses a normal approximation for the p-value
# 'correct = TRUE' applies a continuity correction
test_result &lt;- wilcox.test(group1, group2,
                           paired  = FALSE,
                           exact   = FALSE,
                           correct = TRUE)

test_result          # R prints the test output automatically
test_result$p.value  # p-value
</code></pre>
              </section>

              <!-- Wilcoxon Panel -->
              <section class="tabpanel" role="tabpanel" id="panel-ht-wilcoxon" aria-labelledby="tab-ht-wilcoxon" tabindex="0" data-varset="wilcoxon">
                <h4>Wilcoxon Signed-Rank Test (Paired)</h4>
                <p>Non-parametric alternative to the paired t-test. Tests for differences in paired observations.</p>
                <pre><code class="language-r"># Wilcoxon Signed-Rank Test (Paired Samples)
before &lt;- c(200, 195, 210, 205, 198)
after  &lt;- c(190, 185, 205, 200, 192)

# R's wilcox.test with paired = TRUE performs the signed-rank test
test_result &lt;- wilcox.test(before, after,
                           paired  = TRUE,
                           exact   = FALSE,
                           correct = TRUE)

test_result          # R prints the test output automatically
test_result$p.value  # p-value
</code></pre>
              </section>
            </section>
          </article>
        </div>

        <!-- === PANEL: Proportions === -->
        <div id="panel-proportions" class="content-panel" role="tabpanel" aria-labelledby="nav-proportions" tabindex="0">
          <article class="card">
            <h2>Proportion Tests</h2>
            <p><span class="chip exam">Inference</span> Tests and confidence intervals for population proportions.</p>
            
            <section class="tabs tabs-chips" aria-label="Proportion Tests">
              <div class="tablist" role="tablist">
                <button class="tab" role="tab" aria-selected="true" aria-controls="panel-prop-one" id="tab-prop-one">One-sample</button>
                <button class="tab" role="tab" aria-selected="false" aria-controls="panel-prop-two" id="tab-prop-two">Two-sample</button>
              </div>

              <!-- One-sample Proportion Panel -->
              <section class="tabpanel active" role="tabpanel" id="panel-prop-one" aria-labelledby="tab-prop-one" tabindex="0" data-varset="prop_one">
                <h4 data-varset="prop_one">One-sample z-test for Proportion</h4>
                <p><strong>Test Statistic:</strong> $$z = \frac{\hat{p} - p_0}{\sqrt{\frac{p_0(1-p_0)}{n}}}$$</p>
                <pre><code class="language-r"># One-sample z-test for Proportion
x &lt;- 48; n &lt;- 120; p0 &lt;- 0.4
phat &lt;- x/n
alpha &lt;- 0.05

# Test statistic
z &lt;- (phat - p0) / sqrt(p0*(1-p0)/n)

# P-values
p_left &lt;- pnorm(z)
p_right &lt;- 1 - pnorm(z)
p_two &lt;- 2 * (1 - pnorm(abs(z)))

# Output
phat
z
p_two
p_left
p_right
</code></pre>
                
                <h4 style="margin-top:24px;" data-varset="ci_prop">Confidence Interval for Proportion</h4>
                <p><strong>Confidence Interval (Wald):</strong> $$\hat{p} \pm z^* \sqrt{\frac{\hat{p}(1-\hat{p})}{n}}$$</p>
                <pre><code class="language-r">x &lt;- 48; n &lt;- 120; phat &lt;- x/n; alpha &lt;- .05
z_star &lt;- qnorm(1 - alpha/2)
ME &lt;- z_star * sqrt(phat*(1-phat)/n)
CI_lower &lt;- phat - ME
CI_upper &lt;- phat + ME

# Output CI
CI_lower
CI_upper
</code></pre>

                <p class="tiny muted" style="margin-top:6px;">Note: The Wald CI above can be unstable for small n or when \( \hat p \) is near 0 or 1. Prefer <code>prop.test</code> (Wilson score) or the plus-four (Agresti‚ÄìCoull) interval in those cases.</p>

                <h4 style="margin-top:18px;">Math-Only Snippet: Plus-Four (Agresti‚ÄìCoull) CI for One Proportion</h4>
                <p><strong>Formula:</strong> $$\tilde p = \dfrac{x+2}{n+4},\qquad \text{CI} = \tilde p \pm z^*\sqrt{\dfrac{\tilde p(1-\tilde p)}{n+4}}$$</p>
                <pre><code class="language-r"># Plus-Four (Agresti‚ÄìCoull) CI for one proportion (no custom functions)
x &lt;- 46; n &lt;- 50; alpha &lt;- 0.10
x_tilde &lt;- x + 2
n_tilde &lt;- n + 4
p_tilde &lt;- x_tilde / n_tilde
z &lt;- qnorm(1 - alpha/2)
se &lt;- sqrt(p_tilde * (1 - p_tilde) / n_tilde)
c(p_tilde - z*se, p_tilde + z*se)
</code></pre>


                <h4>Proportion test using prop.test</h4>
                <pre><code class="language-r"># One-sample proportion test
prop.test(x = 48, n = 120,
          p = 0.40,
          alternative = "two.sided",
          conf.level = 0.95,
          correct = FALSE)
</code></pre>
              </section>
              
              <!-- Two-sample Proportion Panel -->
              <section class="tabpanel" role="tabpanel" id="panel-prop-two" aria-labelledby="tab-prop-two" tabindex="0" data-varset="prop_two">
                <h4 data-varset="prop_two">Two-sample z-test for Proportion</h4>
                <p><strong>Pooled Proportion (for Test Statistic):</strong> $$\hat{p}_{pool} = \frac{x_1 + x_2}{n_1 + n_2}$$</p>
                <p><strong>Test Statistic:</strong> $$z = \frac{(\hat{p}_1 - \hat{p}_2)}{\sqrt{\hat{p}_{pool}(1-\hat{p}_{pool})\left(\frac{1}{n_1} + \frac{1}{n_2}\right)}}$$</p>
                <p><strong>Confidence Interval (Unpooled SE):</strong> $$(\hat{p}_1 - \hat{p}_2) \pm z^* \sqrt{\frac{\hat{p}_1(1-\hat{p}_1)}{n_1} + \frac{\hat{p}_2(1-\hat{p}_2)}{n_2}}$$</p>
                <pre><code class="language-r"># Two-sample z-test for Proportion
x1 &lt;- 56; n1 &lt;- 150
x2 &lt;- 72; n2 &lt;- 160
alpha &lt;- 0.05

# Sample proportions
phat1 &lt;- x1/n1
phat2 &lt;- x2/n2

# Pooled proportion (for test statistic)
phat_pool &lt;- (x1 + x2) / (n1 + n2)

# Test statistic
z &lt;- (phat1 - phat2) / sqrt(phat_pool*(1-phat_pool)*(1/n1 + 1/n2))

# P-values
p_left &lt;- pnorm(z)
p_right &lt;- 1 - pnorm(z)
p_two &lt;- 2 * (1 - pnorm(abs(z)))

# Confidence Interval (Unpooled standard error)
z_star &lt;- qnorm(1 - alpha/2)
SE_unpooled &lt;- sqrt(phat1*(1-phat1)/n1 + phat2*(1-phat2)/n2)
ME &lt;- z_star * SE_unpooled
CI_lower &lt;- (phat1 - phat2) - ME
CI_upper &lt;- (phat1 - phat2) + ME

# Output
phat1; phat2
z
p_two
p_left
p_right
CI_lower
CI_upper</code></pre>

                <h4>Proportion test using prop.test</h4>
                <pre><code class="language-r"># Two-sample proportion test
x &lt;- c(56, 72)
n &lt;- c(150, 160)
prop.test(x = x, n = n,
          alternative = "two.sided",
          conf.level = 0.95,
          correct = FALSE)
</code></pre>
              </section>
            </section>
          </article>
        </div>
        
        <!-- === PANEL: Chi-Square === -->
        <div id="panel-chi-square" class="content-panel" role="tabpanel" aria-labelledby="nav-chi-square" tabindex="0" data-varset="chi_square">
          <article class="card">
            <h2>Chi-Square</h2>
            <p><span class="chip exam">Inference</span> Tests for categorical data.</p>
            <h3 id="infer-chi-square">Chi-square tests and contingency tables</h3>
            <h4>Key formulas (contingency)</h4>
            <div class="katex-display"><p>$$E_{ij}=\frac{(\text{row }i\ \text{total})(\text{col }j\ \text{total})}{N}$$</p></div>
            <div class="katex-display"><p>$$X^2=\sum_{i=1}^r\sum_{j=1}^c \frac{(O_{ij}-E_{ij})^2}{E_{ij}},\qquad \text{df}=(r-1)(c-1)$$</p></div>
            <div class="card" style="border-left:4px solid var(--warn); padding:10px 12px; background:rgba(180,83,9,.08); margin:12px 0;">
              <p><strong>GOF vs. Contingency ‚Äî choose the right call:</strong> For <em>goodness-of-fit</em> (1 categorical variable with k categories), pass a <code>vector</code> of counts and a probability vector <code>p</code>. df = k ‚àí 1 (minus any parameters estimated). If you build a matrix by accident, R treats it as a contingency table and df becomes (r‚àí1)(c‚àí1).</p>
              <pre><code class="language-r"># Goodness-of-fit (k = 5 ‚áí df = 4)
counts &lt;- c(12, 3, 6, 20, 9)                # observed
probs  &lt;- c(0.2, 0.1, 0.1, 0.3, 0.3)        # stated distribution (sums to 1)
chisq.test(counts, p = probs, correct = FALSE)

# If any expected count &lt; 5, prefer a simulated p-value:
chisq.test(counts, p = probs, simulate.p.value = TRUE, B = 10000)
</code></pre>
              <p class="tiny muted" style="margin-top:6px;">If you see df = 8 or the warning ‚ÄúChi-squared approximation may be incorrect,‚Äù you likely used a contingency-table call or at least one expected count was &lt; 5. Combine sparse categories or use <code>simulate.p.value = TRUE</code>.</p>
            </div>
            <h4>Making a table with matrix()</h4>
            <pre><code class="language-r"># Make a 2 x 3 contingency table from a list of counts
x &lt;- c(12, 8, 5,
       15, 9, 14)

M &lt;- matrix(x,
            nrow = 2,
            ncol = 3,
            byrow = TRUE)
M</code></pre>
            <pre><code class="language-r"># Goodness-of-fit test
counts &lt;- c(50, 30, 20)
probs  &lt;- c(0.5, 0.3, 0.2)
chisq.test(counts, p = probs, correct = FALSE)

# Test of association / homogeneity from a contingency table
M &lt;- matrix(c(12, 8,
              5, 15),
            nrow = 2, byrow = TRUE)
chisq.test(M, correct = FALSE)

# Expected counts
chisq.test(M, correct = FALSE)$expected

# Row and column sums
rowSums(M)
colSums(M)

# Column-wise conditional distribution
M / colSums(M)

# Chi-square critical value (95% area to the left)
qchisq(0.95, df = 3)
</code></pre>

            <h4>GOF quick checklist (no branching)</h4>
            <p class="tiny muted">Use vectors for GOF (one variable with k categories). df should be k ‚àí 1. Do not build a matrix for GOF.</p>
            <pre><code class="language-r"># GOF quick checklist (no branching)
counts &lt;- c(12, 3, 6, 20, 9)
probs  &lt;- c(0.2, 0.1, 0.1, 0.3, 0.3)

probs &lt;- probs / sum(probs)
n &lt;- sum(counts)
expected &lt;- n * probs
expected
length(counts) - 1
min(expected)

chisq.test(counts, p = probs, correct = FALSE)
chisq.test(counts, p = probs, simulate.p.value = TRUE, B = 10000)
</code></pre>

            <h4>Math-Only Snippet: Chi-square from scratch (expected counts, X¬≤, p)</h4>
            <p class="small muted">Build the expected table and compute \(X^2\) and the p-value directly.</p>
            <pre><code class="language-r"># Math-only: chi-square from scratch (contingency table)
# M is an r x c matrix of counts
E  &lt;- outer(rowSums(M), colSums(M)) / sum(M)
X2 &lt;- sum( (M - E)^2 / E )
df &lt;- (nrow(M)-1)*(ncol(M)-1)
p  &lt;- 1 - pchisq(X2, df)
X2; df; p</code></pre>
          </article>
        </div>

        <!-- === PANEL: ANOVA === -->
        <div id="panel-anova" class="content-panel" role="tabpanel" aria-labelledby="nav-anova" tabindex="0" data-varset="anova">
          <article class="card">
            <h2>ANOVA &amp; F</h2>
            <p><span class="chip exam">Inference</span> Analysis of Variance.</p>
            <h3 id="infer-anova">F-distribution and one-way ANOVA</h3>
            <h4>Key formulas (one-way ANOVA)</h4>
            <div class="katex-display"><p>$$\text{SSB}=\sum_{j=1}^{k} n_j(\bar x_j-\bar x_G)^2,\quad \text{SSW}=\sum_{j=1}^{k}\sum_{i=1}^{n_j}(x_{ij}-\bar x_j)^2,\quad \text{SST}=\text{SSB}+\text{SSW}$$</p></div>
            <div class="katex-display"><p>$$\text{MSB}=\frac{\text{SSB}}{k-1},\qquad \text{MSW}=\frac{\text{SSW}}{N-k},\qquad F=\frac{\text{MSB}}{\text{MSW}}$$</p></div>
            <div class="katex-display"><p>$$\eta^2=\frac{\text{SSB}}{\text{SST}} \text{ (effect size)}$$</p></div>
            <pre><code class="language-r"># Effect size from summary parts already computed in this panel:
SST  &lt;- SSB + SSW
eta2 &lt;- SSB / SST
eta2</code></pre>
            <pre><code class="language-r"># F-distribution
df1 &lt;- 2; df2 &lt;- 15
qf(0.95, df1 = df1, df2 = df2)  # value with 95% area to the left
pf(3.2, df1 = df1, df2 = df2)   # P(F &lt;= 3.2)

# Example one-way ANOVA setup
Group &lt;- rep(c("A", "B", "C"), times = c(5, 5, 5))
X &lt;- c(12, 15, 14, 13, 16,
       10, 11,  9, 12, 10,
       18, 17, 16, 19, 18)

fit &lt;- aov(X ~ Group)
anova(fit)
</code></pre>

            <h4>One-way ANOVA from Summary Statistics (no aov)</h4>
            <p class="small muted">Compute the ANOVA F statistic directly from group sizes, means, and standard deviations without calling <code>aov()</code>.</p>
            <pre><code class="language-r"># One-way ANOVA from summary statistics (no aov)
n    &lt;- c(12, 10, 8)          # group sizes
xbar &lt;- c(18.2, 20.1, 22.0)   # group means
s    &lt;- c(3.5, 4.1, 3.8)      # group standard deviations

N    &lt;- sum(n)
gbar &lt;- sum(n * xbar) / N

SSB  &lt;- sum( n * (xbar - gbar)^2 )
SSW  &lt;- sum( (n - 1) * s^2 )

df1  &lt;- length(n) - 1
df2  &lt;- N - length(n)

MSB  &lt;- SSB / df1
MSW  &lt;- SSW / df2

F    &lt;- MSB / MSW
pval &lt;- 1 - pf(F, df1, df2)

F; df1; df2; pval</code></pre>

            <h3>Math-Only Snippet: From Raw Data to (n, xÃÑ, s) by Group</h3>
            <p class="small muted">Compute the inputs (sizes, means, sds) directly from raw vectors to feed into the summary-stats ANOVA above.</p>
            <pre><code class="language-r"># Math-only: from raw data to (n, xbar, s) by group
# x: numeric response, g: group labels (factor or character)
n    &lt;- as.numeric(table(g))
xbar &lt;- tapply(x, g, mean)
s    &lt;- tapply(x, g, sd)</code></pre>
            <h3>Using rep() to build group labels</h3>
            <pre><code class="language-r"># Repeating labels for groups (useful for ANOVA)
Group &lt;- rep(c("A", "B", "C"),
             times = c(5, 5, 5))
Group
</code></pre>
          </article>
        </div>

        <!-- === PANEL: Tables (Reference) === -->
        <div id="panel-tables" class="content-panel" role="tabpanel" aria-labelledby="nav-tables" tabindex="0" data-varset="tables">
          <article class="card">
            <h2>Reference Tables</h2>
            <p><span class="chip resource">Tables</span> Common critical values for the distributions used in this course.</p>

            <section class="tabs tabs-chips" aria-label="Reference tables">
              <div class="tablist" role="tablist">
                <button class="tab" role="tab" aria-selected="true" aria-controls="panel-table-z" id="tab-table-z">Z-table</button>
                <button class="tab" role="tab" aria-selected="false" aria-controls="panel-table-t" id="tab-table-t">t-table</button>
                <button class="tab" role="tab" aria-selected="false" aria-controls="panel-table-chi" id="tab-table-chi">Chi-square table</button>
                <button class="tab" role="tab" aria-selected="false" aria-controls="panel-table-f" id="tab-table-f">F-table</button>
              </div>

              <!-- Z-table panel -->
              <section class="tabpanel active" role="tabpanel" id="panel-table-z" aria-labelledby="tab-table-z" tabindex="0">
                <h3>Standard Normal (Z) Critical Values</h3>
                <p class="small muted">Most problems in this class only need a few standard cutoffs. You can still use the full Z-table from your notes or textbook.</p>
                <table class="sidebar-table" style="margin-top:8px;">
                  <thead>
                    <tr><th>Tail / CI</th><th>Area</th><th>Critical z</th><th>R command</th></tr>
                  </thead>
                  <tbody>
                    <tr><td>Left tail</td><td>0.05</td><td>‚àí1.645</td><td><code>qnorm(0.05)</code></td></tr>
                    <tr><td>Right tail</td><td>0.05</td><td>1.645</td><td><code>qnorm(0.95)</code></td></tr>
                    <tr><td>Two-sided CI</td><td>95%</td><td>¬±1.96</td><td><code>qnorm(0.975)</code></td></tr>
                    <tr><td>Two-sided CI</td><td>99%</td><td>¬±2.576</td><td><code>qnorm(0.995)</code></td></tr>
                  </tbody>
                </table>
              </section>

              <!-- t-table panel -->
              <section class="tabpanel" role="tabpanel" id="panel-table-t" aria-labelledby="tab-table-t" tabindex="0">
                <h3>Student's t Critical Values</h3>
                <p class="small muted">We usually use R to get the exact t critical value for a given confidence level and degrees of freedom.</p>
                <table class="sidebar-table" style="margin-top:8px;">
                  <thead>
                    <tr><th>df</th><th>95% CI (two-sided)</th><th>99% CI (two-sided)</th><th>R command (upper tail)</th></tr>
                  </thead>
                  <tbody>
                    <tr><td>10</td><td>¬±2.228</td><td>¬±3.169</td><td><code>qt(0.975, df = 10)</code></td></tr>
                    <tr><td>20</td><td>¬±2.086</td><td>¬±2.845</td><td><code>qt(0.975, df = 20)</code></td></tr>
                    <tr><td>30</td><td>¬±2.042</td><td>¬±2.750</td><td><code>qt(0.975, df = 30)</code></td></tr>
                  </tbody>
                </table>
                <p class="tiny muted" style="margin-top:6px;">General pattern: upper-tail cutoff is <code>qt(1 - \alpha/2, df)</code> for a two-sided CI with level <code>1 - \alpha</code>.</p>
              </section>

              <!-- Chi-square table panel -->
              <section class="tabpanel" role="tabpanel" id="panel-table-chi" aria-labelledby="tab-table-chi" tabindex="0">
                <h3>Chi-square Critical Values</h3>
                <p class="small muted">Used in goodness-of-fit and association tests. Here are a few common right-tail cutoffs.</p>
                <table class="sidebar-table" style="margin-top:8px;">
                  <thead>
                    <tr><th>df</th><th>Right-tail 0.05</th><th>Right-tail 0.01</th><th>R command</th></tr>
                  </thead>
                  <tbody>
                    <tr><td>1</td><td>3.84</td><td>6.63</td><td><code>qchisq(0.95, df = 1)</code></td></tr>
                    <tr><td>2</td><td>5.99</td><td>9.21</td><td><code>qchisq(0.95, df = 2)</code></td></tr>
                    <tr><td>3</td><td>7.81</td><td>11.34</td><td><code>qchisq(0.95, df = 3)</code></td></tr>
                  </tbody>
                </table>
                <p class="tiny muted" style="margin-top:6px;">General pattern: right-tail cutoff is <code>qchisq(1 - \alpha, df)</code>.</p>
              </section>

              <!-- F-table panel -->
              <section class="tabpanel" role="tabpanel" id="panel-table-f" aria-labelledby="tab-table-f" tabindex="0">
                <h3>F Critical Values</h3>
                <p class="small muted">Used for ANOVA. You will normally use R to get these, but here are some typical cutoffs.</p>
                <table class="sidebar-table" style="margin-top:8px;">
                  <thead>
                    <tr><th>df<sub>1</sub> (numerator)</th><th>df<sub>2</sub> (denominator)</th><th>Right-tail 0.05</th><th>R command</th></tr>
                  </thead>
                  <tbody>
                    <tr><td>2</td><td>10</td><td>4.10</td><td><code>qf(0.95, df1 = 2, df2 = 10)</code></td></tr>
                    <tr><td>2</td><td>20</td><td>3.49</td><td><code>qf(0.95, df1 = 2, df2 = 20)</code></td></tr>
                    <tr><td>3</td><td>20</td><td>3.10</td><td><code>qf(0.95, df1 = 3, df2 = 20)</code></td></tr>
                  </tbody>
                </table>
                <p class="tiny muted" style="margin-top:6px;">General pattern: right-tail cutoff is <code>qf(1 - \alpha, df1, df2)</code>.</p>
              </section>
            </section>
          </article>
        </div>

        <!-- === PANEL: CLT === -->
        <div id="panel-clt" class="content-panel" role="tabpanel" aria-labelledby="nav-clt" tabindex="0" data-varset="clt">
          <article class="card">
            <h2>Sampling Distribution &amp; CLT</h2>
            <p><span class="pill gold">Advanced Topic</span> Sampling distribution of $\bar X$ and the Central Limit Theorem.</p>
            <pre><code class="language-r"># CLT simulation
set.seed(1)
mu &lt;- 70; sigma &lt;- 10; n &lt;- 30
B &lt;- 5000
xbar &lt;- replicate(B, mean(rnorm(n, mu, sigma)))
hist(xbar, breaks=30, main="Sampling dist. of xÃÑ")
mean(xbar); sd(xbar)  # ‚âà mu, sigma/sqrt(n)</code></pre>
            <p class="small muted">Use this to see how sample means behave across many repeated samples and to visualize the Central Limit Theorem. You do not need to memorize this code; it is here to help you see where the formulas for the sampling distribution come from.</p>

            <h4>All possible sample means using combinations</h4>
            <pre><code class="language-r"># Small example to see all possible sample means from combinations
x &lt;- c(1, 2, 3, 4)
combn(x, 2)         # all pairs of elements from x (without replacement)
combn(x, 2, mean)   # the mean of each pair
# You can change 2 to any k with 1 &lt; k &lt; length(x).
</code></pre>
          </article>
        </div>

        <!-- === PANEL: Linear Regression === -->
        <div id="panel-regression" class="content-panel" role="tabpanel" aria-labelledby="nav-regression" tabindex="0" data-varset="regression">
          <article class="card">
            <h2>Linear Regression</h2>
            <p><span class="pill gold">Advanced Topic</span> Builds on earlier chapters.</p>
            <h3>Simple Linear Regression</h3>
            <p>Model: $$ y = \beta_0 + \beta_1 x + \epsilon $$</p>
            <h4>Key formulas (simple linear regression)</h4>
            <div class="katex-display"><p>$$b_1=\frac{\sum(x_i-\bar x)(y_i-\bar y)}{\sum(x_i-\bar x)^2},\qquad b_0=\bar y-b_1\bar x$$</p></div>
            <div class="katex-display"><p>$$\hat\sigma^2=\frac{\sum(y_i-\hat y_i)^2}{n-2},\qquad \mathrm{SE}(b_1)=\sqrt{\frac{\hat\sigma^2}{\sum(x_i-\bar x)^2}}$$</p></div>
            <div class="katex-display"><p>$$t=\frac{b_1}{\mathrm{SE}(b_1)},\quad \text{CI}_{b_1}: \ b_1 \pm t^*\,\mathrm{SE}(b_1)$$</p></div>
            <pre><code class="language-r">x_data &lt;- c(10, 15, 20, 25, 30)
y_data &lt;- c(12, 18, 22, 28, 35)
model &lt;- lm(y_data ~ x_data)
summary(model)
coef(model)</code></pre>

            <h3>Scatterplots and data frames</h3>
            <pre><code class="language-r"># Create a data frame
df &lt;- data.frame(x = x_data, y = y_data)

# Basic scatterplot
plot(x_data, y_data)

# Scatterplot with some options
plot(x_data, y_data,
     cex = 1.3,     # point size
     pch = 16,      # filled circles
     col = "blue4")  # point color

# Correlation coefficient
cor(x_data, y_data)

# Add regression line after plot
b0 &lt;- coef(model)[1]
b1 &lt;- coef(model)[2]
abline(b0, b1)
</code></pre>

            <h3 id="reg-ci-coef">95% Confidence Intervals for Coefficients</h3>
            <p class="small muted">Use <code>confint()</code> on your fitted object. If you named it <code>model</code> as above:</p>
            <pre><code class="language-r"># 95% CIs for regression coefficients (intercept and slope)
confint(model, level = 0.95)
# If your object is named 'fit':
# confint(fit, level = 0.95)
# Example for 90%: confint(model, level = 0.90)</code></pre>

            <h3 id="reg-ci-mean">Math-Only Snippet: CI for mean response at x‚ÇÄ (no predict)</h3>
            <p class="small muted">Compute a CI for the <em>mean</em> response at a specific x-value using formulas only (no <code>predict()</code>).</p>
            <div class="katex-display"><p>$${\\mathrm{SE}_{\\bar y}(x_0)=\\sqrt{\\hat\\sigma^2\\left(\\frac1n+\\frac{(x_0-\\bar x)^2}{S_{xx}}\\right)}\\,,\\quad S_{xx}=\\sum(x_i-\\bar x)^2}$$</p></div>
            <pre><code class="language-r"># Math-only: CI for mean response at x0 (no predict)
x0   &lt;- 25
xbar &lt;- mean(x_data); ybar &lt;- mean(y_data)
Sxx  &lt;- sum( (x_data - xbar)^2 )
Sxy  &lt;- sum( (x_data - xbar)*(y_data - ybar) )
b1   &lt;- Sxy / Sxx
b0   &lt;- ybar - b1*xbar

# residual variance
e2   &lt;- sum( (y_data - (b0 + b1*x_data))^2 )
sig2 &lt;- e2 / (length(x_data)-2)

# SE and 95% CI
se_mean &lt;- sqrt( sig2 * ( 1/length(x_data) + (x0 - xbar)^2 / Sxx ) )
tstar   &lt;- qt(0.975, df = length(x_data)-2)
yhat0   &lt;- b0 + b1*x0
c(yhat0 - tstar*se_mean, yhat0 + tstar*se_mean)</code></pre>

            <h3 id="reg-pred-int">Math-Only Snippet: Prediction interval for a new y at x‚ÇÄ (no predict)</h3>
            <p class="small muted">Interval for a <em>new observation</em> adds model noise to the mean-response SE.</p>
            <div class="katex-display"><p>$${\\mathrm{SE}_{\\text{pred}}(x_0)=\\sqrt{\\hat\\sigma^2\\left(1+\\frac1n+\\frac{(x_0-\\bar x)^2}{S_{xx}}\\right)}\\,,\\quad \\hat y_0 \\pm t^*\\,\\mathrm{SE}_{\\text{pred}}(x_0)}$$</p></div>
            <pre><code class="language-r"># Math-only: prediction interval at x0 (no predict)
se_pred &lt;- sqrt( sig2 * ( 1 + 1/length(x_data) + (x0 - xbar)^2 / Sxx ) )
c(yhat0 - tstar*se_pred, yhat0 + tstar*se_pred)</code></pre>

            <h3>Math-Only Snippet: Manual Formulas (no predict)</h3>
            <p class="small muted">If you want step-by-step calculations for homework, this derives slope/intercept and the slope CI from formulas (no automation):</p>
            <pre><code class="language-r"># Math-only: manual OLS formulas (no predict)
xbar &lt;- mean(x_data); ybar &lt;- mean(y_data)
Sxx  &lt;- sum( (x_data - xbar)^2 )
Sxy  &lt;- sum( (x_data - xbar)*(y_data - ybar) )
b1   &lt;- Sxy / Sxx
b0   &lt;- ybar - b1*xbar

# residual variance and SE(b1)
e2   &lt;- sum( (y_data - (b0 + b1*x_data))^2 )
sig2 &lt;- e2 / (length(x_data)-2)
se_b1 &lt;- sqrt(sig2 / Sxx)

# t and CI for slope (95%)
tval  &lt;- b1 / se_b1
tstar &lt;- qt(0.975, df = length(x_data)-2)
c(b1 - tstar*se_b1, b1 + tstar*se_b1)</code></pre>
          </article>
        </div>

      </section>

      <!-- === COLUMN 3: SIDEBAR === -->
      <aside class="sidebar-aside" role="complementary">
        <div class="sidebar-card">
          <h3>Variables &amp; Definitions</h3>
          <div id="varsContext" class="tiny muted" aria-live="polite"></div>
          <details id="varsAllContainer" class="tiny" style="margin:8px 0 6px;">
            <summary class="pill" aria-controls="varsAllBody">Show all symbols</summary>
            <div style="margin-top:8px;">
              <table class="sidebar-table">
                <tbody id="varsAllBody"></tbody>
              </table>
            </div>
          </details>
          <table class="sidebar-table" aria-label="Variable Definitions">
            <tbody id="varsBody">
              <tr><th><code>&mu;</code></th><td>Population mean</td></tr>
              <tr><th><code>&sigma;</code></th><td>Population standard deviation</td></tr>
              <tr><th><code>&mu;<sub>0</sub></code></th><td>Hypothesized population mean</td></tr>
              <tr><th><code>x&#772;</code></th><td>Sample mean</td></tr>
              <tr><th><code>s</code></th><td>Sample standard deviation</td></tr>
              <tr><th><code>n</code></th><td>Sample size</td></tr>
              <tr><th><code>s<sub>p</sub><sup>2</sup></code></th><td>Pooled variance</td></tr>
              <tr><th><code>df</code></th><td>Degrees of freedom</td></tr>
              <tr><th><code>&alpha;</code></th><td>Significance level (e.g., 0.05)</td></tr>
              <tr><th><code>d</code></th><td>Paired differences</td></tr>
              <tr><th><code>d&#772;</code></th><td>Mean of paired differences</td></tr>
              <tr><th><code>s<sub>d</sub></code></th><td>Standard deviation of paired differences</td></tr>
            </tbody>
          </table>
        </div>
      </aside>

    </div>
  </main>

  <!-- === FOOTER === -->
  <footer class="site-footer" role="contentinfo">
    <div class="wrap footer-grid">
      <div class="footer-brand">
        <div class="tiny muted">MATH 1320 ‚Äî Introductory Probability &amp; Statistics</div>
        <div><strong>RStudio Dashboard</strong></div>
        <div class="tiny muted">Prepared by <strong>Vinay Kanth Rao Kodipelly</strong></div>
      </div>

      <nav class="footer-links" aria-label="Quick links">
        <a href="#descriptive">Descriptive</a>
        <a href="#prob">Probability</a>
        <!-- UPDATED FOOTER LINKS -->
        <a href="#one-mean">One Mean</a>
        <a href="#two-means">Two Means</a>
        <a href="#proportions">Proportions</a>
        <a href="#chi-square">Chi-Square</a>
        <a href="#anova">ANOVA</a>
        <a href="#regression">Regression</a>
      </nav>

      <div class="footer-meta">
        <div class="last-updated">Last updated: <span id="lastUpdated"></span></div>
        <div class="tiny muted"><a class="to-top" href="#main">Back to top ‚Üë</a></div>
      </div>
    </div>
  </footer>

  <script>
    /* === Dark Mode Toggle === */
    (function() {
      const btn = document.getElementById('contrastToggle');
      if (!btn) return;
      const root = document.documentElement;
      const KEY = 'pref_scheme_1320_r';
      function apply(mode) {
        const isDark = mode === 'dark';
        root.classList.toggle('dark', isDark);
        try { localStorage.setItem(KEY, mode); } catch(e) {}
        btn.setAttribute('aria-pressed', isDark ? 'true' : 'false');
        document.dispatchEvent(new CustomEvent('themechange', { detail: { mode } }));
      }
      let mode = 'light';
      try { mode = localStorage.getItem(KEY) || 'light'; } catch(e) {}
      apply(mode);
      btn.addEventListener('click', () => {
        mode = root.classList.contains('dark') ? 'light' : 'dark';
        apply(mode);
      });
    })();

    /* === Dynamic Variables & Definitions (Right Sidebar) === */
    (function(){
      const VAR_SETS = {
        default: [
          { sym:'&mu;', def:'Population mean' },
          { sym:'&mu;<sub>0</sub>', def:'Hypothesized population mean' },
          { sym:'x&#772;', def:'Sample mean' },
          { sym:'s', def:'Sample standard deviation' },
          { sym:'n', def:'Sample size' },
          { sym:'df', def:'Degrees of freedom' },
          { sym:'&alpha;', def:'Significance level (e.g., 0.05)' }
        ],
        intro: [
          { sym:'x&#772;', def:'Sample mean' },
          { sym:'s', def:'Sample standard deviation' },
          { sym:'n', def:'Sample size' }
        ],
        core: [
          { sym:'&mu;', def:'Population mean' },
          { sym:'x&#772;', def:'Sample mean' },
          { sym:'s', def:'Sample standard deviation' },
          { sym:'n', def:'Sample size' },
          { sym:'df', def:'Degrees of freedom' }
        ],
        z: [
          { sym:'&mu;', def:'Population mean' },
          { sym:'&mu;<sub>0</sub>', def:'Hypothesized population mean' },
          { sym:'x&#772;', def:'Sample mean' },
          { sym:'&sigma;', def:'Known population standard deviation' },
          { sym:'n', def:'Sample size' },
          { sym:'z', def:'Z-test statistic' },
          { sym:'&alpha;', def:'Significance level' }
        ],
        t_one: [
          { sym:'&mu;', def:'Population mean' },
          { sym:'&mu;<sub>0</sub>', def:'Hypothesized population mean' },
          { sym:'x&#772;', def:'Sample mean' },
          { sym:'s', def:'Sample standard deviation' },
          { sym:'n', def:'Sample size' },
          { sym:'df', def:'Degrees of freedom' },
          { sym:'t', def:'t-test statistic' },
          { sym:'&alpha;', def:'Significance level' }
        ],
        t_two_pooled: [
          { sym:'&mu;<sub>1</sub>', def:'Population mean of Group 1' },
          { sym:'&mu;<sub>2</sub>', def:'Population mean of Group 2' },
          { sym:'x&#772;<sub>1</sub>', def:'Sample mean of Group 1' },
          { sym:'x&#772;<sub>2</sub>', def:'Sample mean of Group 2' },
          { sym:'s<sub>1</sub>', def:'Sample standard deviation of Group 1' },
          { sym:'s<sub>2</sub>', def:'Sample standard deviation of Group 2' },
          { sym:'n<sub>1</sub>', def:'Sample size of Group 1' },
          { sym:'n<sub>2</sub>', def:'Sample size of Group 2' },
          { sym:'s<sub>p</sub><sup>2</sup>', def:'Pooled variance' },
          { sym:'df', def:'Degrees of freedom (n‚ÇÅ + n‚ÇÇ ‚àí 2)' },
          { sym:'t', def:'t-test statistic' },
          { sym:'&alpha;', def:'Significance level' }
        ],
        t_two_unpooled: [
          { sym:'&mu;<sub>1</sub>', def:'Population mean of Group 1' },
          { sym:'&mu;<sub>2</sub>', def:'Population mean of Group 2' },
          { sym:'x&#772;<sub>1</sub>', def:'Sample mean of Group 1' },
          { sym:'x&#772;<sub>2</sub>', def:'Sample mean of Group 2' },
          { sym:'s<sub>1</sub>', def:'Sample standard deviation of Group 1' },
          { sym:'s<sub>2</sub>', def:'Sample standard deviation of Group 2' },
          { sym:'n<sub>1</sub>', def:'Sample size of Group 1' },
          { sym:'n<sub>2</sub>', def:'Sample size of Group 2' },
          { sym:'df', def:'Welch‚ÄìSatterthwaite degrees of freedom' },
          { sym:'t', def:'t-test statistic' },
          { sym:'&alpha;', def:'Significance level' }
        ],
        t_paired: [
          { sym:'&mu;<sub>d</sub>', def:'Population mean of differences' },
          { sym:'d&#772;', def:'Sample mean of differences' },
          { sym:'s<sub>d</sub>', def:'Std. dev. of differences' },
          { sym:'n', def:'Number of pairs' },
          { sym:'df', def:'Degrees of freedom (n ‚àí 1)' },
          { sym:'t', def:'t-test statistic' },
          { sym:'&alpha;', def:'Significance level' }
        ],
        mann_whitney: [
          { sym:'U', def:'Mann-Whitney U statistic' },
          { sym:'R<sub>1</sub>', def:'Sum of ranks (Group 1)' },
          { sym:'R<sub>2</sub>', def:'Sum of ranks (Group 2)' },
          { sym:'n<sub>1</sub>', def:'Sample size (Group 1)' },
          { sym:'n<sub>2</sub>', def:'Sample size (Group 2)' }
        ],
        wilcoxon: [
          { sym:'W', def:'Wilcoxon statistic' },
          { sym:'R+', def:'Sum of positive ranks' },
          { sym:'R-', def:'Sum of negative ranks' },
          { sym:'n', def:'Number of pairs' }
        ],
        regression: [
          { sym:'y', def:'Response variable' },
          { sym:'x', def:'Predictor variable' },
          { sym:'&beta;<sub>0</sub>', def:'Intercept' },
          { sym:'&beta;<sub>1</sub>', def:'Slope' },
          { sym:'&epsilon;', def:'Random error term' }
        ],
        descriptive: [
          { sym:'x', def:'Observed variable' },
          { sym:'x&#772;', def:'Sample mean' },
          { sym:'s', def:'Sample standard deviation' },
          { sym:'Q1, Q3', def:'Quartiles' },
          { sym:'IQR', def:'Interquartile range' }
        ],
        prob: [
          { sym:'X', def:'Random variable' },
          { sym:'P(A)', def:'Probability of event A' },
          { sym:'E[X]', def:'Expected value' },
          { sym:'&mu;', def:'Distribution mean' },
          { sym:'&sigma;', def:'Distribution std. dev.' }
        ],
        clt: [
          { sym:'&mu;', def:'Population mean' },
          { sym:'&sigma;', def:'Population std. dev.' },
          { sym:'n', def:'Sample size' },
          { sym:'x&#772;', def:'Sample mean' },
          { sym:'N(&mu;, &sigma;<sup>2</sup>/n)', def:'Approx. sampling dist. of x&#772;' }
        ],
        ci_mean_known: [
          { sym:'x&#772;', def:'Sample mean' },
          { sym:'&sigma;', def:'Known population std. dev.' },
          { sym:'n', def:'Sample size' },
          { sym:'z*', def:'Critical z value' }
        ],
        ci_mean_unknown: [
          { sym:'x&#772;', def:'Sample mean' },
          { sym:'s', def:'Sample std. dev.' },
          { sym:'n', def:'Sample size' },
          { sym:'t*', def:'Critical t value' },
          { sym:'df', def:'Degrees of freedom' }
        ],
        ci_prop: [
          { sym:'p&#770;', def:'Sample proportion (x/n)' },
          { sym:'n', def:'Sample size' },
          { sym:'z*', def:'Critical z value' }
        ],
        prop_one: [
          { sym:'p', def:'Population proportion' },
          { sym:'p<sub>0</sub>', def:'Hypothesized proportion' },
          { sym:'p&#770;', def:'Sample proportion (x/n)' },
          { sym:'x', def:'Number of successes' },
          { sym:'n', def:'Sample size' },
          { sym:'z', def:'z-test statistic' }
        ],
        prop_two: [
          { sym:'p<sub>1</sub>, p<sub>2</sub>', def:'Population proportions' },
          { sym:'p&#770;<sub>1</sub>, p&#770;<sub>2</sub>', def:'Sample proportions' },
          { sym:'p&#770;<sub>pool</sub>', def:'Pooled proportion' },
          { sym:'x<sub>1</sub>, x<sub>2</sub>', def:'Successes in samples' },
          { sym:'n<sub>1</sub>, n<sub>2</sub>', def:'Sample sizes' },
          { sym:'z', def:'z-test statistic' }
        ],
        // ADDED NEW VAR SETS
        tables: [
          { sym:'z', def:'Standard normal critical value' },
          { sym:'t', def:'t critical value' },
          { sym:'&chi;<sup>2</sup>', def:'Chi-square critical value' },
          { sym:'F', def:'F critical value' }
        ],
        chi_square: [
          { sym:'&chi;<sup>2</sup>', def:'Chi-square test statistic' },
          { sym:'O', def:'Observed frequencies' },
          { sym:'E', def:'Expected frequencies' },
          { sym:'df', def:'Degrees of freedom' }
        ],
        anova: [
          { sym:'F', def:'F-test statistic' },
          { sym:'MSG', def:'Mean Square (Groups)' },
          { sym:'MSE', def:'Mean Square (Error)' },
          { sym:'df<sub>G</sub>', def:'Degrees of freedom (Groups)' },
          { sym:'df<sub>E</sub>', def:'Degrees of freedom (Error)' }
        ]
      };

      const LABELS = {
        default: 'Core symbols',
        intro: 'General setup',
        core: 'Core symbols',
        z: 'Z-test (one-sample, known œÉ)',
        t_one: 'One-sample t-test',
        t_two_pooled: 'Two-sample t-test (pooled)',
        t_two_unpooled: 'Two-sample t-test (Welch)',
        t_paired: 'Paired t-test',
        mann_whitney: 'Mann-Whitney U Test',
        wilcoxon: 'Wilcoxon Signed-Rank Test',
        regression: 'Simple linear regression',
        descriptive: 'Descriptive statistics',
        prob: 'Probability & Distribution',
        clt: 'Sampling distributions & CLT',
        ci_mean_known: 'CI for mean (known œÉ)',
        ci_mean_unknown: 'CI for mean (unknown œÉ)',
        ci_prop: 'CI for proportion',
        prop_one: 'One-sample proportion test',
        prop_two: 'Two-sample proportion test',
        // ADDED NEW LABELS
        tables: 'Reference tables (z, t, œá¬≤, F)',
        chi_square: 'Chi-square tests',
        anova: 'ANOVA & F-distribution'
      };

      function renderSidebar(key){
        const items = VAR_SETS[key] || VAR_SETS.default;
        const tbody = document.getElementById('varsBody');
        const ctx = document.getElementById('varsContext');
        if (!tbody) return;
        tbody.innerHTML = items.map(i => (
          `<tr><th><code>${i.sym}</code></th><td>${i.def}</td></tr>`
        )).join('');
        if (ctx) ctx.textContent = LABELS[key] || '';
      }

      function getAllUnique(){
        const seen = new Set();
        const all = [];
        Object.keys(VAR_SETS).forEach(k => {
          if (k === 'default') return;
          VAR_SETS[k].forEach(i => {
            const key = i.sym + '|' + i.def;
            if (!seen.has(key)) { seen.add(key); all.push(i); }
          });
        });
        return all;
      }

      function populateAllList(){
        const body = document.getElementById('varsAllBody');
        if (!body) return;
        const all = getAllUnique();
        body.innerHTML = all.map(i => (
          `<tr><th><code>${i.sym}</code></th><td>${i.def}</td></tr>`
        )).join('');
      }

      // Expose helpers
      window.__updateVarsForPanel = function(panelEl){
        if (!panelEl) return renderSidebar('default');
        let key = panelEl.getAttribute('data-varset');
        if (!key) {
          const activeTabPanel = panelEl.querySelector('.tabpanel.active[data-varset]');
          if (activeTabPanel) key = activeTabPanel.getAttribute('data-varset');
        }
        if (!key) {
          const activeH4 = panelEl.querySelector('h4[data-varset]');
          if (activeH4) key = activeH4.getAttribute('data-varset');
        }
        renderSidebar(key || 'default');
      };
      window.__vars_populateAll = populateAllList;
    })();

    /* === Final Page Load Setup === */
    document.addEventListener('DOMContentLoaded', () => {
      
      /* === L1/L2 Main Vertical Nav Script (MOVED HERE) === */
      (function() {
        const nav = document.getElementById('main-nav');
        if (!nav) return;
        const links = Array.from(nav.querySelectorAll('a[aria-controls]'));
        const panels = links.map(link => document.getElementById(link.getAttribute('aria-controls')));

        function activateNav(targetLink, focus = false) {
          links.forEach((link, i) => {
            const panel = panels[i];
            const isSelected = (link === targetLink);
            link.setAttribute('aria-selected', isSelected ? 'true' : 'false');
            if (isSelected) {
              link.setAttribute('aria-current', 'page');
              try { link.scrollIntoView({block:'nearest'}); } catch(e){}
            } else {
              link.removeAttribute('aria-current');
            }
            if (panel) panel.classList.toggle('active', isSelected);
          });
          if (focus) targetLink.focus();
          // Update Variables & Definitions for the selected panel
          try {
            const targetPanel = document.getElementById(targetLink.getAttribute('aria-controls'));
            if (window.__updateVarsForPanel && targetPanel) window.__updateVarsForPanel(targetPanel);
          } catch(e){}
          // Update hash without jumping
          try { history.replaceState(null, '', targetLink.hash); } catch(e) {}
        }

        nav.addEventListener('click', (e) => {
          const targetLink = e.target.closest('a[aria-controls]');
          if (targetLink) {
            e.preventDefault();
            activateNav(targetLink, false);
          }
        });

        // Activate panel based on URL hash on load
        const currentHash = window.location.hash || '#intro';
        const initialLink = links.find(link => link.hash === currentHash) || links[0];
        if (initialLink) activateNav(initialLink, false);

        // Sync when hash changes (e.g., footer quick links)
        window.addEventListener('hashchange', () => {
          const link = links.find(l => l.hash === window.location.hash);
          if (link) activateNav(link, false);
        });
      })();

      /* === L3/L4 Enhanced Tab Script (MOVED HERE) === */
      (function() {
        function initializeTabs(tabContainer) {
          const tablist = tabContainer.querySelector('[role="tablist"]');
          if (!tablist) return;
          const tabs = Array.from(tablist.querySelectorAll('[role="tab"]'));
          const panels = tabs.map(t => document.getElementById(t.getAttribute('aria-controls')));

          // Persistence key per parent tabpanel scope
          const scopePanel = tabContainer.closest('.content-panel[id]'); // CHANGED: robust selector
          const storageKey = 'tabs.sel.' + (scopePanel ? scopePanel.id : 'global');

          function activateTab(idx, focus = true) {
            if (idx < 0 || idx >= tabs.length) return; // Safety check
            
            tabs.forEach((t, i) => {
              const sel = i === idx;
              t.setAttribute('aria-selected', sel ? 'true' : 'false');
              t.tabIndex = sel ? 0 : -1;
              if (panels[i]) panels[i].classList.toggle('active', sel);
            });
            if (focus) tabs[idx].focus();
            // store selection
            try { localStorage.setItem(storageKey, String(idx)); } catch(e){}
            // sync right-rail variables
            if (window.__updateVarsForPanel && panels[idx]) window.__updateVarsForPanel(panels[idx]);
            try { tabs[idx].scrollIntoView({block:'nearest', inline:'nearest'}); } catch(e) {}
          }

          // initial selection: stored index ‚Üí otherwise first ‚Äúaria-selected=true‚Äù ‚Üí 0
          let stored = -1;
          try { stored = parseInt(localStorage.getItem(storageKey), 10); } catch(e){}
          const declared = Math.max(0, tabs.findIndex(t => t.getAttribute('aria-selected') === 'true'));
          const initialIndex = Number.isInteger(stored) && stored >= 0 && stored < tabs.length ? stored : declared;
          activateTab(initialIndex, false);

          tabs.forEach((t, idx) => {
            t.addEventListener('click', (e) => { e.preventDefault(); activateTab(idx, false); });
            t.addEventListener('keydown', (e) => {
              let i = tabs.findIndex(x => x.getAttribute('aria-selected') === 'true');
              if (e.key === 'ArrowRight' || e.key === 'ArrowDown') { e.preventDefault(); activateTab((i + 1) % tabs.length); }
              else if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') { e.preventDefault(); activateTab((i - 1 + tabs.length) % tabs.length); }
              else if (e.key === 'Home') { e.preventDefault(); activateTab(0); }
              else if (e.key === 'End') { e.preventDefault(); activateTab(tabs.length - 1); }
            });
          });
        }
        document.querySelectorAll('.tabs').forEach(initializeTabs);
      })();

      // Prism autoloader path config
      if (window.Prism && Prism.plugins && Prism.plugins.autoloader) {
        Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
      }

      // Render math in the body (ignore code/pre tags so R snippets don't get mangled)
      if (window.renderMathInElement) {
        renderMathInElement(document.body, {
          delimiters: [
            { left: '$$', right: '$$', display: true },
            { left: '$', right: '$', display: false }
          ],
          ignoredTags: ['script','noscript','style','textarea','pre','code']
        });
      }

      // Highlight all code blocks
      if (window.Prism) Prism.highlightAll();

      // Add "Copy" buttons to code blocks (with fallback for non-secure contexts)
      document.querySelectorAll('pre[class*=\"language-\"]').forEach((pre) => {
        const code = pre.querySelector('code');
        if (!code) return;
        const btn = document.createElement('button');
        btn.className = 'copy-btn';
        btn.type = 'button';
        btn.setAttribute('aria-label', 'Copy code to clipboard');
        btn.textContent = 'Copy';
        btn.addEventListener('click', async () => {
          const text = code.innerText;
          async function legacyCopy(txt){
            const ta = document.createElement('textarea');
            ta.value = txt; ta.style.position='fixed'; ta.style.top='-1000px';
            document.body.appendChild(ta); ta.focus(); ta.select();
            try{ document.execCommand('copy'); } finally { document.body.removeChild(ta); }
          }
          try{
            if (navigator.clipboard && window.isSecureContext) {
              await navigator.clipboard.writeText(text);
            } else {
              await legacyCopy(text);
            }
            const prev = btn.textContent; btn.textContent = 'Copied'; setTimeout(() => btn.textContent = prev, 1200);
          }catch(e){
            btn.textContent = 'Error'; setTimeout(() => btn.textContent = 'Copy', 1200);
          }
        });
        pre.appendChild(btn);
      });

      // Initial sync of Variables & Definitions with the active center panel
      (function(){  
        let active = document.querySelector('.content-panel.active') || document.getElementById('panel-intro');
        if (active && !active.getAttribute('data-varset')) {
          const activeTabPanel = active.querySelector('.tabpanel.active[data-varset]');
          if (activeTabPanel) active = activeTabPanel;
        }
        if (window.__updateVarsForPanel && active) {
          const nested = active.querySelector('.tabpanel.active[data-varset]');
          window.__updateVarsForPanel(nested || active);
        }
      })();

      // Build the master list for the Show All Symbols toggle
      if (window.__vars_populateAll) window.__vars_populateAll();
      (function(){
        const det = document.getElementById('varsAllContainer');
        if (!det) return;
        const sum = det.querySelector('summary');
        det.addEventListener('toggle', () => {
          if (sum) sum.textContent = det.open ? 'Hide all symbols' : 'Show all symbols';
        });
  })();

    });
  </script>
  <script>
  // 1) Render LaTeX with KaTeX auto-render
  document.addEventListener('DOMContentLoaded', function(){
    try{
      if (typeof renderMathInElement === 'function') {
        renderMathInElement(document.body, {
          delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "\\(", right: "\\)", display: false},
            {left: "$", right: "$", display: false}
          ],
          throwOnError: false
        });
      }
    }catch(e){}
  });

  // 2) Add "Copy" buttons to all <pre><code> blocks
  (function(){
    function addCopy(btn, code){
      btn.addEventListener('click', async function(){
        try{
          await navigator.clipboard.writeText(code.innerText);
          const old = btn.textContent; btn.textContent = 'Copied!';
          setTimeout(() => btn.textContent = old, 1400);
        }catch(e){}
      });
    }
    document.addEventListener('DOMContentLoaded', function(){
      document.querySelectorAll('pre > code').forEach(function(code){
        const pre = code.parentElement;
        if (pre.querySelector('.copy-btn')) return;
        const btn = document.createElement('button');
        btn.className = 'copy-btn';
        btn.type = 'button';
        btn.textContent = 'Copy';
        pre.appendChild(btn);
        addCopy(btn, code);
      });
    });
  })();
  </script>
  <script>
  (function(){
    try{
      var el = document.getElementById('lastUpdated');
      if(el){
        var fmt = new Intl.DateTimeFormat('en-US', {
          timeZone: 'America/Chicago',
          year: 'numeric', month: 'short', day: '2-digit',
          hour: 'numeric', minute: '2-digit'
        });
        el.textContent = fmt.format(new Date()) + ' (CT)';
      }
    }catch(e){}
  })();
  </script>
</body>
</html>
