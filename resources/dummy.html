<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parabolas Quiz</title>
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
    <script type="text/javascript" id="MathJax-script" async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
    </script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f4f7f9;
            color: #333;
            margin: 0;
            padding-top: 80px; /* Space for the fixed header */
        }
        .header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: #fff;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 1rem 2rem;
            z-index: 1000;
            display: none; /* Hidden until quiz starts */
            
            /* --- MODIFICATION --- */
            /* Use flex to center the title and timer together */
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 2rem; /* Adds space between the title and timer */
        }
        .header h2 {
            margin: 0;
            color: #2c3e50;
        }
        #timer {
            font-size: 1.5rem;
            font-weight: bold;
            color: #e74c3c;
            background-color: #f1f1f1;
            padding: 8px 15px;
            border-radius: 8px;
        }
        .quiz-container {
            background-color: #fff;
            padding: 2rem 3rem;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 800px;
            margin: 2rem auto;
            text-align: center;
        }
        h1, h2 { color: #2c3e50; }
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2rem;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            margin-top: 1rem;
        }
        button:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
        }
        .question {
            text-align: left;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #eee;
        }
        .question p {
            font-size: 1.2rem;
            font-weight: 500;
            margin-bottom: 1rem;
        }
        .options div { margin-bottom: 0.75rem; font-size: 1.1rem; }
        .options label { margin-left: 10px; cursor: pointer; }
        .question-group {
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 1rem 1.5rem;
            margin-bottom: 1rem;
        }
        #results-screen h2 { margin-bottom: 1rem; }
        #score { font-size: 1.8rem; font-weight: bold; color: #27ae60; margin-bottom: 2rem; }
        .answer-card {
            text-align: left;
            margin-bottom: 1rem;
            padding: 1rem;
            border-radius: 8px;
        }
        .answer-card.correct { background-color: #e8f5e9; border-left: 5px solid #4caf50; }
        .answer-card.incorrect { background-color: #ffebee; border-left: 5px solid #f44336; }
        .answer-card p { margin: 0.5rem 0; }
        .answer-card .correct-answer { font-weight: bold; color: #388e3c; }
    </style>
</head>
<body>

<div class="header" id="quiz-header">
    <h2>Parabolas Quiz</h2>
    <div id="timer">15:00</div>
</div>

<div class="quiz-container" id="start-screen">
    <h1>Parabolas Quiz</h1>
    <p>You have <strong>15 minutes</strong> to answer <strong>15 questions</strong>.</p>
    <p>This quiz covers the fundamental properties of parabolas, including focus, directrix, and standard equations. Good luck!</p>
    <button id="start-btn">Start Quiz</button>
</div>

<div class="quiz-container" id="quiz-screen" style="display:none;">
    <form id="quiz-form"></form>
    <button type="button" id="submit-btn">Submit Quiz</button>
</div>

<div class="quiz-container" id="results-screen" style="display:none;">
    <h2>Quiz Results</h2>
    <p id="score"></p>
    <div id="answers-container"></div>
</div>

<script>
    const startBtn = document.getElementById('start-btn');
    const submitBtn = document.getElementById('submit-btn');
    const startScreen = document.getElementById('start-screen');
    const quizScreen = document.getElementById('quiz-screen');
    const resultsScreen = document.getElementById('results-screen');
    const quizHeader = document.getElementById('quiz-header');
    const timerDisplay = document.getElementById('timer');
    const quizForm = document.getElementById('quiz-form');
    const scoreDisplay = document.getElementById('score');
    const answersContainer = document.getElementById('answers-container');
    let timer;
    let timeLeft = 15 * 60;

    const quizData = [
        { q: "A parabola is the set of all points equidistant from a fixed point and a fixed line. What is the fixed point called?", o: ["Vertex", "Focus", "Directrix", "Axis of Symmetry"], a: "Focus" },
        { q: "What is the orientation of a parabola with the equation $(y-3)^2 = 12(x+1)$?", o: ["Vertical", "Horizontal", "Circular", "Slanted"], a: "Horizontal" },
        { q: "What is the vertex of the parabola $(x+4)^2 = -8(y-5)$?", o: ["$(4, -5)$", "$(-4, 5)$", "$(5, -4)$", "$(-8, 5)$"], a: "$(-4, 5)$" },
        { q: "A vertical parabola has the equation $(x-h)^2 = 4p(y-k)$. If $p < 0$, which way does the parabola open?", o: ["Up", "Down", "Left", "Right"], a: "Down" },
        { q: "A horizontal parabola has the equation $(y-k)^2 = 4p(x-h)$. If $p > 0$, which way does the parabola open?", o: ["Up", "Down", "Left", "Right"], a: "Right" },
        { q: "What is the value of $p$ for the parabola $(y-1)^2 = 20(x-3)$?", o: ["$20$", "$10$", "$5$", "$4$"], a: "$5$" },
        { q: "What is the focus of the parabola $(x-2)^2 = 16(y-1)$?", o: ["$(2, 1)$", "$(2, 5)$", "$(6, 1)$", "$(2, -3)$"], a: "$(2, 5)$" },
        { q: "What is the directrix of the parabola $(y+2)^2 = -4(x-1)$?", o: ["$x = 0$", "$x = 2$", "$y = -1$", "$y = -3$"], a: "$x = 2$" },
        { q: "What is the axis of symmetry for the parabola $(x-5)^2 = 12(y+1)$?", o: ["$x = 5$", "$x = -5$", "$y = 1$", "$y = -1$"], a: "$x = 5$" },
        { q: "The vertex of a parabola is $(3, 2)$ and its focus is $(3, 5)$. What is the equation of the directrix?", o: ["$y = -1$", "$y = 2$", "$x = 3$", "$x = 0$"], a: "$y = -1$" },
        { q: "The vertex of a parabola is $(1, 1)$ and its directrix is $x = 3$. What is the focus?", o: ["$(-1, 1)$", "$(1, 3)$", "$(1, -1)$", "$(3, 1)$"], a: "$(-1, 1)$" },
        
        // Question Group (12-15) based on one equation
        {
            group: "Use the equation $x^2 + 6x - 8y + 1 = 0$ to answer questions 12-15.",
            questions: [
                { q: "After completing the square, what is the vertex $(h, k)$?", o: ["$(-3, -1)$", "$(3, 1)$", "$(-3, 1)$", "$(6, -1)$"], a: "$(-3, -1)$" },
                { q: "What is the value of $p$?", o: ["$8$", "$4$", "$2$", "$-2$"], a: "$2$" },
                { q: "What is the focus of the parabola?", o: ["$(-3, 1)$", "$(-1, -1)$", "$(-3, -3)$", "$(-5, -1)$"], a: "$(-3, 1)$" },
                { q: "What is the equation of the directrix?", o: ["$y = 1$", "$y = -1$", "$y = -3$", "$x = -3$"], a: "$y = -3$" }
            ]
        }
    ];

    function startTimer() {
        timer = setInterval(() => {
            timeLeft--;
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerDisplay.textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
            if (timeLeft <= 0) {
                clearInterval(timer);
                submitQuiz();
            }
        }, 1000);
    }

    function displayQuiz() {
        let quizHTML = '';
        let qIndex = 0;
        quizData.forEach((item, index) => {
            if (item.group) {
                quizHTML += `<div class="question-group"><p><strong>${item.group}</strong></p>`;
                item.questions.forEach((subItem, subIndex) => {
                    quizHTML += `<div class="question"><p>${qIndex + 1}. ${subItem.q}</p><div class="options">`;
                    subItem.o.forEach(option => {
                        quizHTML += `<div><input type="radio" name="question${qIndex}" value="${option}" id="q${qIndex}o${option}"><label for="q${qIndex}o${option}"> ${option}</label></div>`;
                    });
                    quizHTML += `</div></div>`;
                    qIndex++;
                });
                quizHTML += `</div>`;
            } else {
                quizHTML += `<div class="question"><p>${qIndex + 1}. ${item.q}</p><div class="options">`;
                item.o.forEach(option => {
                    quizHTML += `<div><input type="radio" name="question${qIndex}" value="${option}" id="q${qIndex}o${option}"><label for="q${qIndex}o${option}"> ${option}</label></div>`;
                });
                quizHTML += `</div></div>`;
                qIndex++;
            }
        });
        quizForm.innerHTML = quizHTML;
        MathJax.typeset();
    }
    
    function submitQuiz() {
        clearInterval(timer);
        quizScreen.style.display = 'none';
        quizHeader.style.display = 'none';
        resultsScreen.style.display = 'block';
        let score = 0;
        let answersHTML = '';
        let qIndex = 0;

        quizData.forEach((item, index) => {
            if (item.group) {
                answersHTML += `<div class="question-group"><p><strong>${item.group}</strong></p>`;
                item.questions.forEach((subItem, subIndex) => {
                    const selected = quizForm.querySelector(`input[name="question${qIndex}"]:checked`);
                    const userAnswer = selected ? selected.value : "No answer";
                    const isCorrect = userAnswer === subItem.a;
                    if (isCorrect) score++;
                    answersHTML += `<div class="answer-card ${isCorrect ? 'correct' : 'incorrect'}">
                                    <p><b>Question ${qIndex + 1}:</b> ${subItem.q}</p>
                                    <p>Your answer: ${userAnswer}</p>
                                    ${!isCorrect ? `<p class="correct-answer">Correct answer: ${subItem.a}</p>` : ''}
                                  </div>`;
                    qIndex++;
                });
                answersHTML += `</div>`;
            } else {
                const selected = quizForm.querySelector(`input[name="question${qIndex}"]:checked`);
                const userAnswer = selected ? selected.value : "No answer";
                const isCorrect = userAnswer === item.a;
                if (isCorrect) score++;
                answersHTML += `<div class="answer-card ${isCorrect ? 'correct' : 'incorrect'}">
                                <p><b>Question ${qIndex + 1}:</b> ${item.q}</p>
                                <p>Your answer: ${userAnswer}</p>
                                ${!isCorrect ? `<p class="correct-answer">Correct answer: ${item.a}</p>` : ''}
                              </div>`;
                qIndex++;
            }
        });
        scoreDisplay.textContent = `Your Score: ${score} out of 15`;
        answersContainer.innerHTML = answersHTML;
        MathJax.typeset();
    }

    startBtn.addEventListener('click', () => {
        startScreen.style.display = 'none';
        quizScreen.style.display = 'block';
        
        /* --- MODIFICATION --- */
        /* Change display from 'none' to 'flex' to show the header */
        quizHeader.style.display = 'flex'; 
        
        displayQuiz();
        startTimer();
    });
    submitBtn.addEventListener('click', submitQuiz);
</script>

</body>
</html>
