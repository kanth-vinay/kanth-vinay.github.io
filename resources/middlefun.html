<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trigonometry Basics Quiz (Challenge)</title>
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
    <script type="text/javascript" id="MathJax-script" async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
    </script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f4f7f9;
            color: #333;
            margin: 0;
            padding-top: 80px; /* Space for the fixed header */
        }
        .header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: #fff;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 1rem 2rem;
            z-index: 1000;
            display: none; /* Hidden until quiz starts */
            justify-content: center;
            align-items: center;
            gap: 2rem;
        }
        .header h2 {
            margin: 0;
            color: #2c3e50;
        }
        #timer {
            font-size: 1.5rem;
            font-weight: bold;
            color: #e74c3c;
            background-color: #f1f1f1;
            padding: 8px 15px;
            border-radius: 8px;
        }
        .quiz-container {
            background-color: #fff;
            padding: 2rem 3rem;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 800px;
            margin: 2rem auto;
            text-align: center;
        }
        h1, h2 { color: #2c3e50; }
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2rem;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            margin-top: 1rem;
        }
        button:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
        }
        .question {
            text-align: left;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #eee;
        }
        .question p {
            font-size: 1.2rem;
            font-weight: 500;
            margin-bottom: 1rem;
        }
        .options div { margin-bottom: 0.75rem; font-size: 1.1rem; }
        .options label { margin-left: 10px; cursor: pointer; }
        #results-screen h2 { margin-bottom: 1rem; }
        #score { font-size: 1.8rem; font-weight: bold; color: #27ae60; margin-bottom: 2rem; }
        .answer-card {
            text-align: left;
            margin-bottom: 1rem;
            padding: 1rem;
            border-radius: 8px;
        }
        .answer-card.correct { background-color: #e8f5e9; border-left: 5px solid #4caf50; }
        .answer-card.incorrect { background-color: #ffebee; border-left: 5px solid #f44336; }
        .answer-card p { margin: 0.5rem 0; }
        .answer-card .correct-answer { font-weight: bold; color: #388e3c; }
        .answer-card .feedback { font-style: italic; color: #555; margin-top: 8px;}
    </style>
</head>
<body>

<div class="header" id="quiz-header">
    <h2>Trigonometry Basics Quiz (Challenge)</h2>
    <div id="timer">15:00</div>
</div>

<div class="quiz-container" id="start-screen">
    <h1>Trigonometry Basics Quiz (Challenge)</h1>
    <p>You have <strong>15 minutes</strong> to answer <strong>15 questions</strong> reviewing right-triangle trigonometry.</p>
    <p>The timer will start when you click "Start". Good luck!</p>
    <button id="start-btn">Start Quiz</button>
</div>

<div class="quiz-container" id="quiz-screen" style="display:none;">
    <form id="quiz-form"></form>
    <button type="button" id="submit-btn">Submit Quiz</button>
</div>

<div class="quiz-container" id="results-screen" style="display:none;">
    <h2>Quiz Results</h2>
    <p id="score"></p>
    <div id="answers-container"></div>
</div>

<script>
    const startBtn = document.getElementById('start-btn');
    const submitBtn = document.getElementById('submit-btn');
    const startScreen = document.getElementById('start-screen');
    const quizScreen = document.getElementById('quiz-screen');
    const resultsScreen = document.getElementById('results-screen');
    const quizHeader = document.getElementById('quiz-header');
    const timerDisplay = document.getElementById('timer');
    const quizForm = document.getElementById('quiz-form');
    const scoreDisplay = document.getElementById('score');
    const answersContainer = document.getElementById('answers-container');
    let timer;
    let timeLeft = 15 * 60; // 15 minutes

    const quizData = [
        // More challenging questions
        { q: "Evaluate: $\\sin(30^\\circ) + \\cos(60^\\circ)$", o: ["$1$", "$(\\sqrt{3}+1)/2$", "$\\sqrt{3}$", "$1/2$"], a: "$1$", fb: "$\\sin(30^\\circ) = 1/2$ and $\\cos(60^\\circ) = 1/2$. $1/2 + 1/2 = 1$." },
        { q: "Evaluate: $\\sec(60^\\circ) \\cdot \\cos(60^\\circ)$", o: ["$2$", "$1$", "$1/2$", "Undefined"], a: "$1$", fb: "A function and its reciprocal always multiply to 1. $\\sec(x) = 1/\\cos(x)$." },
        { q: "If $\\sin(\\theta) = 8/17$ and $\\theta$ is in Quadrant I, what is $\\tan(\\theta)$?", o: ["$8/15$", "$15/17$", "$17/8$", "$15/8$"], a: "$8/15$", fb: "This is an 8-15-17 Pythagorean triple. $\\sin = \\text{opp/hyp} = 8/17$. $\\tan = \\text{opp/adj} = 8/15$." },
        { q: "If $\\tan(\\theta) = 3$ and $\\theta$ is in Quadrant I, what is $\\sin(\\theta)$?", o: ["$3/\\sqrt{10}$", "$1/3$", "$1/\\sqrt{10}$", "$3/\\sqrt{8}$"], a: "$3/\\sqrt{10}$", fb: "If $\\tan = 3/1$, then opp=3, adj=1. The hypotenuse is $\\sqrt{3^2+1^2} = \\sqrt{10}$. $\\sin = \\text{opp/hyp} = 3/\\sqrt{10}$." },
        { q: "Simplify the expression: $\\frac{1 - \\cos^2(x)}{\\sin(x)}$", o: ["$\\cos(x)$", "$\\sin(x)$", "$\\tan(x)$", "$\\sec(x)$"], a: "$\\sin(x)$", fb: "By the Pythagorean identity, $1 - \\cos^2(x) = \\sin^2(x)$. So the expression is $\\sin^2(x)/\\sin(x) = \\sin(x)$." },
        { q: "Evaluate: $\\tan(45^\\circ) + \\sin(90^\\circ)$", o: ["$1$", "$2$", "$0$", "$1.5$"], a: "$2$", fb: "$\\tan(45^\\circ) = 1$ and $\\sin(90^\\circ) = 1$. $1 + 1 = 2$." },
        { q: "Solve for $x$ in $0^\\circ \\le x \\le 90^\\circ$: $2\\cos(x) - 1 = 0$", o: ["$30^\\circ$", "$45^\\circ$", "$60^\\circ$", "$90^\\circ$"], a: "$60^\\circ$", fb: "$2\\cos(x) = 1 \\implies \\cos(x) = 1/2$. The angle for this value is $60^\\circ$." },
        { q: "Simplify the expression: $\\frac{\\sec^2(x) - 1}{\\sin^2(x)}$", o: ["$\\cos^2(x)$", "$\\sec^2(x)$", "$1$", "$\\tan^2(x)$"], a: "$\\sec^2(x)$", fb: "Use $1 + \\tan^2(x) = \\sec^2(x)$, so $\\sec^2(x) - 1 = \\tan^2(x)$. The expression becomes $\\tan^2(x)/\\sin^2(x) = (\\sin^2(x)/\\cos^2(x)) / \\sin^2(x) = 1/\\cos^2(x) = \\sec^2(x)$." },
        { q: "Evaluate: $\\sec(45^\\circ)$", o: ["$\\sqrt{2}/2$", "$1/2$", "$\\sqrt{2}$", "$2$"], a: "$\\sqrt{2}$", fb: "$\\cos(45^\\circ) = 1/\\sqrt{2}$. $\\sec(45^\\circ)$ is the reciprocal, which is $\\sqrt{2}$." },
        { q: "If $1 + \\cot^2(x) = 25/16$, what is $\\sin^2(x)$?", o: ["$16/25$", "$9/25$", "$25/16$", "$16/9$"], a: "$16/25$", fb: "The identity is $1 + \\cot^2(x) = \\csc^2(x)$. So $\\csc^2(x) = 25/16$. Since $\\csc(x) = 1/\\sin(x)$, $\\csc^2(x) = 1/\\sin^2(x)$. Therefore, $\\sin^2(x) = 16/25$." },
        { q: "Simplify the expression: $\\sin(x) \\cdot \\cot(x) \\cdot \\sec(x)$", o: ["$1$", "$\\sin(x)$", "$\\cos(x)$", "$\\tan(x)$"], a: "$1$", fb: "Substitute identities: $\\sin(x) \\cdot (\\cos(x)/\\sin(x)) \\cdot (1/\\cos(x))$. All terms cancel out, leaving 1." },
        { q: "Evaluate: $\\sin^2(60^\\circ) + \\cos^2(60^\\circ)$", o: ["$1/2$", "$1$", "$\\sqrt{3}$", "$3/4$"], a: "$1$", fb: "The Pythagorean identity $\\sin^2(\\theta) + \\cos^2(\\theta) = 1$ is true for any angle $\\theta$." },
        { q: "Solve for $x$ in $0^\\circ \\le x \\le 90^\\circ$: $3\\tan^2(x) - 1 = 0$", o: ["$30^\\circ$", "$45^\\circ$", "$60^\\circ$", "$90^\\circ$"], a: "$30^\\circ$", fb: "$\\tan^2(x) = 1/3 \\implies \\tan(x) = 1/\\sqrt{3}$. The angle for this value is $30^\\circ$." },
        { q: "If $\\sec(\\theta) = 3$ and $\\theta$ is in Quadrant I, what is $\\cot(\\theta)$?", o: ["$\\sqrt{8}/3$", "$3/\\sqrt{8}$", "$1/\\sqrt{8}$", "$1/3$"], a: "$1/\\sqrt{8}$", fb: "If $\\sec = 3/1$, then hyp=3, adj=1. The opposite side is $\\sqrt{3^2-1^2} = \\sqrt{8}$. $\\cot = \\text{adj/opp} = 1/\\sqrt{8}$." },
        { q: "Solve for $x$ in $0^\\circ < x \\le 90^\\circ$: $\\sin^2(x) - \\sin(x) = 0$", o: ["$30^\\circ$", "$45^\\circ$", "$60^\\circ$", "$90^\\circ$"], a: "$90^\\circ$", fb: "Factor: $\\sin(x)(\\sin(x) - 1) = 0$. This gives $\\sin(x) = 0$ (which is $0^\\circ$) or $\\sin(x) = 1$ (which is $90^\\circ$). Since $x > 0^\\circ$, the only solution is $90^\\circ$." }
    ];

    function startTimer() {
        timer = setInterval(() => {
            timeLeft--;
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerDisplay.textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
            if (timeLeft <= 0) {
                clearInterval(timer);
                submitQuiz();
            }
        }, 1000);
    }

    function displayQuiz() {
        let quizHTML = '';
        quizData.forEach((item, index) => {
            quizHTML += `<div class="question"><p>${index + 1}. ${item.q}</p><div class="options">`;
            // Shuffle options
            let options = [...item.o];
            options.sort(() => Math.random() - 0.5);
            
            options.forEach(option => {
                quizHTML += `<div><input type="radio" name="question${index}" value="${option}" id="q${index}o${option}"><label for="q${index}o${option}"> ${option}</label></div>`;
            });
            quizHTML += `</div></div>`;
        });
        quizForm.innerHTML = quizHTML;
        MathJax.typeset();
    }
    
    function submitQuiz() {
        clearInterval(timer);
        quizScreen.style.display = 'none';
        quizHeader.style.display = 'none';
        resultsScreen.style.display = 'block';
        let score = 0;
        let answersHTML = '';
        quizData.forEach((item, index) => {
            const selected = quizForm.querySelector(`input[name="question${index}"]:checked`);
            const userAnswer = selected ? selected.val : "No answer";
            const isCorrect = userAnswer === item.a;
            if (isCorrect) score++;
            answersHTML += `<div class="answer-card ${isCorrect ? 'correct' : 'incorrect'}">
                            <p><b>Question ${index + 1}:</b> ${item.q}</p>
                            <p>Your answer: ${userAnswer}</p>
                            ${!isCorrect ? `<p class="correct-answer">Correct answer: ${item.a}</p>` : ''}
                            <p class="feedback">${item.fb}</p>
                          </div>`;
        });
        scoreDisplay.textContent = `Your Score: ${score} out of 15`;
        answersContainer.innerHTML = answersHTML;
        MathJax.typeset();
    }

    startBtn.addEventListener('click', () => {
        startScreen.style.display = 'none';
        quizScreen.style.display = 'block';
        quizHeader.style.display = 'flex'; 
        displayQuiz();
        startTimer();
    });
    submitBtn.addEventListener('click', submitQuiz);
</script>

</body>
</html>
