<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trigonometry Basics Quiz</title>
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
    <script type="text/javascript" id="MathJax-script" async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
    </script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f4f7f9;
            color: #333;
            margin: 0;
            padding-top: 80px; /* Space for the fixed header */
        }
        .header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: #fff;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 1rem 2rem;
            z-index: 1000;
            display: none; /* Hidden until quiz starts */
            justify-content: center;
            align-items: center;
            gap: 2rem;
        }
        .header h2 {
            margin: 0;
            color: #2c3e50;
        }
        #timer {
            font-size: 1.5rem;
            font-weight: bold;
            color: #e74c3c;
            background-color: #f1f1f1;
            padding: 8px 15px;
            border-radius: 8px;
        }
        .quiz-container {
            background-color: #fff;
            padding: 2rem 3rem;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 800px;
            margin: 2rem auto;
            text-align: center;
        }
        h1, h2 { color: #2c3e50; }
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2rem;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            margin-top: 1rem;
        }
        button:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
        }
        .question {
            text-align: left;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #eee;
        }
        .question p {
            font-size: 1.2rem;
            font-weight: 500;
            margin-bottom: 1rem;
        }
        .options div { margin-bottom: 0.75rem; font-size: 1.1rem; }
        .options label { margin-left: 10px; cursor: pointer; }
        #results-screen h2 { margin-bottom: 1rem; }
        #score { font-size: 1.8rem; font-weight: bold; color: #27ae60; margin-bottom: 2rem; }
        .answer-card {
            text-align: left;
            margin-bottom: 1rem;
            padding: 1rem;
            border-radius: 8px;
        }
        .answer-card.correct { background-color: #e8f5e9; border-left: 5px solid #4caf50; }
        .answer-card.incorrect { background-color: #ffebee; border-left: 5px solid #f44336; }
        .answer-card p { margin: 0.5rem 0; }
        .answer-card .correct-answer { font-weight: bold; color: #388e3c; }
        .answer-card .feedback { font-style: italic; color: #555; margin-top: 8px;}
    </style>
</head>
<body>

<div class="header" id="quiz-header">
    <h2>Trigonometry Basics Quiz</h2>
    <div id="timer">15:00</div>
</div>

<div class="quiz-container" id="start-screen">
    <h1>Trigonometry Basics Quiz</h1>
    <p>You have <strong>15 minutes</strong> to answer <strong>15 questions</strong> reviewing right-triangle trigonometry.</p>
    <p>The timer will start when you click "Start". Good luck!</p>
    <button id="start-btn">Start Quiz</button>
</div>

<div class="quiz-container" id="quiz-screen" style="display:none;">
    <form id="quiz-form"></form>
    <button type="button" id="submit-btn">Submit Quiz</button>
</div>

<div class="quiz-container" id="results-screen" style="display:none;">
    <h2>Quiz Results</h2>
    <p id="score"></p>
    <div id="answers-container"></div>
</div>

<script>
    const startBtn = document.getElementById('start-btn');
    const submitBtn = document.getElementById('submit-btn');
    const startScreen = document.getElementById('start-screen');
    const quizScreen = document.getElementById('quiz-screen');
    const resultsScreen = document.getElementById('results-screen');
    const quizHeader = document.getElementById('quiz-header');
    const timerDisplay = document.getElementById('timer');
    const quizForm = document.getElementById('quiz-form');
    const scoreDisplay = document.getElementById('score');
    const answersContainer = document.getElementById('answers-container');
    let timer;
    let timeLeft = 15 * 60; // 15 minutes

    const quizData = [
        // Values (0-90)
        { q: "Evaluate: $\\csc(30^\\circ)$", o: ["$1/2$", "$2$", "$\\sqrt{3}/2$", "$2/\\sqrt{3}$"], a: "$2$", fb: "$\\sin(30^\\circ) = 1/2$, and $\\csc$ is the reciprocal of $\\sin$." },
        { q: "Evaluate: $\\cos(45^\\circ)$", o: ["$1/2$", "$\\sqrt{2}/2$", "$\\sqrt{3}/2$", "$1$"], a: "$\\sqrt{2}/2$", fb: "From the 45-45-90 triangle, $\\cos(45^\\circ) = 1/\\sqrt{2} = \\sqrt{2}/2$." },
        { q: "Evaluate: $\\tan(60^\\circ)$", o: ["$1$", "$1/\\sqrt{3}$", "$\\sqrt{3}$", "$2$"], a: "$\\sqrt{3}$", fb: "From the 30-60-90 triangle, $\\tan(60^\\circ) = \\sqrt{3}/1 = \\sqrt{3}$." },
        { q: "Evaluate: $\\sec(90^\\circ)$", o: ["$0$", "$1$", "$1/2$", "Undefined"], a: "Undefined", fb: "$\\cos(90^\\circ) = 0$, and $\\sec(90^\\circ) = 1/\\cos(90^\\circ) = 1/0$, which is undefined." },
        { q: "Evaluate: $\\cot(45^\\circ)$", o: ["$1$", "$0$", "Undefined", "$\\sqrt{2}$"], a: "$1$", fb: "$\\tan(45^\\circ) = 1$, and $\\cot(45^\\circ) = 1/\\tan(45^\\circ) = 1/1 = 1$." },
        
        // Ratios (SOHCAHTOA)
        { q: "If $\\sin(\\theta) = 5/13$ and $\\theta$ is in Quadrant I, what is $\\tan(\\theta)$?", o: ["$12/13$", "$5/12$", "$13/5$", "$12/5$"], a: "$5/12$", fb: "This is a 5-12-13 triangle. $\\sin = \\text{opp/hyp} = 5/13$. $\\cos = \\text{adj/hyp} = 12/13$. $\\tan = \\text{opp/adj} = 5/12$." },
        { q: "A right triangle has an opposite side of 8 and an adjacent side of 15. What is the hypotenuse?", o: ["$17$", "$13$", "$23$", "$\\sqrt{161}$"], a: "$17$", fb: "By the Pythagorean theorem, $a^2 + b^2 = c^2$. $8^2 + 15^2 = 64 + 225 = 289$. $c = \\sqrt{289} = 17$." },
        { q: "If $\\cos(\\theta) = 2/3$ and $\\theta$ is in Quadrant I, what is $\\sin(\\theta)$?", o: ["$3/2$", "$1/3$", "$3/\\sqrt{5}$", "$\\sqrt{5}/3$"], a: "$\\sqrt{5}/3$", fb: "Use $\\sin^2\\theta + \\cos^2\\theta = 1$. $\\sin^2\\theta + (2/3)^2 = 1 \\implies \\sin^2\\theta + 4/9 = 1 \\implies \\sin^2\\theta = 5/9$. So, $\\sin\\theta = \\sqrt{5}/3$." },
        { q: "If $\\tan(\\theta) = 2$, what is $\\sec(\\theta)$?", o: ["$1/2$", "$\\sqrt{3}$", "$\\sqrt{5}$", "$3$"], a: "$\\sqrt{5}$", fb: "Use $1 + \\tan^2\\theta = \\sec^2\\theta$. $1 + (2)^2 = \\sec^2\\theta \\implies 1 + 4 = 5 = \\sec^2\\theta$. So, $\\sec\\theta = \\sqrt{5}$." },
        
        // Identities
        { q: "Which expression is equivalent to $1 - \\sin^2(x)$?", o: ["$\\cos^2(x)$", "$\\tan^2(x)$", "$-\\cos^2(x)$", "$\\sec^2(x)$"], a: "$\\cos^2(x)$", fb: "This is the primary Pythagorean identity: $\\sin^2(x) + \\cos^2(x) = 1$." },
        { q: "Which expression is equivalent to $1 + \\tan^2(x)$?", o: ["$\\cot^2(x)$", "$\\sin^2(x)$", "$\\sec^2(x)$", "$\\csc^2(x)$"], a: "$\\sec^2(x)$", fb: "This is a Pythagorean identity derived by dividing $\\sin^2(x) + \\cos^2(x) = 1$ by $\\cos^2(x)$." },
        { q: "Which expression is equivalent to $\\csc^2(x) - 1$?", o: ["$\\cot^2(x)$", "$\\sec^2(x)$", "$-1$", "$\\tan^2(x)$"], a: "$\\cot^2(x)$", fb: "This is a Pythagorean identity derived from $1 + \\cot^2(x) = \\csc^2(x)$." },
        { q: "Simplify the expression: $\\cos(x) \\cdot \\tan(x)$", o: ["$\\sin(x)$", "$1$", "$\\cos(x)$", "$\\cot(x)$"], a: "$\\sin(x)$", fb: "Use the quotient identity: $\\cos(x) \\cdot (\\sin(x)/\\cos(x))$. The $\\cos(x)$ terms cancel." },
        { q: "Simplify the expression: $\\frac{\\sin(x)}{\\tan(x)}$", o: ["$1$", "$\\sin^2(x)$", "$\\cos(x)$", "$\\sec(x)$"], a: "$\\cos(x)$", fb: "Use the quotient identity: $\\sin(x) / (\\sin(x)/\\cos(x))$. This is $\\sin(x) \\cdot (\\cos(x)/\\sin(x))$. The $\\sin(x)$ terms cancel." },
        { q: "Simplify the expression: $\\frac{\\sec(x)}{\\csc(x)}$", o: ["$\\tan(x)$", "$\\cot(x)$", "$1$", "$\\sin(x)\\cos(x)$"], a: "$\\tan(x)$", fb: "Use reciprocal identities: $(1/\\cos(x)) / (1/\\sin(x)) = (1/\\cos(x)) \\cdot (\\sin(x)/1) = \\sin(x)/\\cos(x) = \\tan(x)$." }
    ];

    function startTimer() {
        timer = setInterval(() => {
            timeLeft--;
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerDisplay.textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
            if (timeLeft <= 0) {
                clearInterval(timer);
                submitQuiz();
            }
        }, 1000);
    }

    function displayQuiz() {
        let quizHTML = '';
        quizData.forEach((item, index) => {
            quizHTML += `<div class="question"><p>${index + 1}. ${item.q}</p><div class="options">`;
            // Shuffle options
            let options = [...item.o];
            options.sort(() => Math.random() - 0.5);
            
            options.forEach(option => {
                quizHTML += `<div><input type="radio" name="question${index}" value="${option}" id="q${index}o${option}"><label for="q${index}o${option}"> ${option}</label></div>`;
            });
            quizHTML += `</div></div>`;
        });
        quizForm.innerHTML = quizHTML;
        MathJax.typeset();
    }
    
    function submitQuiz() {
        clearInterval(timer);
        quizScreen.style.display = 'none';
        quizHeader.style.display = 'none';
        resultsScreen.style.display = 'block';
        let score = 0;
        let answersHTML = '';
        quizData.forEach((item, index) => {
            const selected = quizForm.querySelector(`input[name="question${index}"]:checked`);
            const userAnswer = selected ? selected.value : "No answer";
            const isCorrect = userAnswer === item.a;
            if (isCorrect) score++;
            answersHTML += `<div class="answer-card ${isCorrect ? 'correct' : 'incorrect'}">
                            <p><b>Question ${index + 1}:</b> ${item.q}</p>
                            <p>Your answer: ${userAnswer}</p>
                            ${!isCorrect ? `<p class="correct-answer">Correct answer: ${item.a}</p>` : ''}
                            <p class="feedback">${item.fb}</p>
                          </div>`;
        });
        scoreDisplay.textContent = `Your Score: ${score} out of 15`;
        answersContainer.innerHTML = answersHTML;
        MathJax.typeset();
    }

    startBtn.addEventListener('click', () => {
        startScreen.style.display = 'none';
        quizScreen.style.display = 'block';
        quizHeader.style.display = 'flex'; 
        displayQuiz();
        startTimer();
    });
    submitBtn.addEventListener('click', submitQuiz);
</script>

</body>
</html>
