<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Triangle Congruence — 15-Minute Retrieval Quiz</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    :root{
      --ink:#111827; --muted:#4b5563; --border:#e5e7eb; --hi:#0ea5e9; --ok:#16a34a; --bad:#dc2626; --soft:#f8fafc;
    }
    html,body{margin:0;padding:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,"Inter",sans-serif;color:var(--ink);background:#fff;line-height:1.55;}
    .wrap{max-width:960px;margin:32px auto;padding:0 16px;}
    h1{margin:0 0 6px;font-size:clamp(1.25rem,2.4vw,1.8rem);}
    .sub{color:var(--muted);margin:0 0 16px;}
    .bar{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin:10px 0 16px;}
    button{border:1px solid var(--border);border-radius:10px;background:#fff;padding:10px 14px;cursor:pointer;font-weight:600;}
    button.primary{background:var(--hi);color:#fff;border-color:var(--hi);}
    button:disabled{opacity:.6;cursor:not-allowed;}
    .clock{padding:8px 12px;border:1px solid var(--border);border-radius:10px;background:var(--soft);font-variant-numeric:tabular-nums;}
    .card{border:1px solid var(--border);border-radius:12px;padding:14px;margin:12px 0;background:#fff;}
    .q{margin:10px 0;}
    .choices{display:grid;grid-template-columns:1fr;gap:6px;margin:8px 0 0 0;}
    label.choice{display:flex;gap:10px;align-items:flex-start;padding:8px;border:1px solid var(--border);border-radius:10px;background:#fafafa;cursor:pointer;}
    label.choice input{margin-top:3px;}
    .hr{height:1px;background:var(--border);margin:16px 0;}
    #result.ok{border-left:6px solid var(--ok);} #result.bad{border-left:6px solid var(--bad);}
    .explain{color:var(--muted);font-size:14px;margin-top:6px;}
    code{background:#f3f4f6;border:1px solid var(--border);border-radius:6px;padding:0 6px;}
    @media print{.bar button{display:none}.card{break-inside:avoid}}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Triangle Congruence — 15-Minute Retrieval Quiz</h1>
    <div class="sub">Choose the single best answer. Distractors are plausible—read carefully. Press <b>Start</b> to unlock the quiz; press <b>Submit</b> to see your scorecard.</div>

    <div class="bar">
      <button id="startBtn" class="primary">Start 15:00</button>
      <div id="clock" class="clock" aria-live="polite">Not started</div>
      <button id="submitBtn" disabled>Submit</button>
    </div>

    <form id="quiz" autocomplete="off">
      <!-- Q1 (fixed to be valid SAS) -->
      <div class="card q" data-q="q1">
        <div><strong>1.</strong> Lines <em>AC</em> and <em>DC</em> meet at <em>C</em>. Given <strong>AC = DC</strong>, segment <strong>BC</strong> is shared, and <strong>∠ACB ≅ ∠D C B</strong> (vertical). Which proves △ABC ≅ △DBC?</div>
        <div class="choices">
          <label class="choice"><input type="radio" name="q1" value="A"> A) SAS</label>
          <label class="choice"><input type="radio" name="q1" value="B"> B) ASA</label>
          <label class="choice"><input type="radio" name="q1" value="C"> C) AAS</label>
          <label class="choice"><input type="radio" name="q1" value="D"> D) SSS</label>
        </div>
      </div>

      <!-- Q2 (HL) -->
      <div class="card q" data-q="q2">
        <div><strong>2.</strong> In △ABC and △ADC, ∠B and ∠D are right angles, <strong>AC</strong> is a common hypotenuse, and <strong>BC = DC</strong>. Which congruence applies?</div>
        <div class="choices">
          <label class="choice"><input type="radio" name="q2" value="A"> A) HL</label>
          <label class="choice"><input type="radio" name="q2" value="B"> B) ASA</label>
          <label class="choice"><input type="radio" name="q2" value="C"> C) SAS</label>
          <label class="choice"><input type="radio" name="q2" value="D"> D) AAS</label>
        </div>
      </div>

      <!-- Q3 (SSA trap) -->
      <div class="card q" data-q="q3">
        <div><strong>3.</strong> Two triangles have two corresponding sides equal and a corresponding <em>non-included</em> angle equal. This information is:</div>
        <div class="choices">
          <label class="choice"><input type="radio" name="q3" value="A"> A) SAS (sufficient)</label>
          <label class="choice"><input type="radio" name="q3" value="B"> B) AAS (sufficient)</label>
          <label class="choice"><input type="radio" name="q3" value="C"> C) SSA (insufficient)</label>
          <label class="choice"><input type="radio" name="q3" value="D"> D) SSS (sufficient)</label>
        </div>
      </div>

      <!-- Q4 (CPCTC order) -->
      <div class="card q" data-q="q4">
        <div><strong>4.</strong> <span style="border:1px solid var(--border);padding:2px 8px;border-radius:999px;background:#f8fafc;">CPCTC</span> may be used to conclude corresponding parts are equal…</div>
        <div class="choices">
          <label class="choice"><input type="radio" name="q4" value="A"> A) before any triangle congruence is shown</label>
          <label class="choice"><input type="radio" name="q4" value="B"> B) only in isosceles triangles</label>
          <label class="choice"><input type="radio" name="q4" value="C"> C) after the triangles have been proven congruent</label>
          <label class="choice"><input type="radio" name="q4" value="D"> D) whenever two angles match</label>
        </div>
      </div>

      <!-- Q5 (midpoint) -->
      <div class="card q" data-q="q5">
        <div><strong>5.</strong> If <em>M</em> is the midpoint of segment <em>AB</em>, which statement must be true?</div>
        <div class="choices">
          <label class="choice"><input type="radio" name="q5" value="A"> A) AM = MB</label>
          <label class="choice"><input type="radio" name="q5" value="B"> B) ∠AMB = 90°</label>
          <label class="choice"><input type="radio" name="q5" value="C"> C) AM = AB</label>
          <label class="choice"><input type="radio" name="q5" value="D"> D) M divides AB into two equal <em>and perpendicular</em> parts</label>
        </div>
      </div>

      <!-- Q6 (SAS included angle) -->
      <div class="card q" data-q="q6">
        <div><strong>6.</strong> Which data set guarantees <em>SAS</em> for △ABC and △DEF?</div>
        <div class="choices">
          <label class="choice"><input type="radio" name="q6" value="A"> A) AB = DE, AC = DF, ∠A ≅ ∠D</label>
          <label class="choice"><input type="radio" name="q6" value="B"> B) AB = DE, AC = DF, ∠B ≅ ∠E</label>
          <label class="choice"><input type="radio" name="q6" value="C"> C) AB = DE, ∠A ≅ ∠D, ∠B ≅ ∠E</label>
          <label class="choice"><input type="radio" name="q6" value="D"> D) AB = DE, BC = EF, ∠A ≅ ∠E</label>
        </div>
      </div>

      <!-- Q7 (AAA) -->
      <div class="card q" data-q="q7">
        <div><strong>7.</strong> Does <em>AAA</em> guarantee triangle congruence?</div>
        <div class="choices">
          <label class="choice"><input type="radio" name="q7" value="A"> A) Yes, always</label>
          <label class="choice"><input type="radio" name="q7" value="B"> B) No — it only guarantees similarity</label>
          <label class="choice"><input type="radio" name="q7" value="C"> C) Yes, but only for right triangles</label>
          <label class="choice"><input type="radio" name="q7" value="D"> D) Yes, if one pair of corresponding sides are also equal</label>
        </div>
      </div>

      <!-- Q8 (CPCTC mapping) -->
      <div class="card q" data-q="q8">
        <div><strong>8.</strong> If △ABC ≅ △DEF (in that order), which statement follows by CPCTC?</div>
        <div class="choices">
          <label class="choice"><input type="radio" name="q8" value="A"> A) ∠C ≅ ∠F</label>
          <label class="choice"><input type="radio" name="q8" value="B"> B) ∠B ≅ ∠F</label>
          <label class="choice"><input type="radio" name="q8" value="C"> C) CE ≅ BF</label>
          <label class="choice"><input type="radio" name="q8" value="D"> D) AC ≅ EF</label>
        </div>
      </div>

      <!-- Q9 (reflexive) -->
      <div class="card q" data-q="q9">
        <div><strong>9.</strong> In triangles ABD and CBD, which equality is justified by the Reflexive Property?</div>
        <div class="choices">
          <label class="choice"><input type="radio" name="q9" value="A"> A) AB ≅ CB</label>
          <label class="choice"><input type="radio" name="q9" value="B"> B) ∠ABD ≅ ∠CBD</label>
          <label class="choice"><input type="radio" name="q9" value="C"> C) BD ≅ BD</label>
          <label class="choice"><input type="radio" name="q9" value="D"> D) AD ≅ BC</label>
        </div>
      </div>

      <!-- Q10 (HL condition) -->
      <div class="card q" data-q="q10">
        <div><strong>10.</strong> Which additional condition is essential to use <em>HL</em> for triangle congruence?</div>
        <div class="choices">
          <label class="choice"><input type="radio" name="q10" value="A"> A) The triangles must be isosceles</label>
          <label class="choice"><input type="radio" name="q10" value="B"> B) The included angle must match</label>
          <label class="choice"><input type="radio" name="q10" value="C"> C) The triangles must be right triangles</label>
          <label class="choice"><input type="radio" name="q10" value="D"> D) Both legs must be equal</label>
        </div>
      </div>

      <!-- Q11 (invalid postulate) -->
      <div class="card q" data-q="q11">
        <div><strong>11.</strong> Which of the following is <em>not</em> a valid triangle congruence postulate/theorem?</div>
        <div class="choices">
          <label class="choice"><input type="radio" name="q11" value="A"> A) SSS</label>
          <label class="choice"><input type="radio" name="q11" value="B"> B) SAS</label>
          <label class="choice"><input type="radio" name="q11" value="C"> C) SSA</label>
          <label class="choice"><input type="radio" name="q11" value="D"> D) AAS</label>
        </div>
      </div>

      <!-- Q12 (vertical angles) -->
      <div class="card q" data-q="q12">
        <div><strong>12.</strong> When two lines intersect, which statement is always true?</div>
        <div class="choices">
          <label class="choice"><input type="radio" name="q12" value="A"> A) Corresponding angles are congruent</label>
          <label class="choice"><input type="radio" name="q12" value="B"> B) Alternate interior angles are congruent</label>
          <label class="choice"><input type="radio" name="q12" value="C"> C) Vertical angles are congruent</label>
          <label class="choice"><input type="radio" name="q12" value="D"> D) Linear pairs are congruent</label>
        </div>
      </div>
    </form>

    <div id="result" class="card" style="display:none;"></div>
  </div>

  <script>
    // --- Answer key (checked for mathematical accuracy) ---
    const key = {
      q1:'A', // SAS: AC=DC, BC shared, included angle at C (vertical) → SAS
      q2:'A', // HL: right triangles + common hypotenuse + one leg
      q3:'C', // SSA is insufficient (ambiguous)
      q4:'C', // CPCTC only after congruence is proven
      q5:'A', // Midpoint → AM = MB (no right angle/perpendicular guaranteed)
      q6:'A', // SAS needs included angle between the two given sides (∠A between AB and AC)
      q7:'B', // AAA → similarity, not congruence
      q8:'A', // Order: A↔D, B↔E, C↔F ⇒ ∠C ≅ ∠F
      q9:'C', // Reflexive: BD ≅ BD
      q10:'C', // HL applies only to right triangles
      q11:'C', // SSA is not a valid congruence postulate
      q12:'C'  // Vertical angles are always congruent
    };

    const explain = {
      q1:'SAS: sides AC and DC match, BC is common, and the angle at C (between those sides) matches by vertical angles.',
      q2:'HL requires right triangles, a hypotenuse, and one leg equal.',
      q3:'Two sides with a non-included angle (SSA) do not fix a unique triangle.',
      q4:'Use CPCTC only after establishing triangle congruence.',
      q5:'Midpoint means it divides a segment into two equal parts: AM = MB.',
      q6:'SAS needs two sides and the <em>included</em> angle between them; here ∠A is between AB and AC.',
      q7:'AAA fixes shape (similarity) but not size.',
      q8:'Given △ABC ≅ △DEF in order ⇒ C↔F, so ∠C ≅ ∠F.',
      q9:'Reflexive Property: a segment equals itself.',
      q10:'HL is a right-triangle congruence (Hypotenuse-Leg).',
      q11:'SSA is generally ambiguous; not a congruence postulate.',
      q12:'Intersecting lines form vertical angles that are congruent.'
    };

    // --- Timer + controls ---
    let remaining = 0, timer = null, started = false, submitted = false;
    const startBtn = document.getElementById('startBtn');
    const submitBtn = document.getElementById('submitBtn');
    const clock = document.getElementById('clock');
    const form = document.getElementById('quiz');
    const result = document.getElementById('result');

    // Disable inputs until start
    toggleInputs(false);

    startBtn.addEventListener('click', () => {
      if(started) return;
      started = true;
      startBtn.disabled = true;
      submitBtn.disabled = false;
      toggleInputs(true);
      startTimer(15*60);
    });

    submitBtn.addEventListener('click', gradeQuiz);

    function startTimer(sec){
      remaining = sec;
      renderClock();
      timer = setInterval(()=>{
        remaining--;
        renderClock();
        if(remaining<=0){
          clearInterval(timer);
          if(!submitted){ gradeQuiz(); }
          lockQuiz();
          alert("Time's up! Your quiz has been submitted.");
        }
      }, 1000);
    }
    function renderClock(){
      const m = Math.max(0, Math.floor(remaining/60)).toString().padStart(2,'0');
      const s = Math.max(0, remaining%60).toString().padStart(2,'0');
      clock.textContent = `Time left: ${m}:${s}`;
    }
    function toggleInputs(on){
      document.querySelectorAll('input[type="radio"]').forEach(r => r.disabled = !on);
    }
    function lockQuiz(){
      toggleInputs(false);
      submitBtn.disabled = true;
    }

    function gradeQuiz(){
      submitted = true;
      clearInterval(timer);
      lockQuiz();

      let total = 0, correct = 0;
      const rows = [];

      Object.keys(key).forEach(qid=>{
        total++;
        const sel = document.querySelector(`input[name="${qid}"]:checked`);
        const ans = sel ? sel.value : '—';
        const ok = (ans === key[qid]);
        if(ok) correct++;
        rows.push(renderRow(qid, ans, key[qid], ok));
      });

      const pct = Math.round(100*correct/total);
      result.className = 'card ' + (pct>=80?'ok':'bad');
      result.style.display = 'block';
      result.innerHTML = `
        <h3>Scorecard</h3>
        <p><strong>${correct}</strong> / ${total} correct — <strong>${pct}%</strong></p>
        <div class="hr"></div>
        ${rows.join('')}
      `;
      result.scrollIntoView({behavior:'smooth', block:'start'});
    }

    function renderRow(qid, ans, keyAns, ok){
      const qnum = qid.replace('q','');
      const tag = ok ? '<span style="color:var(--ok)">✔</span>' : '<span style="color:var(--bad)">✘</span>';
      const map = {A:'A',B:'B',C:'C',D:'D','—':'—'};
      return `
        <div style="margin:8px 0;">
          <div><strong>Q${qnum}:</strong> ${tag} Your answer: <code>${map[ans]||'—'}</code> · Correct: <code>${keyAns}</code></div>
          <div class="explain">${explain[qid]}</div>
        </div>
      `;
    }
  </script>
</body>
</html>
