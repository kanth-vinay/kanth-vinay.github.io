<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Logarithms — Master Practice</title>

  <script>
    window.MathJax = {
      tex: { inlineMath: [['\\(','\\)']], displayMath: [['\\[','\\]']], processEscapes: true },
      options: { skipHtmlTags: ['script','noscript','style','textarea','pre','code'] }
    };
  </script>
  <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Source+Serif+4:wght@400;600;700&family=Fira+Code:wght@450;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --ink:#0f172a;
      --muted:#64748b;
      --border:#e2e8f0;
      --bg:#f8fafc;
      --card-bg:#ffffff;
      --step-bg:#f1f5f9;
      --accent:#0f766e;
      --accent-soft:#f0fdfa;
      --correct:#16a34a;
      --correct-bg:#f0fdf4;
      --wrong:#dc2626;
      --wrong-bg:#fef2f2;
      --header-h:64px;
      --serif:"Source Serif 4", serif;
      --sans:"Inter", sans-serif;
      --mono:"Fira Code", monospace;
    }

    *{ box-sizing:border-box; }
    html, body{ height:100%; }
    body{ margin:0; font-family: var(--sans); color: var(--ink); background: var(--bg); line-height:1.6; }

    /* Layout */
    header{
      position:fixed; inset:0 0 auto 0; height:var(--header-h); background:var(--card-bg);
      border-bottom:1px solid var(--border); display:flex; align-items:center; padding:0 24px; z-index:100;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
    }
    .brand{ font-weight:800; font-size:18px; letter-spacing: -0.02em; }
    .brand span{ color:var(--muted); font-weight:500; margin-left:8px; font-size:14px; }
    
    .actions{ margin-left:auto; display:flex; gap:10px; align-items:center; }
    
    .btn{ appearance:none; border:1px solid var(--border); background:#fff; color:var(--ink); border-radius:6px; padding:8px 16px; font-weight:600; font-size:13px; cursor:pointer; transition:all 0.2s;}
    .btn:hover{ border-color:var(--muted); background:#f8fafc; }
    .btn.primary{ background:var(--ink); color:#fff; border-color:var(--ink); }
    .btn.primary:hover{ background:#334155; }

    .app{ display:flex; min-height:100vh; padding-top:var(--header-h); }
    
    /* Sidebar */
    aside{ 
      width:280px; background:var(--card-bg); border-right:1px solid var(--border); 
      padding:24px; display:flex; flex-direction:column; gap:20px; flex-shrink:0;
      position: fixed; top: var(--header-h); bottom: 0; left: 0; overflow-y: auto;
    }
    .score-card{ background:var(--ink); color:white; border-radius:12px; padding:20px; box-shadow:0 10px 15px -3px rgba(0, 0, 0, 0.1); }
    .score-row{ display:flex; justify-content:space-between; font-size:13px; margin-bottom:8px; opacity:0.9; }
    .score-total{ font-size:20px; font-weight:800; margin-top:12px; font-family:var(--serif); letter-spacing:-0.03em; }
    .lab-status { font-weight:700; font-size:14px; color:#fbbf24; text-transform:uppercase; letter-spacing:0.5px; }
    .lab-status.done { color:#4ade80; }

    /* Main Content */
    main{ 
      flex:1; padding:40px; display:flex; flex-direction:column; align-items:center; gap:30px; 
      margin-left: 280px; /* Offset for fixed sidebar */
    }
    
    .q-card{
      background: var(--card-bg);
      width: 100%; max-width: 800px;
      border: 1px solid var(--border);
      border-radius: 16px;
      box-shadow: 0 4px 6px -1px rgba(0,0,0,0.02), 0 2px 4px -1px rgba(0,0,0,0.02);
      padding: 32px;
      position: relative;
    }

    h1.page-title{ margin:0 0 10px; font-family:var(--serif); font-size:30px; font-weight:800; color:var(--ink); }
    
    .q-meta{ display:flex; align-items:center; gap:12px; margin-bottom:20px; }
    .q-badge{ background:var(--bg); border:1px solid var(--border); padding:4px 8px; border-radius:6px; font-size:12px; font-weight:700; color:var(--muted); }
    .q-title{ font-weight:700; font-size:14px; text-transform:uppercase; letter-spacing:0.05em; color:var(--muted); }
    
    .prompt{ font-size:18px; margin-bottom:28px; color:var(--ink); font-weight:600; line-height:1.4; }

    .step-container{ display:flex; flex-direction:column; gap:16px; }
    .step{ background: var(--step-bg); border: 1px solid var(--border); border-radius: 10px; padding: 20px; position:relative; }
    .step-label{ font-size:11px; font-weight:700; text-transform:uppercase; letter-spacing:0.05em; color:var(--muted); margin-bottom:12px; display:block;}

    /* Radio Options */
    .opts{ display:flex; flex-direction:column; gap:10px; }
    label.opt{ display:flex; gap:14px; align-items:flex-start; padding:14px; border:1px solid #e2e8f0; border-radius:8px; cursor:pointer; background:#fff; transition:all .15s; }
    label.opt:hover{ border-color:var(--accent); background:var(--accent-soft); }
    
    label.opt.selected-correct { border-color: var(--correct); background: var(--correct-bg); }
    label.opt.selected-wrong { border-color: var(--wrong); background: var(--wrong-bg); }

    label.opt input{ margin-top:5px; accent-color:var(--accent); transform:scale(1.1); flex-shrink:0; }
    .opt-text{ font-size:15px; line-height:1.5; color:var(--ink); }

    .step-fb { display: none; margin-top: 12px; padding-top: 12px; border-top: 1px dashed var(--border); font-size: 14px; font-weight: 500; }
    .step-fb.show { display: block; animation: fadeIn 0.3s ease-in; }
    .step-fb.correct { color: var(--correct); }
    .step-fb.wrong { color: var(--wrong); }

    @keyframes fadeIn { from { opacity:0; transform:translateY(-5px); } to { opacity:1; transform:translateY(0); } }

    /* Lab Box */
    .lab-box { border: 2px solid var(--ink); background: #fff; border-radius: 12px; overflow: hidden; margin-top:10px; }
    .lab-header { background:var(--ink); color:white; padding:14px 24px; font-weight:700; text-transform:uppercase; font-size:13px; display:flex; justify-content:space-between; }
    .lab-body { padding:24px; display:flex; gap:30px; flex-wrap:wrap; }
    .lab-ui { flex:1; min-width:300px; display:flex; flex-direction:column; gap:15px; }
    
    .display-wrapper { flex:1; display:flex; flex-direction:column; justify-content:center; align-items:center; border:1px solid #e2e8f0; border-radius:8px; background:#f8fafc; padding:20px; position:relative; min-height: 200px; }
    .select-box { display: block; width: 100%; padding: 10px; border: 1px solid var(--accent); border-radius: 6px; font-weight:bold; color:var(--accent); font-size:14px; }
    .math-big { font-size: 24px; font-family: var(--serif); font-weight: 700; color: var(--ink); margin-bottom: 10px; }
    .result-big { font-size: 32px; font-family: var(--mono); font-weight: 700; color: var(--accent); }
    .sim-status { margin-top:10px; font-weight:700; font-size:14px; min-height:20px; text-align:center; color:var(--muted); }

    @media (max-width: 800px){
      aside { display:none; } 
      main { margin-left: 0; padding: 20px; }
      .q-card { padding: 20px; }
    }
  </style>
</head>
<body>

  <header>
    <div class="brand">Logarithms <span>Practice Mode</span></div>
    <div class="actions">
      <button class="btn" onclick="resetQuiz()">Reset All</button>
    </div>
  </header>

  <div class="app">
    <aside>
      <div class="score-card">
        <div class="score-row"><b>Progress</b> <span id="ui-answered">0/45</span></div>
        <div class="score-row"><b>Lab Status</b> <span id="ui-lab" class="lab-status">Pending</span></div>
        <div class="score-total" id="ui-score">0% Accuracy</div>
      </div>
      <div style="font-size:13px; color:var(--muted); line-height:1.6;">
        <p><strong>Instructions:</strong></p>
        <p>Analyze logarithm properties. Select an option for instant feedback.</p>
        <ol style="padding-left:16px; margin:8px 0;">
          <li><strong>Reasoning:</strong> Why does this happen?</li>
          <li><strong>Rule:</strong> The algebraic property.</li>
          <li><strong>Answer:</strong> The evaluated result.</li>
        </ol>
        <p><strong>Q16</strong> is a Calibration Lab.</p>
      </div>
    </aside>

    <main>
      <h1 class="page-title">Logarithms Intro & Properties</h1>

      <div class="q-card" id="q1">
        <div class="q-meta"><span class="q-badge">Q1</span> <span class="q-title">Definition of Logarithm</span></div>
        <div class="prompt">Rewrite the exponential equation \(5^3 = 125\) as a logarithm.</div>
        <div class="step-container">
          <div class="step">
            <span class="step-label">Step 1: Reasoning</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q1s1" value="A" onchange="check(this)"><div class="opt-text">A logarithm finds the exponent needed to raise the base to a certain number.</div></label>
              <label class="opt"><input type="radio" name="q1s1" value="B" onchange="check(this)"><div class="opt-text">A logarithm finds the base needed to raise to a power to get the result.</div></label>
            </div>
            <div class="step-fb" id="fb-q1s1"></div>
          </div>
          <div class="step">
            <span class="step-label">Step 2: Rule</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q1s2" value="A" onchange="check(this)"><div class="opt-text">\( b^x = y \iff \log_b(y) = x \)</div></label>
              <label class="opt"><input type="radio" name="q1s2" value="B" onchange="check(this)"><div class="opt-text">\( b^x = y \iff \log_y(b) = x \)</div></label>
            </div>
            <div class="step-fb" id="fb-q1s2"></div>
          </div>
          <div class="step">
            <span class="step-label">Step 3: Answer</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q1s3" value="A" onchange="check(this)"><div class="opt-text">\(\log_3(125) = 5\)</div></label>
              <label class="opt"><input type="radio" name="q1s3" value="B" onchange="check(this)"><div class="opt-text">\(\log_5(125) = 3\)</div></label>
            </div>
            <div class="step-fb" id="fb-q1s3"></div>
          </div>
        </div>
      </div>

      <div class="q-card" id="q2">
        <div class="q-meta"><span class="q-badge">Q2</span> <span class="q-title">Evaluating Logs</span></div>
        <div class="prompt">Evaluate \(\log_2(32)\).</div>
        <div class="step-container">
          <div class="step">
            <span class="step-label">Step 1: Reasoning</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q2s1" value="A" onchange="check(this)"><div class="opt-text">We are dividing 32 by 2 to find the ratio.</div></label>
              <label class="opt"><input type="radio" name="q2s1" value="B" onchange="check(this)"><div class="opt-text">We are looking for the power that 2 must be raised to in order to get 32.</div></label>
            </div>
            <div class="step-fb" id="fb-q2s1"></div>
          </div>
          <div class="step">
            <span class="step-label">Step 2: Rule</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q2s2" value="A" onchange="check(this)"><div class="opt-text">Solve \(2^x = 32\)</div></label>
              <label class="opt"><input type="radio" name="q2s2" value="B" onchange="check(this)"><div class="opt-text">Solve \(x^2 = 32\)</div></label>
            </div>
            <div class="step-fb" id="fb-q2s2"></div>
          </div>
          <div class="step">
            <span class="step-label">Step 3: Answer</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q2s3" value="A" onchange="check(this)"><div class="opt-text">16</div></label>
              <label class="opt"><input type="radio" name="q2s3" value="B" onchange="check(this)"><div class="opt-text">5</div></label>
            </div>
            <div class="step-fb" id="fb-q2s3"></div>
          </div>
        </div>
      </div>

      <div class="q-card" id="q3">
        <div class="q-meta"><span class="q-badge">Q3</span> <span class="q-title">Product Property</span></div>
        <div class="prompt">Expand \(\log_b(xy)\).</div>
        <div class="step-container">
          <div class="step">
            <span class="step-label">Step 1: Reasoning</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q3s1" value="A" onchange="check(this)"><div class="opt-text">Logs are exponents. When you multiply bases, you add their exponents.</div></label>
              <label class="opt"><input type="radio" name="q3s1" value="B" onchange="check(this)"><div class="opt-text">The log function distributes over multiplication just like algebraic multiplication.</div></label>
            </div>
            <div class="step-fb" id="fb-q3s1"></div>
          </div>
          <div class="step">
            <span class="step-label">Step 2: Rule</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q3s2" value="A" onchange="check(this)"><div class="opt-text">\(\log_b(xy) = \log_b(x) \cdot \log_b(y)\)</div></label>
              <label class="opt"><input type="radio" name="q3s2" value="B" onchange="check(this)"><div class="opt-text">\(\log_b(xy) = \log_b(x) + \log_b(y)\)</div></label>
            </div>
            <div class="step-fb" id="fb-q3s2"></div>
          </div>
          <div class="step">
            <span class="step-label">Step 3: Answer (applied to \(\log_b(6x)\))</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q3s3" value="A" onchange="check(this)"><div class="opt-text">\(\log_b(6) + \log_b(x)\)</div></label>
              <label class="opt"><input type="radio" name="q3s3" value="B" onchange="check(this)"><div class="opt-text">\(\log_b(6) \cdot \log_b(x)\)</div></label>
            </div>
            <div class="step-fb" id="fb-q3s3"></div>
          </div>
        </div>
      </div>

      <div class="q-card" id="q4">
        <div class="q-meta"><span class="q-badge">Q4</span> <span class="q-title">Quotient Property</span></div>
        <div class="prompt">Condense \(\log_b(a) - \log_b(c)\).</div>
        <div class="step-container">
          <div class="step">
            <span class="step-label">Step 1: Reasoning</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q4s1" value="A" onchange="check(this)"><div class="opt-text">Subtraction of logs corresponds to subtraction inside the argument.</div></label>
              <label class="opt"><input type="radio" name="q4s1" value="B" onchange="check(this)"><div class="opt-text">Subtraction of exponents corresponds to division of the bases.</div></label>
            </div>
            <div class="step-fb" id="fb-q4s1"></div>
          </div>
          <div class="step">
            <span class="step-label">Step 2: Rule</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q4s2" value="A" onchange="check(this)"><div class="opt-text">\(\log_b(x) - \log_b(y) = \log_b(\frac{x}{y})\)</div></label>
              <label class="opt"><input type="radio" name="q4s2" value="B" onchange="check(this)"><div class="opt-text">\(\log_b(x) - \log_b(y) = \frac{\log_b x}{\log_b y}\)</div></label>
            </div>
            <div class="step-fb" id="fb-q4s2"></div>
          </div>
          <div class="step">
            <span class="step-label">Step 3: Answer</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q4s3" value="A" onchange="check(this)"><div class="opt-text">\(\log_b(a-c)\)</div></label>
              <label class="opt"><input type="radio" name="q4s3" value="B" onchange="check(this)"><div class="opt-text">\(\log_b(\frac{a}{c})\)</div></label>
            </div>
            <div class="step-fb" id="fb-q4s3"></div>
          </div>
        </div>
      </div>

      <div class="q-card" id="q5">
        <div class="q-meta"><span class="q-badge">Q5</span> <span class="q-title">Power Property</span></div>
        <div class="prompt">Rewrite \(\log_b(x^n)\).</div>
        <div class="step-container">
          <div class="step">
            <span class="step-label">Step 1: Reasoning</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q5s1" value="A" onchange="check(this)"><div class="opt-text">An exponent inside a log becomes a multiplier (coefficient) outside.</div></label>
              <label class="opt"><input type="radio" name="q5s1" value="B" onchange="check(this)"><div class="opt-text">An exponent inside a log remains an exponent on the whole logarithm.</div></label>
            </div>
            <div class="step-fb" id="fb-q5s1"></div>
          </div>
          <div class="step">
            <span class="step-label">Step 2: Rule</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q5s2" value="A" onchange="check(this)"><div class="opt-text">\(\log_b(x^n) = (\log_b x)^n\)</div></label>
              <label class="opt"><input type="radio" name="q5s2" value="B" onchange="check(this)"><div class="opt-text">\(\log_b(x^n) = n \cdot \log_b(x)\)</div></label>
            </div>
            <div class="step-fb" id="fb-q5s2"></div>
          </div>
          <div class="step">
            <span class="step-label">Step 3: Answer (applied to \(\log_b(x^5)\))</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q5s3" value="A" onchange="check(this)"><div class="opt-text">\(\log_b(5x)\)</div></label>
              <label class="opt"><input type="radio" name="q5s3" value="B" onchange="check(this)"><div class="opt-text">\(5\log_b(x)\)</div></label>
            </div>
            <div class="step-fb" id="fb-q5s3"></div>
          </div>
        </div>
      </div>

      <div class="q-card" id="q6">
        <div class="q-meta"><span class="q-badge">Q6</span> <span class="q-title">Natural Logarithms</span></div>
        <div class="prompt">Evaluate \(\ln(e^7)\).</div>
        <div class="step-container">
          <div class="step">
            <span class="step-label">Step 1: Reasoning</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q6s1" value="A" onchange="check(this)"><div class="opt-text">\(\ln\) stands for Log Normal, which uses base 10.</div></label>
              <label class="opt"><input type="radio" name="q6s1" value="B" onchange="check(this)"><div class="opt-text">\(\ln\) and \(e\) are inverse functions; they cancel each other out.</div></label>
            </div>
            <div class="step-fb" id="fb-q6s1"></div>
          </div>
          <div class="step">
            <span class="step-label">Step 2: Rule</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q6s2" value="A" onchange="check(this)"><div class="opt-text">\(\ln(e^x) = x\)</div></label>
              <label class="opt"><input type="radio" name="q6s2" value="B" onchange="check(this)"><div class="opt-text">\(\ln(e^x) = e^x\)</div></label>
            </div>
            <div class="step-fb" id="fb-q6s2"></div>
          </div>
          <div class="step">
            <span class="step-label">Step 3: Answer</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q6s3" value="A" onchange="check(this)"><div class="opt-text">7</div></label>
              <label class="opt"><input type="radio" name="q6s3" value="B" onchange="check(this)"><div class="opt-text">\(e^7\)</div></label>
            </div>
            <div class="step-fb" id="fb-q6s3"></div>
          </div>
        </div>
      </div>

      <div class="q-card" id="q7">
        <div class="q-meta"><span class="q-badge">Q7</span> <span class="q-title">Common Logarithm</span></div>
        <div class="prompt">Evaluate \(\log(1000)\).</div>
        <div class="step-container">
          <div class="step">
            <span class="step-label">Step 1: Reasoning</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q7s1" value="A" onchange="check(this)"><div class="opt-text">When no base is written, the base is assumed to be 1.</div></label>
              <label class="opt"><input type="radio" name="q7s1" value="B" onchange="check(this)"><div class="opt-text">When no base is written, the base is assumed to be 10.</div></label>
            </div>
            <div class="step-fb" id="fb-q7s1"></div>
          </div>
          <div class="step">
            <span class="step-label">Step 2: Rule</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q7s2" value="A" onchange="check(this)"><div class="opt-text">\(10 \times 100 = 1000\)</div></label>
              <label class="opt"><input type="radio" name="q7s2" value="B" onchange="check(this)"><div class="opt-text">\(10^3 = 1000\)</div></label>
            </div>
            <div class="step-fb" id="fb-q7s2"></div>
          </div>
          <div class="step">
            <span class="step-label">Step 3: Answer</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q7s3" value="A" onchange="check(this)"><div class="opt-text">3</div></label>
              <label class="opt"><input type="radio" name="q7s3" value="B" onchange="check(this)"><div class="opt-text">100</div></label>
            </div>
            <div class="step-fb" id="fb-q7s3"></div>
          </div>
        </div>
      </div>

      <div class="q-card" id="q8">
        <div class="q-meta"><span class="q-badge">Q8</span> <span class="q-title">Change of Base</span></div>
        <div class="prompt">Rewrite \(\log_5(20)\) using natural logs.</div>
        <div class="step-container">
          <div class="step">
            <span class="step-label">Step 1: Reasoning</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q8s1" value="A" onchange="check(this)"><div class="opt-text">We can convert any log base by dividing the log of the argument by the log of the old base.</div></label>
              <label class="opt"><input type="radio" name="q8s1" value="B" onchange="check(this)"><div class="opt-text">We subtract the log of the base from the log of the argument.</div></label>
            </div>
            <div class="step-fb" id="fb-q8s1"></div>
          </div>
          <div class="step">
            <span class="step-label">Step 2: Rule</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q8s2" value="A" onchange="check(this)"><div class="opt-text">\(\log_b(x) = \frac{\ln b}{\ln x}\)</div></label>
              <label class="opt"><input type="radio" name="q8s2" value="B" onchange="check(this)"><div class="opt-text">\(\log_b(x) = \frac{\ln x}{\ln b}\)</div></label>
            </div>
            <div class="step-fb" id="fb-q8s2"></div>
          </div>
          <div class="step">
            <span class="step-label">Step 3: Answer</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q8s3" value="A" onchange="check(this)"><div class="opt-text">\(\frac{\ln 20}{\ln 5}\)</div></label>
              <label class="opt"><input type="radio" name="q8s3" value="B" onchange="check(this)"><div class="opt-text">\(\frac{\ln 5}{\ln 20}\)</div></label>
            </div>
            <div class="step-fb" id="fb-q8s3"></div>
          </div>
        </div>
      </div>

      <div class="q-card" id="q9">
        <div class="q-meta"><span class="q-badge">Q9</span> <span class="q-title">Complex Expansion</span></div>
        <div class="prompt">Expand \(\log_b(a^2 / c)\).</div>
        <div class="step-container">
          <div class="step">
            <span class="step-label">Step 1: Reasoning</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q9s1" value="A" onchange="check(this)"><div class="opt-text">Apply Quotient Property first (division becomes subtraction), then Power Property.</div></label>
              <label class="opt"><input type="radio" name="q9s1" value="B" onchange="check(this)"><div class="opt-text">Apply Power Property first to everything inside.</div></label>
            </div>
            <div class="step-fb" id="fb-q9s1"></div>
          </div>
          <div class="step">
            <span class="step-label">Step 2: Rule</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q9s2" value="A" onchange="check(this)"><div class="opt-text">\(\log_b(a^2) - \log_b(c) \to 2\log_b(a) - \log_b(c)\)</div></label>
              <label class="opt"><input type="radio" name="q9s2" value="B" onchange="check(this)"><div class="opt-text">\(\log_b(a^2) + \log_b(c) \to 2\log_b(a) + \log_b(c)\)</div></label>
            </div>
            <div class="step-fb" id="fb-q9s2"></div>
          </div>
          <div class="step">
            <span class="step-label">Step 3: Answer</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q9s3" value="A" onchange="check(this)"><div class="opt-text">\(\frac{2\log_b(a)}{\log_b(c)}\)</div></label>
              <label class="opt"><input type="radio" name="q9s3" value="B" onchange="check(this)"><div class="opt-text">\(2\log_b(a) - \log_b(c)\)</div></label>
            </div>
            <div class="step-fb" id="fb-q9s3"></div>
          </div>
        </div>
      </div>

      <div class="q-card" id="q10">
        <div class="q-meta"><span class="q-badge">Q10</span> <span class="q-title">Domain of Logarithm</span></div>
        <div class="prompt">What is the domain of \(y = \log_b(x)\)?</div>
        <div class="step-container">
          <div class="step">
            <span class="step-label">Step 1: Reasoning</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q10s1" value="A" onchange="check(this)"><div class="opt-text">Logs are like square roots; you can include 0 but not negatives.</div></label>
              <label class="opt"><input type="radio" name="q10s1" value="B" onchange="check(this)"><div class="opt-text">You can raise a positive base to any power, but the result is always positive. You cannot get 0 or negative numbers.</div></label>
            </div>
            <div class="step-fb" id="fb-q10s1"></div>
          </div>
          <div class="step">
            <span class="step-label">Step 2: Rule</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q10s2" value="A" onchange="check(this)"><div class="opt-text">Argument \( > 0 \)</div></label>
              <label class="opt"><input type="radio" name="q10s2" value="B" onchange="check(this)"><div class="opt-text">Argument \( \ge 0 \)</div></label>
            </div>
            <div class="step-fb" id="fb-q10s2"></div>
          </div>
          <div class="step">
            <span class="step-label">Step 3: Answer</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q10s3" value="A" onchange="check(this)"><div class="opt-text">\((0, \infty)\)</div></label>
              <label class="opt"><input type="radio" name="q10s3" value="B" onchange="check(this)"><div class="opt-text">\([0, \infty)\)</div></label>
            </div>
            <div class="step-fb" id="fb-q10s3"></div>
          </div>
        </div>
      </div>

      <div class="q-card" id="q11">
        <div class="q-meta"><span class="q-badge">Q11</span> <span class="q-title">Log of 1</span></div>
        <div class="prompt">Evaluate \(\log_b(1)\) for any \(b > 0, b \ne 1\).</div>
        <div class="step-container">
          <div class="step">
            <span class="step-label">Step 1: Reasoning</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q11s1" value="A" onchange="check(this)"><div class="opt-text">Any non-zero base raised to the power of 0 equals 1.</div></label>
              <label class="opt"><input type="radio" name="q11s1" value="B" onchange="check(this)"><div class="opt-text">Any base raised to the power of 1 equals itself.</div></label>
            </div>
            <div class="step-fb" id="fb-q11s1"></div>
          </div>
          <div class="step">
            <span class="step-label">Step 2: Rule</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q11s2" value="A" onchange="check(this)"><div class="opt-text">\(b^1 = b\)</div></label>
              <label class="opt"><input type="radio" name="q11s2" value="B" onchange="check(this)"><div class="opt-text">\(b^0 = 1\)</div></label>
            </div>
            <div class="step-fb" id="fb-q11s2"></div>
          </div>
          <div class="step">
            <span class="step-label">Step 3: Answer</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q11s3" value="A" onchange="check(this)"><div class="opt-text">0</div></label>
              <label class="opt"><input type="radio" name="q11s3" value="B" onchange="check(this)"><div class="opt-text">1</div></label>
            </div>
            <div class="step-fb" id="fb-q11s3"></div>
          </div>
        </div>
      </div>

      <div class="q-card" id="q12">
        <div class="q-meta"><span class="q-badge">Q12</span> <span class="q-title">Inverse Property</span></div>
        <div class="prompt">Simplify \(3^{\log_3(x)}\).</div>
        <div class="step-container">
          <div class="step">
            <span class="step-label">Step 1: Reasoning</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q12s1" value="A" onchange="check(this)"><div class="opt-text">Exponentiation and Logarithms of the same base are inverse operations that undo each other.</div></label>
              <label class="opt"><input type="radio" name="q12s1" value="B" onchange="check(this)"><div class="opt-text">The log cancels the base only if the base is 10.</div></label>
            </div>
            <div class="step-fb" id="fb-q12s1"></div>
          </div>
          <div class="step">
            <span class="step-label">Step 2: Rule</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q12s2" value="A" onchange="check(this)"><div class="opt-text">\(b^{\log_b x} = 1\)</div></label>
              <label class="opt"><input type="radio" name="q12s2" value="B" onchange="check(this)"><div class="opt-text">\(b^{\log_b x} = x\)</div></label>
            </div>
            <div class="step-fb" id="fb-q12s2"></div>
          </div>
          <div class="step">
            <span class="step-label">Step 3: Answer</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q12s3" value="A" onchange="check(this)"><div class="opt-text">\(x\)</div></label>
              <label class="opt"><input type="radio" name="q12s3" value="B" onchange="check(this)"><div class="opt-text">3</div></label>
            </div>
            <div class="step-fb" id="fb-q12s3"></div>
          </div>
        </div>
      </div>

      <div class="q-card" id="q13">
        <div class="q-meta"><span class="q-badge">Q13</span> <span class="q-title">Solving Exponential Equations</span></div>
        <div class="prompt">Solve \(2^x = 7\) for \(x\).</div>
        <div class="step-container">
          <div class="step">
            <span class="step-label">Step 1: Reasoning</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q13s1" value="A" onchange="check(this)"><div class="opt-text">Convert the exponential form into logarithmic form to isolate x.</div></label>
              <label class="opt"><input type="radio" name="q13s1" value="B" onchange="check(this)"><div class="opt-text">Divide both sides by 2 to isolate x.</div></label>
            </div>
            <div class="step-fb" id="fb-q13s1"></div>
          </div>
          <div class="step">
            <span class="step-label">Step 2: Rule</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q13s2" value="A" onchange="check(this)"><div class="opt-text">\(x = \log_2(7)\)</div></label>
              <label class="opt"><input type="radio" name="q13s2" value="B" onchange="check(this)"><div class="opt-text">\(x = \sqrt{7}\)</div></label>
            </div>
            <div class="step-fb" id="fb-q13s2"></div>
          </div>
          <div class="step">
            <span class="step-label">Step 3: Answer</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q13s3" value="A" onchange="check(this)"><div class="opt-text">3.5</div></label>
              <label class="opt"><input type="radio" name="q13s3" value="B" onchange="check(this)"><div class="opt-text">\(\log_2(7)\)</div></label>
            </div>
            <div class="step-fb" id="fb-q13s3"></div>
          </div>
        </div>
      </div>

      <div class="q-card" id="q14">
        <div class="q-meta"><span class="q-badge">Q14</span> <span class="q-title">Graphing Features</span></div>
        <div class="prompt">Identify the Vertical Asymptote of \(y = \log_2(x)\).</div>
        <div class="step-container">
          <div class="step">
            <span class="step-label">Step 1: Reasoning</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q14s1" value="A" onchange="check(this)"><div class="opt-text">The logarithm graph flattens out horizontally as x gets large.</div></label>
              <label class="opt"><input type="radio" name="q14s1" value="B" onchange="check(this)"><div class="opt-text">The logarithm is undefined at 0 and negatives, creating a boundary at 0.</div></label>
            </div>
            <div class="step-fb" id="fb-q14s1"></div>
          </div>
          <div class="step">
            <span class="step-label">Step 2: Rule</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q14s2" value="A" onchange="check(this)"><div class="opt-text">Set Argument \(y = 0\)</div></label>
              <label class="opt"><input type="radio" name="q14s2" value="B" onchange="check(this)"><div class="opt-text">Set Argument \(x = 0\)</div></label>
            </div>
            <div class="step-fb" id="fb-q14s2"></div>
          </div>
          <div class="step">
            <span class="step-label">Step 3: Answer</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q14s3" value="A" onchange="check(this)"><div class="opt-text">\(x = 0\)</div></label>
              <label class="opt"><input type="radio" name="q14s3" value="B" onchange="check(this)"><div class="opt-text">\(y = 0\)</div></label>
            </div>
            <div class="step-fb" id="fb-q14s3"></div>
          </div>
        </div>
      </div>

      <div class="q-card" id="q15">
        <div class="q-meta"><span class="q-badge">Q15</span> <span class="q-title">Transformations</span></div>
        <div class="prompt">How does \(y = \log_b(x - 3)\) differ from \(y = \log_b(x)\)?</div>
        <div class="step-container">
          <div class="step">
            <span class="step-label">Step 1: Reasoning</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q15s1" value="A" onchange="check(this)"><div class="opt-text">Subtraction inside the function parentheses is a horizontal shift to the Right.</div></label>
              <label class="opt"><input type="radio" name="q15s1" value="B" onchange="check(this)"><div class="opt-text">Subtraction inside the function parentheses is a horizontal shift to the Left.</div></label>
            </div>
            <div class="step-fb" id="fb-q15s1"></div>
          </div>
          <div class="step">
            <span class="step-label">Step 2: Rule</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q15s2" value="A" onchange="check(this)"><div class="opt-text">New Intercept: \(y = -3\)</div></label>
              <label class="opt"><input type="radio" name="q15s2" value="B" onchange="check(this)"><div class="opt-text">New Asymptote: \(x - 3 = 0\)</div></label>
            </div>
            <div class="step-fb" id="fb-q15s2"></div>
          </div>
          <div class="step">
            <span class="step-label">Step 3: Answer</span>
            <div class="opts">
              <label class="opt"><input type="radio" name="q15s3" value="A" onchange="check(this)"><div class="opt-text">Shift Left 3</div></label>
              <label class="opt"><input type="radio" name="q15s3" value="B" onchange="check(this)"><div class="opt-text">Shift Right 3</div></label>
            </div>
            <div class="step-fb" id="fb-q15s3"></div>
          </div>
        </div>
      </div>

      <div class="q-card" id="q16">
        <div class="q-meta"><span class="q-badge">Q16</span> <span class="q-title">Log Calibrator (Graded)</span></div>
        
        <div class="lab-box">
          <div class="lab-header">
            <span>Logarithm Engine</span>
            <span>Target Output: 3</span>
          </div>
          <div class="lab-body">
            <div class="lab-ui">
              <p style="font-size:14px; margin:0 0 16px;">
                Find a Base \(b\) and Argument \(x\) such that \(\log_b(x) = 3\).
              </p>
              
              <div style="background:#f1f5f9; padding:15px; border-radius:8px;">
                <label style="font-size:12px; font-weight:700; color:#64748b; text-transform:uppercase;">Select Base (b)</label>
                <select id="simB" class="select-box">
                  <option value="null" selected disabled>-- Select Base --</option>
                  <option value="2">b = 2</option>
                  <option value="3">b = 3</option>
                  <option value="5">b = 5</option>
                </select>

                <div style="height:10px;"></div>

                <label style="font-size:12px; font-weight:700; color:#64748b; text-transform:uppercase;">Select Argument (x)</label>
                <select id="simX" class="select-box">
                  <option value="null" selected disabled>-- Select Argument --</option>
                  <option value="8">x = 8</option>
                  <option value="9">x = 9</option>
                  <option value="27">x = 27</option>
                  <option value="125">x = 125</option>
                </select>
                <div class="sim-status" id="simStatus">Pending...</div>
              </div>
            </div>
            
            <div class="display-wrapper">
              <div class="math-big" id="mathDisplay">\(\log_b(x) = ?\)</div>
              <div class="result-big" id="resultDisplay">--</div>
            </div>
          </div>
        </div>
      </div>

    </main>
  </div>

  <script>
    // --- GRADING KEY ---
    // Matches the visual order in the HTML above
    // A = First Option, B = Second Option
    const KEY = {
      q1s1: "A", q1s2: "A", q1s3: "B", // Def
      q2s1: "B", q2s2: "A", q2s3: "B", // Eval
      q3s1: "A", q3s2: "B", q3s3: "A", // Product
      q4s1: "B", q4s2: "A", q4s3: "B", // Quotient
      q5s1: "A", q5s2: "B", q5s3: "B", // Power
      q6s1: "B", q6s2: "A", q6s3: "A", // Natural
      q7s1: "B", q7s2: "B", q7s3: "A", // Common
      q8s1: "A", q8s2: "B", q8s3: "A", // ChangeBase
      q9s1: "A", q9s2: "A", q9s3: "B", // Expand
      q10s1: "B", q10s2: "A", q10s3: "A", // Domain
      q11s1: "A", q11s2: "B", q11s3: "A", // Log 1
      q12s1: "A", q12s2: "B", q12s3: "A", // Inverse
      q13s1: "A", q13s2: "A", q13s3: "B", // Solve
      q14s1: "B", q14s2: "B", q14s3: "A", // Asymp
      q15s1: "A", q15s2: "B", q15s3: "B"  // Trans
    };

    const FEEDBACK_MSG = {
      q1s1: "Correct! Logarithms isolate exponents.",
      q1s2: "Correct! Standard definition: Base^Exponent = Argument.",
      q1s3: "Correct! 5 cubed is 125.",
      q2s1: "Correct! We want the exponent.",
      q2s2: "Correct! 2 to what power is 32?",
      q2s3: "Correct! 2^5 = 32.",
      q3s1: "Correct! Multiplying bases adds exponents.",
      q3s2: "Correct! log(xy) = log x + log y.",
      q3s3: "Correct! Addition outside.",
      q4s1: "Correct! Subtracting exponents means division.",
      q4s2: "Correct! log(x/y) = log x - log y.",
      q4s3: "Correct! Subtraction becomes division.",
      q5s1: "Correct! Powers become coefficients.",
      q5s2: "Correct! n drops down to front.",
      q5s3: "Correct! 5 moves to front.",
      q6s1: "Correct! Base e inverses.",
      q6s2: "Correct! Identity property.",
      q6s3: "Correct! ln and e cancel: ln(e^7) = 7.",
      q7s1: "Correct! Common log is base 10.",
      q7s2: "Correct! 10 cubed is 1000.",
      q7s3: "Correct! 10^3.",
      q8s1: "Correct! Log of arg divided by log of old base.",
      q8s2: "Correct! Standard formula.",
      q8s3: "Correct! ln(20)/ln(5).",
      q9s1: "Correct! Quotient first, then Power.",
      q9s2: "Correct! Division -> Subtraction.",
      q9s3: "Correct! 2 comes down.",
      q10s1: "Correct! Base^y is never 0 or negative.",
      q10s2: "Correct! Input must be positive.",
      q10s3: "Correct! (0, infinity).",
      q11s1: "Correct! Zero exponent rule.",
      q11s2: "Correct! b^0 = 1.",
      q11s3: "Correct! 0.",
      q12s1: "Correct! Inverse operations.",
      q12s2: "Correct! They cancel out.",
      q12s3: "Correct! Leaves just x.",
      q13s1: "Correct! Log form isolates exponent.",
      q13s2: "Correct! log_2(7).",
      q13s3: "Correct! That is the exact value.",
      q14s1: "Correct! Boundary at 0.",
      q14s2: "Correct! Set argument to 0.",
      q14s3: "Correct! x=0 is the line.",
      q15s1: "Correct! x-3 is Right.",
      q15s2: "Correct! Asymptote moves to 3.",
      q15s3: "Correct! Right 3."
    };

    function check(input) {
      const qID = input.name; 
      const parentStep = input.closest('.step');
      const fbBox = parentStep.querySelector('.step-fb');
      
      parentStep.querySelectorAll('label.opt').forEach(l => {
        l.classList.remove('selected-correct', 'selected-wrong');
      });

      const isCorrect = (input.value === KEY[qID]);
      const label = input.closest('label.opt');

      if(isCorrect) {
        label.classList.add('selected-correct');
        fbBox.innerHTML = `✅ ${FEEDBACK_MSG[qID]}`;
        fbBox.className = "step-fb show correct";
      } else {
        label.classList.add('selected-wrong');
        fbBox.innerHTML = `❌ Incorrect. Re-read the property rule.`;
        fbBox.className = "step-fb show wrong";
      }

      updateStats();
    }

    function updateStats(){
      // Count Correct Answers
      let correctCount = 0;
      for (const [key, val] of Object.entries(KEY)) {
        const el = document.querySelector(`input[name="${key}"]:checked`);
        if(el && el.value === val) correctCount++;
      }
      
      const count = document.querySelectorAll('input[type="radio"]:checked').length;
      document.getElementById('ui-answered').innerText = count + "/45";
      
      // Calculate Accuracy (Based on Total 45)
      const accuracy = Math.round((correctCount / 45) * 100);
      document.getElementById('ui-score').innerText = accuracy + "% Mastery";
    }

    // --- SIMULATION ---
    function renderSim(){
      const b = document.getElementById('simB').value;
      const x = document.getElementById('simX').value;
      const display = document.getElementById('mathDisplay');
      const result = document.getElementById('resultDisplay');
      const status = document.getElementById('simStatus');
      const labStatus = document.getElementById('ui-lab');

      if(b === "null" || x === "null") {
        display.innerHTML = "\\(\\log_b(x) = ?\\)";
        result.innerText = "--";
        status.innerText = "Select parameters...";
        if(window.MathJax) MathJax.typesetPromise();
        return;
      }

      display.innerHTML = `\\(\\log_{${b}}(${x}) = ?\\)`;
      if(window.MathJax) MathJax.typesetPromise();

      let val = Math.log(x) / Math.log(b);
      if(Math.abs(val - Math.round(val)) < 0.0001) val = Math.round(val);
      else val = val.toFixed(2);

      result.innerText = val;

      if(val == 3){
        status.innerHTML = "<span style='color:#16a34a'>Target Hit! ✅</span>";
        labStatus.textContent = "Success";
        labStatus.classList.add('done');
      } else {
        status.innerHTML = "<span style='color:#64748b'>Target not met.</span>";
        labStatus.textContent = "Pending";
        labStatus.classList.remove('done');
      }
    }

    document.getElementById('simB').addEventListener('change', renderSim);
    document.getElementById('simX').addEventListener('change', renderSim);

    function resetQuiz(){
      document.querySelectorAll('input[type="radio"]').forEach(r => {
        r.checked = false;
        r.closest('label').classList.remove('selected-correct', 'selected-wrong');
      });
      document.querySelectorAll('.step-fb').forEach(d => d.className = 'step-fb');
      document.getElementById('simB').selectedIndex = 0;
      document.getElementById('simX').selectedIndex = 0;
      document.getElementById('ui-lab').textContent = "Pending";
      document.getElementById('ui-lab').classList.remove('done');
      updateStats();
      renderSim();
      window.scrollTo({top:0, behavior:'smooth'});
    }
  </script>
</body>
</html>
