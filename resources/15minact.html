<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complex Numbers Drill</title>
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
    <script type="text/javascript" id="MathJax-script" async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
    </script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f4f7f9;
            color: #333;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 1rem;
        }
        .quiz-container {
            background-color: #fff;
            padding: 2rem 3rem;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 800px;
            text-align: center;
        }
        h1, h2 {
            color: #2c3e50;
        }
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2rem;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            margin-top: 1rem;
        }
        button:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
        }
        #timer {
            font-size: 1.5rem;
            font-weight: bold;
            color: #e74c3c;
            padding: 10px;
            background-color: #f1f1f1;
            border-radius: 8px;
            margin-bottom: 1.5rem;
        }
        .question {
            text-align: left;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #eee;
        }
        .question p {
            font-size: 1.2rem;
            font-weight: 500;
            margin-bottom: 1rem;
        }
        .options div {
            margin-bottom: 0.75rem;
            font-size: 1.1rem;
        }
        .options label {
            margin-left: 10px;
            cursor: pointer;
        }
        /* Results Styling */
        #results-screen h2 {
            margin-bottom: 1rem;
        }
        #score {
            font-size: 1.8rem;
            font-weight: bold;
            color: #27ae60;
            margin-bottom: 2rem;
        }
        .answer-card {
            text-align: left;
            margin-bottom: 1rem;
            padding: 1rem;
            border-radius: 8px;
        }
        .answer-card.correct {
            background-color: #e8f5e9; /* Light green */
            border-left: 5px solid #4caf50; /* Green */
        }
        .answer-card.incorrect {
            background-color: #ffebee; /* Light red */
            border-left: 5px solid #f44336; /* Red */
        }
        .answer-card p {
            margin: 0.5rem 0;
        }
        .answer-card .correct-answer {
            font-weight: bold;
            color: #388e3c;
        }
    </style>
</head>
<body>

<div class="quiz-container" id="start-screen">
    <h1>Complex Numbers Drill</h1>
    <p>You have <strong>15 minutes</strong> to answer <strong>15 questions</strong>.</p>
    <p>This quiz tests your fluency with complex number foundations and operations.</p>
    <button id="start-btn">Start Quiz</button>
</div>

<div class="quiz-container" id="quiz-screen" style="display:none;">
    <div id="timer">15:00</div>
    <form id="quiz-form">
        <div id="questions-container"></div>
        <button type="button" id="submit-btn">Submit Quiz</button>
    </form>
</div>

<div class="quiz-container" id="results-screen" style="display:none;">
    <h2>Quiz Results</h2>
    <p id="score"></p>
    <div id="answers-container"></div>
</div>

<script>
    const startBtn = document.getElementById('start-btn');
    const submitBtn = document.getElementById('submit-btn');
    const startScreen = document.getElementById('start-screen');
    const quizScreen = document.getElementById('quiz-screen');
    const resultsScreen = document.getElementById('results-screen');
    const timerDisplay = document.getElementById('timer');
    const questionsContainer = document.getElementById('questions-container');
    const scoreDisplay = document.getElementById('score');
    const answersContainer = document.getElementById('answers-container');

    let timer;
    let timeLeft = 15 * 60; // 15 minutes in seconds

    const quizData = [
        {
            question: "What is the distance from the origin to the point representing $5 - 12i$ in the complex plane?",
            options: ["7", "13", "17", "169"],
            answer: "13"
        },
        {
            question: "Simplify the product: $(3 - 2i)(4 + i)$.",
            options: ["$10 - 5i$", "$12 - 2i^2$", "$14 - 5i$", "$14 + 11i$"],
            answer: "$14 - 5i$"
        },
        {
            question: "Evaluate: $i^{101}$.",
            options: ["$1$", "$-1$", "$i$", "$-i$"],
            answer: "$i$"
        },
        {
            question: "What is the complex conjugate of $-4 + 7i$?",
            options: ["$-4 - 7i$", "$4 - 7i$", "$4 + 7i$", "$7 - 4i$"],
            answer: "$-4 - 7i$"
        },
        {
            question: "Simplify the expression: $\\frac{10}{2 - i}$.",
            options: ["$4 - 2i$", "$4 + 2i$", "$10 + 5i$", "$2 + 4i$"],
            answer: "$4 + 2i$"
        },
        {
            question: "A polynomial with real coefficients has a root $2 + 5i$. Which of the following must also be a root?",
            options: ["$-2 - 5i$", "$-2 + 5i$", "$2 - 5i$", "$5 + 2i$"],
            answer: "$2 - 5i$"
        },
        {
            question: "Solve the equation $x^2 + 9 = 0$ for all complex solutions.",
            options: ["$x = 3$", "$x = 3, -3$", "$x = 3i$", "$x = 3i, -3i$"],
            answer: "$x = 3i, -3i$"
        },
        {
            question: "If the distance of a complex number $z$ from the origin is 0, what must be true about $z$?",
            options: ["$z$ is a real number", "$z$ is a pure imaginary number", "$z=0$", "$z=1$"],
            answer: "$z=0$"
        },
        {
            question: "Find the real numbers $x$ and $y$ such that $(x + yi) + (3 - 4i) = 7 - i$.",
            options: ["$x=4, y=3$", "$x=10, y=-5$", "$x=4, y=5$", "$x=7, y=1$"],
            answer: "$x=4, y=3$"
        },
        {
            question: "What is the value of $i^2 + i^4$?",
            options: ["$0$", "$2$", "$-2$", "$-1+i$"],
            answer: "$0$"
        },
        {
            question: "Factor the expression $x^2 + 100$ completely over the complex numbers.",
            options: ["$(x+10)(x-10)$", "Not factorable", "$(x+10i)(x-10i)$", "$(x+10i)^2$"],
            answer: "$(x+10i)(x-10i)$"
        },
        {
            question: "What is the value of $(2 - i)^2$?",
            options: ["$3$", "$5$", "$3 - 4i$", "$5 - 4i$"],
            answer: "$3 - 4i$"
        },
        {
            question: "Which of the following numbers is both a real number and a pure imaginary number?",
            options: ["$1$", "$i$", "$1+i$", "$0$"],
            answer: "$0$"
        },
        {
            question: "(Review) What is the vertex of the parabola given by the equation $y = x^2 - 8x + 10$?",
            options: ["$(4, -6)$", "$(-4, 58)$", "$(8, 10)$", "$(4, -22)$"],
            answer: "$(4, -6)$"
        },
        {
            question: "The product of a complex number $z = a+bi$ and its conjugate is always equal to...",
            options: ["$a^2 - b^2$", "$2a$", "A complex number", "$a^2 + b^2$"],
            answer: "$a^2 + b^2$"
        }
    ];

    function startTimer() {
        timer = setInterval(() => {
            timeLeft--;
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerDisplay.textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;

            if (timeLeft <= 0) {
                clearInterval(timer);
                submitQuiz();
            }
        }, 1000);
    }

    function displayQuiz() {
        quizData.forEach((item, index) => {
            const questionDiv = document.createElement('div');
            questionDiv.className = 'question';

            const questionText = document.createElement('p');
            questionText.innerHTML = `${index + 1}. ${item.question}`;
            questionDiv.appendChild(questionText);

            const optionsDiv = document.createElement('div');
            optionsDiv.className = 'options';

            item.options.forEach(option => {
                const optionWrapper = document.createElement('div');
                const radioBtn = document.createElement('input');
                radioBtn.type = 'radio';
                radioBtn.name = `question${index}`;
                radioBtn.value = option;
                radioBtn.id = `q${index}o${option}`;

                const label = document.createElement('label');
                label.htmlFor = `q${index}o${option}`;
                label.textContent = ` ${option}`;

                optionWrapper.appendChild(radioBtn);
                optionWrapper.appendChild(label);
                optionsDiv.appendChild(optionWrapper);
            });

            questionDiv.appendChild(optionsDiv);
            questionsContainer.appendChild(questionDiv);
        });
        MathJax.typeset(); // Re-render LaTeX after adding questions
    }
    
    function submitQuiz() {
        clearInterval(timer);
        quizScreen.style.display = 'none';
        resultsScreen.style.display = 'block';

        let score = 0;
        const form = document.getElementById('quiz-form');

        quizData.forEach((item, index) => {
            const selectedOption = form.querySelector(`input[name="question${index}"]:checked`);
            const userAnswer = selectedOption ? selectedOption.value : "No answer";

            const answerCard = document.createElement('div');
            answerCard.className = 'answer-card';

            const questionText = `<p><b>Question ${index + 1}:</b> ${item.question}</p>`;
            const userAnswerText = `<p>Your answer: ${userAnswer}</p>`;
            const correctAnswerText = `<p class="correct-answer">Correct answer: ${item.answer}</p>`;

            if (userAnswer === item.answer) {
                score++;
                answerCard.classList.add('correct');
                answerCard.innerHTML = questionText + userAnswerText;
            } else {
                answerCard.classList.add('incorrect');
                answerCard.innerHTML = questionText + userAnswerText + correctAnswerText;
            }
            answersContainer.appendChild(answerCard);
        });

        scoreDisplay.textContent = `Your Score: ${score} out of ${quizData.length}`;
        MathJax.typeset(); // Re-render LaTeX in results
    }


    startBtn.addEventListener('click', () => {
        startScreen.style.display = 'none';
        quizScreen.style.display = 'block';
        displayQuiz();
        startTimer();
    });

    submitBtn.addEventListener('click', submitQuiz);

</script>

</body>
</html>
